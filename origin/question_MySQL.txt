MYSQL 良質の ものでございますか。
mySQLをphpで操作していてエラーが出ます。 一体何が問題なのかわからなくて困っています。PDOを使用しており $name = 'neko'; $small_time = '2014-11-10 00:00:00'; $large_time = '2014-11-13 00:00:00'; $sql = "SELECT block_hight FROM memo_db" ."WHERE ( name = :name ) AND ( i_date BETWEEN :front AND :back )" ."ORDER BY i_date DESC"; $stmh = $pdo ->prepare($sql); $stmh ->bindParam(':name', $name, PDO::PARAM_STR); $stmh ->bindParam(':front', $small_time, PDO::PARAM_STR); $stmh ->bindParam(':back', $large_time, PDO::PARAM_STR); $stmh ->execute(); 以上のようなSQL文を書きましたが”SQLSTATE[42000]: Syntax error or access violation”となってしまいます。( name = ? ) AND ( i_date BETWEEN ? AND ? )ORDER BY i_date DESCの近くにあるとエラーメッセージが返ってきますが間違いを特定できませんでした。 実際に:name,:front,:backを'neko','2014-11-10 00:00:00','2014-11-13 00:00:00'に置き換えてコマンドラインで打ってみると912 rows in set (0.02 sec)と返ってきます。 何かわかる方、宜しくお願いいたします。
MYSQL 便利でございますか。
MySQLで質問です。 ２つの列の値が同じ場合、同じ値を新しい列として、後付で追加することは可能でしょうか？http://detail.chiebukuro.yahoo.co.jp/qa/question_detail/q1416276025... （上記のご回答をいただき、試してみましたが、結合等が多いSQL文で、どうもうまくいかず、後付で列を追加する方法を模索しております。） ■処理前のテーブル ID | name | ----------- 01 | taro | 01 | taro | 01 | jiro | 01 | jiro | 02 | sabu | 02 | sabu | 02 | yonn | 03 | goro | 03 | roku | ■下記が理想です。 ID | name | number（追加する行） ------------------- 01 | taro | 1 01 | taro | 1 01 | jiro | 2 01 | jiro | 2 02 | sabu | 3 02 | sabu | 3 02 | yonn | 4 03 | goro | 5 03 | roku | 6 初心者で恐縮ですが、アドバイスだけでもいただけましたら幸いです。 何卒よろしくお願いいたします。
MYSQL いいとおもいますか。
MYSQL 重要でございますか。
【SQL】日ごとの30日間の出荷数を出力したい。 date, productのようなカラムがあり、日ごとの過去一ヶ月間（30日間)の出荷数を出したいです。date count(product) 2016-01-01 XXX(2016-01-01～2015-12-01の出荷数） 2016-01-02 XXX(2016-01-02～2015-12-02の出荷数） . . . . SQLはMySQLです。 ご教授お願いいたします
ITかあさん様のスクレイピング機能を利用した、サイトの構築をしておりますが、なかなかうまくいきません。・DBの設定 ・simplehtml_1_5のパスを繋ぐ設定 ・スクレイピング管理画面に必要なテーブルの自動生成 ・ファイルの書き込み権限に関する設定 『http://www.kaasan.info/archives/category/php%E3%82%B9%E3%82%AF%E3%8...』 こちらの内容の手順を踏まえてやりました。 管理画面まで行くことができました。URL一括登録・単発登録のボタンを押してもスムーズにいきます。 しかし、http://example.com/parth/sqls/がエラーになってしまいます。 一括スクレイピングもエラーがでてしまいます。 DB作りがうまくできてないのでしょうか。サーバーはminipopを使用しています。 初心者すぎて挫折寸前です。どなたかお知恵をお貸しください。よろしくお願いいたします。
昔oracleでインラインビューですかね、そんな感じの fromの行をselectでできる記憶があるのですが、 １ Oracleでは、このSQLは動きますか？select * from (select comment, time from test where time > 0 order by time desc) order by time asc; ２ 最新100件を昇順にして結果を返す select * from (select comment, time from test where time > 0 order by time desc limit 100) order by time asc; 2をMySQLで動かしたいのですがエラーが出ているようです。 どうすれば動くでしょうか？ mysql Ver 15.1 Distrib 10.1.8-MariaDB, for Win32 (AMD64)
PHPで質問です。try { $db = new PDO ( $dsn, $user, $password ); $db->setAttribute ( PDO::ATTR_EMULATE_PREPARES, false ); // プリペアドステートメントを作成 $stmt = $db->prepare ( " INSERT INTO bbs (name,title,body,date,pass) VALUES(:name, :title, :body, now(), :pass)" ); // パラメーターを割り当て $stmt->bindParam ( ':name', $name, PDO::PARAM_STR ); $stmt->bindParam ( ':title', $title, PDO::PARAM_STR ); $stmt->bindParam ( ':body', $body, PDO::PARAM_STR ); $stmt->bindParam ( ':pass', $pass, PDO::PARAM_STR ); // クエリの実行 $stmt->execute (); // bbs.phpに戻る header ( 'Location:bbs.php' ); exit (); } catch ( PDOException $e ) { die ( 'エラー' . $e->getMessage () ); } なぜdate、now()だけbindParamしないのでしょうか。
xamppインストール後、mysql(MariaDB)コマンドプロントでデータベース作成が出来ない。 xamppインストール直後に、ApacheとMysqlをStartに切り変えて、 コマンドプロントに直行して、 C:\xampp\mysql\bin\mysql.exe -uroot; （root直前の改行は意図的ではなく、知恵袋の仕様によるものです） でログイン後 MariaDB[(nene)]> と表示されて MariaDB[(nene)]>create database shop; と「create database shop;」を追記するのですが、 ERROR 1044 (42000): Access denied for user ''@'localhost' to database 'shop' と表示されて、作成することが出来ません。 前記していますが、xamppをインストールしてから、 ApacheとMysqlをStartに切り変えたら、コマンドプロントに直行しています。 rootでパスワードも設定していないので全ての権限を持っている筈なのですが・・・。 ApacheとMysqlをStartに切り変えて、ログインも出来ています、 必要の無い情報かもしれませんが、 show databases; と入力すると +_______________+ |Database | ＋---------------------+ |information_schema| |test | +----------------------+ 2rows in set (0.00 sec) と２つだけ表示される状態です。 因みに、phpmyadmin（白い画面）でデータベースを作成、ということは、望んでいないのです。 どうすればコマンドプロンプト（黒い画面）で、データベースを作成出来るようになるのでしょうか。 回答をお待ちしています、宜しくお願い致します。
MYSQL たいせつですか。
sqlについての質問です。学生が正解した数 問題に解答した学生の数 1200 3440 589 3440 340 3440 2445 3440 4333 3440 上記のような場合に学生が正解した数から問題に解答した学生の数を割って正答率を求めたいのですが、学生が正解した数、問題に解答した学生の数はそれぞれsqlで持ってきています。 どちらもcount関数で取得しているのですが、取得するからむが全く一緒です。 そもそもsqlで持ってきた値をsqlで持ってきた値で割る方法もよくわかってないのですが、この場合どのように書けばいいのでしょうか。 それぞれを持ってきたsqlは下記のものになります。 学生の正解数 select count(a.questionid) from studentanswer a, student b, question c where a.subjectid = 4 and lower(a.studentanswer) = c.correctanswer and a.questionid = c.questionid and a.studentid = b.studentid and a.subjectid = c.subjectid group by c.questionid, a.questionid order by a.questionid; 学生全ての数 select count(a.questionid) from studentanswer a, question b where a.questionid = b.questionid and a.subjectid = 4 group by a.questionid; 宜しくお願いいたします。
MYSQL 必要でございますか。
MYSQL 難しいとおもいますか。
以下のサイトの問23（データベース？の問題）なのですが 解説がないので解き方が分かりません。タプル数を求める？？問題からよくわかりません。教えて頂ければ幸いです。 よろしくお願いします。 https://www.engineer.or.jp/c_topics/001/attached/attach_1638_6.pdf
wordpressを運営する際には管理画面で操作するだけでも一通りできると思いますが、mysqlやwordpressをダウンロードして、ローカルな環境でファイル操作することで、何ができるんでしょうか？カスタマイズ全般ですか？ また、mysqlの知識はwordpressサイトを運営する際には、習得した方がいいでしょうか。 詳しい方、ご回答よろしくお願いいたします。
MySQL Workbench でのER図作成について データベースの理解を深めるために、MySQL Workbench を使い始めました。 ER図の解釈について誤りがないかを知りたいです。・リバースエンジニアリング 既存のDBデータからER図を作成する ・フォワードエンジニアリング ER図を元にしてデータベースに登録する データベース内のデータと、ER図自体は特に紐付いてはおらず、 お互い別々と認識してよろしいでしょうか？ あくまでお互いに『変換』できるという認識です。 また、Oracle など他の DB でも同じようなツールが存在するのでしょうか？
VisualStudio2015ExpressでMySQLを使うには？ﾃﾞｰﾀｿｰｽにMySQLの項目がないのですが 対応していないのでしょうか。 使用PC:win7,32bit mysql-connector-net-6.9.9.msi mysql-for-visualstudio-1.2.6.msi ｲﾝｽﾄｰﾙ済です
MYSQL いい感じですか。
MYSQL はすばらしいですか。
MYSQL GOODでございますか。
ウェブクロウと言うところで wordpress でブログを書いているのですが、 MySQLについて、(PHP・MySQLオプション: 1個※利用可能な容量は50MBまで)と記載がありました。wordpressはこのMySQLを利用しているのだと思いますが、 ブログを書くときに画像を多用すると、「50MBまで」という制限まで、すぐに達してしまうのですか？？ そもそも、「50MBに達しそうだ。」というのはどこを見ればいいのですか？ mysqlの管理画面のテーブルの一覧の下の方にある合計を見ればいいですか？
MYSQL すばらしいですか。
MySQLで、グループ化を解除せずに、ORDER BYで並べ替えをする方法はありますでしょうか？▼現状のテーブルです▼ ID | name | PRICE | time ------------------------ 01 | 一郎 | 1000 | NULL 02 | 二郎 | 1000 | 50 02 | 二子 | 100 | NULL 02 | 二子 | 100 | NULL 03 | 三郎 | 1000 | NULL 03 | 三子 | 1000 | 100 03 | 三子 | 1000 | NULL 03 | 三美 | 1000 | NULL IDとnameがグループでtimeが大きい順から表示させたいです。 その後はID順で表示をさせたいです。 ▼理想のテーブルです▼ ID | name | PRICE | time ------------------------ 03 | 三子 | 1000 | 100 03 | 三子 | 1000 | NULL 02 | 二郎 | 1000 | 50 01 | 一郎 | 1000 | NULL 02 | 二子 | 100 | NULL 02 | 二子 | 100 | NULL 03 | 三郎 | 1000 | NULL 03 | 三美 | 1000 | NULL GROUP BY ID,name ORDER BY time DESC, ID ASC ですと、 ID | name | PRICE | time ------------------------ 03 | 三子 | 1000 | 100 02 | 二郎 | 1000 | 50 01 | 一郎 | 1000 | NULL 02 | 二子 | 100 | NULL 02 | 二子 | 100 | NULL 03 | 三子 | 1000 | NULL ※←グループ化が解除されてしまいます。 03 | 三郎 | 1000 | NULL 03 | 三美 | 1000 | NULL グループ化を解除せずにSQLでtime順で表示させる方法はありますでしょうか？ それともプログラミングの方でいじるしかないでしょうか？ 初心者で申し訳ありませんが、ご回答、またはアドバイスだけでもいただければ幸いです。 何卒よろしくお願いいたします。
MYSQL いいと思いますか。
MYSQL 大切でございますか。
PHPでワード検索機能を作成しています。 上手く機能できません。何故でしょうか。 ワード検索のフォーム欄に英語を入力すると、 それに当てはまった英語の日本語と例文が表示されるようにしたいです。http://pastebin.com/pN7yVzhk http://i.imgur.com/BSvAXQ7.png http://i.imgur.com/VYeKHSh.png
MYSQL いいとおもいますか。
sqlでの問題 簡単なプログラミングなんですが教えて下さい nobel(yr, subject, winner) で中身には歴代ノーベルの情報が入ってます。年数、賞の名前、受賞者名 そこで Show the Physics winners for 1980 together with the Chemistry winners for 1984. という問題がありますが、自分なりにinとlikeを使ってみましたがどうもうまく行きません
MYSQL いいとおもいますか。
mac10.9.5でphpMyAdmin使用出来ますか？ また、どれを選択してどの様に入力し直すと使用出来る様になりますか？
MYSQL 重要でございますか。
ubuntu16.04でxampp(lampp)を使っています。何度か再インストールをしてmysqlをたちあげているんですが、 XAMPP: Starting Apache...ok. XAMPP: Starting MySQL...ok. XAMPP: Starting ProFTPD...ok. コマンド上では起動している。が、xamppのマウス操作で起動しようとすると起動してすぐランプが消える状態。 そしてリスタートをすると XAMPP: Stopping Apache...ok. XAMPP: Stopping MySQL...not running. XAMPP: Stopping ProFTPD...ok. XAMPP: Starting Apache...ok. XAMPP: Starting MySQL...ok. XAMPP: Starting ProFTPD...ok. になっています。起動していなかったということでしょうか。 そこから mysqlの接続すると ERROR 2002 (HY000): Can't connect to local MySQL server through socket '/opt/lampp/var/mysql/mysql.sock' (2 "No such file or directory") ソケットがありませんでよく見るこのエラーが出てきます。何度もこの場所にソケットファイルを置いたり、自動生成されるので置いてはダメと知り、ほったらかしにしたりしましたが、エラーの(2...)の部分が(111...)に変わるだけで何も進展はありませんでした。（この時点で起動していないと思います。） そこでエラーログを見てみると、(opt/lampp/logs/error_log) 起動をした時間で（lampp startした時間）５つのエラーメッセージが出ています。 [Wed Jul 20 21:56:14.001308 2016] [ssl:warn] [pid 9497] AH01906: www.example.com:443:0 server certificate is a CA certificate (BasicConstraints: CA == TRUE !?) ↑のはサーバー証明書が正しく設定されていないというエラーらしいのですがmysqlが起動できないのと関係あるのでしょうか。ちなみにapachは起動もしますしlocalhostでhtdocsのファイルもちゃんと表示されます。 [Wed Jul 20 21:56:13.003789 2016] [ssl:warn] [pid 9496] AH01909: www.example.com:443:0 server certificate does NOT include an ID which matches the server name ↑ssl? [Wed Jul 20 21:56:13.084442 2016] [auth_digest:notice] [pid 9497] AH01757: generating secret for digest authentication ... ↑? [Wed Jul 20 21:56:14.029776 2016] [mpm_prefork:notice] [pid 9497] AH00163: Apache/2.4.18 (Unix) OpenSSL/1.0.2h PHP/5.5.35 mod_perl/2.0.8-dev Perl/v5.16.3 configured -- resuming normal operations ↑ssl関係？apache? [Wed Jul 20 21:56:14.029809 2016] [core:notice] [pid 9497] AH00094: Command line: '/opt/lampp/bin/httpd -E /opt/lampp/logs/error_log -D SSL -D PHP' ↑ssl関係？ 起動コマンドを押した時間で５つのエラーメッセージが出てきました。（/bin/mysql -u root -pした時間ではありません）sslの文字が４つのメッセージに入っています。sslとmysqlは何か関係あるんでしょうか。。。 こんな感じでどうして起動できないのか分かりません 投げやりで申し訳ありませんが、原因が知りたいです。分かる方、何か知ってる方なんでもいいので教えてください。お願いします。
MySQLのGTIDのクラスタについて教えてください。MySQLのプライマリに障害が発生した場合、セカンダリをプライマリに昇格させることができると思いますが、セカンダリの後ろにセカンダリが設置してあった場合、そのセカンダリがプライマリに昇格してしまうのかわかりません。(セカンダリの後ろに設置したセカンダリがプライマリに昇格できないようにしたいのですが。) . ハードウェア構成: MySQLサーバプライマリがあり、MySQLサーバセカンダリ(slave)が2台あるとします。 MySQLサーバセカンダリのうち1台の後ろには、更にセカンダリがあります。 (添付した図のようなイメージ) ここでプライマリに障害が発生した場合、セカンダリの後ろのセカンダリはプライマリーに昇格する可能性があるのでしょうか？ それとも、セカンダリの後ろのセカンダリは、あくまで前のセカンダリのセカンダリで、プライマリに昇格しないのでしょうか？(してしまうのであれば、昇格させないようにするには、どうすればいいですか？) 初心者で、いろいろわからなくて困っています。 詳しい方、よろしくお願いいたします。
Mysql の質問です member テーブル +-----------+----------+------+--------| member_id | name | birth | +-----------+----------+------+------- | 1 | aaa | 1980-01-01 | | 2 | bbb | 1950-12-12 | | 3 | ccc | 1960-01-02 | | 4 | kkk | 2002-01-01 | +-----------+----------+------+------- ppp テーブル +----------+------------+ | ppp_id | notes | +----------+------------+ | 1 | h1 | 2 | h2 | 3 | h3 | ～～～～～ | 12 | h12 +----------+------------+ judge テーブル +----------+-----------+-------+---------+ | ppp_id | member_id | point | +----------+-----------+-------+---------+ | 1 | 1 | 78 | 2 | 2 | 50 | 3 | 3 | 99 | 1 | 2 | 86 | 1 | 4 | 22 | 12 | 3 | 23 | 6 | 4 | 1 | 7 | 2 | 100 | 5 | 2 | 40 | 8 | 1 | 88 | 2 | 2 | 60 | 4 | 3 | 20 | 11 | 1 | 33 | 3 | 3 | 36 | 4 | 1 | 64 | 5 | 2 | 90 | 3 | 2 | 1 | 9 | 2 | 44 | 6 | 1 | 77 | 8 | 4 | 81 | 2 | 3 | 45 | 11 | 1 | 12 | 9 | 4 | 67 | 4 | 2 | 99 +----------+-----------+-------+ このような三つのテーブルがあります。 ppp_id = 1 の judgeの内容を↓のように出すにはどうすればよいですか？ +-----------+----------+ | 年代 | 平均(judge.point) | +-----------+----------+ | 10 | ( ) | | 20 | ( ) | | 30 | ( ) | | 40 | ( ) | +-----------+----------+ ヒントか答えを教えてください。
トランザクションの問題の解き方が分からないので教えてください。https://www.engineer.or.jp/c_topics/002/attached/attach_2074_6.pdf の問16です。 T1：L[a]とL[b]があって T2:L[a]とL[b]がある。 ひょうにすると分かりやすいのか？とかいろいろ考えてみるのですが 糸口がつかめていない状況です。 よろしくお願いします。
MYSQL いいとおもいますか。
以下のテーブルを ID NAME SORT 1 aaa 5 2 bbb 4 3 aaa 2 4 bbb 1 `NAME` `SORT` 項目でソートID NAME SORT 3 aaa 2 1 aaa 5 4 bbb 1 2 bbb 4 下記の様に各`NAME`の2件目を取得したいのですが可能でしょうか？ ID NAME SORT 1 aaa 5 2 bbb 4 よろしくお願い致します。
mysqlに.sqlファイルをインポートする方法を教えて下さい。～～～～～～～～～～～～～～～～～～～ # # mysql -u ユーザー名 -p < sqlファイルパス # $ mysql -u hogeuser -p < testdb_hogetable.sql Enter password: パスワード入力 ～～～～～～～～～～～～～～～～～～～ 検索すると、上記のようなことをやると書かれています。 しかし、初心者なのでよくわかりません。 新しくDBを作って、ユーザーも追加している状態です。 phpMyAdminの中にあるインポートをやってみましたが、 エラーが出てしまいます。 わかりやすい説明をお願い致します。
phpMyadminのSQLでデータベースのデータを書き換えたり削除したりしているのですが、突然編集しようとしても「返り値が空でした (行数 0)。」と出て，できないのですが。 複数データを削除し続けた後になったのですが、何が原因なのでしょうか？？
MYSQL ひつようでございますか。
MySQLにAccess2016で接続しています。 複数名で操作する為、Accessでデータ追加していた時は競合を避ける為「オートナンバー」を使っていました。ですので、主キーフィールドの「ID」は新規レコード入力と同時に、フォーム上に表示されました。 しかし、今回MySQLに移行した為、MySQL側にはAUTO_INCREMENTを設定し、特に問題は無いのですが、、、 Accessフォーム上ではIDはリアルタイムでは表示されず、F5キー押など、更新しないとIDが表示されません。(いったん閉じるとか(笑)) どこかのタイミングでリクエリすれば良いのだと思いますが、Access→MySQL でどのタイミングでナンバリングされるか分かりません。 質問の意味が分からなかったら、説明不足で恐縮です。 分かる方がいらっしゃったらお教え頂けますでしょうか。 よろしくお願いします。
MYSQL 良質ですか。
カラムからの透明な流出物は、uv吸収をどのようにはかるのか教えてください。
クイックメールのようなサイトを個人で作ることはできますか？
androidアプリ開発に関する質問です。newsアプリや漫画アプリなどで 日付が変わると、一定の時間になると 情報が更新される仕組みは どのようになっているのでしょうか いちいちアップデートしているわけでもないようですし... 初歩的な質問でしたら すみません。。。
ACCESS ＳＱＬを勉強して、ＭＹＳＱＬの勉強に、役立ちますか？ 転職活動で、評価されますか?
MYSQL しっかりしていますか。
MYSQL 大切でございますか。
MySQLで小計行、合計行を出す書き方について質問です。 画像のように、yearの各合計を出し、nameの列に【合計】という出力をし、 合計行を表示したいと思っています。- SELECT year,IFNULL(name ,'【合計】') AS name ,sum(price) FROM table1 WHERE year IS NOT NULL GROUP BY year,name WITH ROLLUP; このようにしてyear毎の合計を出すことはできたのですが、 合計行のyear列の文字を除きたいのと、 最後の行に全ての行の合計の行が出てくるのを除きたいです。 合計行のyear列は、今はNULLになっていますが、 上記のWHERE year IS NOT NULLでは、最後の合計行を除くことができませんでした。 合計行のyear列の文字を除くこと、 最後の合計行を除くことはmysqlでできるでしょうか？ 初心者で恐縮ですが、やり方、もしくはアドバイスだけでもいただけたら幸いです。 何卒よろしくお願いいたします。
エックスサーバで旧ドメインから新ドメインに301リダイレクトでデータを移管しました。 うまく新ドメインで運用できていました。エックスサーバでもう旧ドメインのMySQLをいらないと思い、 旧ドメインのMySQLを削除したところ、新ドメインにアクセスできなくなりました。 新ドメインにアクセスすると下記のようなことが書かれていました。 「データベースを選ぶことができない 私達は、データベースサーバー（あなたのユーザーネームとパスワードは、どの方法でOKであるか） と接続することができたけれども、○○○データベースを選ぶことができない。 あなたは、それが存在すると確信しているか？ ユーザー○○○は、○○○データベースを使う許可を持っているか？ いくつかのシステムに、あなたのデータベースの名前はあなたのユーザーネームを前置される。 従って、それはusername_○○○似ている。それは問題であるかもしれないか？ もしあなたが、どのようにデータベースを設定するかを知らないならば、 あなたはあなたのホストに連絡するべきである。 もしすべてがあなたを他に見捨てるならば、 助けをWordPressサポートフォーラムに発見するであろう。」 旧ドメインのMySQLのユーザーネーム、パスワードは分かっています。 MySQLのデータも手元にあります。 エックスサーバに問い合わせたところこれはサポート対象外と言われ、 旧ドメインとの紐づけができていないとのことでしたが教えて頂けませんでした。 私はワードプレスは素人です。 分かるかた助けて頂けないでしょうか？ よろしくお願いします。
MYSQL たいせつでございますか。
SQLiteからMySQLにデータを移行したいのですが、可能でしょうか？可能でしたら、方法を教えていただきたいです。よろしくお願いします。
MySQL Server 5.7 をインストールしたところ、毎日0時にコマンドプロンプトとと思われる画面が表示され、何かが動くようになりました。（すぐに閉じてしまうのでよく読めないのですが、MYSQLと書かれているのが見えました） これが何かわかりませんでしょうか？止めたいです >_<
MySQLのリモート接続に関して質問です。mysql -u ユーザ名 -p パスワード -h ホスト名 でログインできるんですよね？接続先のIPアドレスは必要ないのでしょうか？
MYSQL いいかんじでございますか。
MysqlでテーブルAの1月～6月までのレコード数を数えなければいけなくなりました。 レコードにはそれぞれ日付(DATETIME)が入っており、1月1日は6件、1月2日は9件のようにカウントしたいです。問題は権限がなく、ストアドプロシージャを利用できません。 どうすれば確実にできるでしょうか？ よろしくお願いします
MySQL workbenchで、SQL文を例えば他の言語で言うfor文の様に変数を入れて実行することはできますか？
MySQL、データベースの一列並べ替えについて質問です。 １～100番まで下記のようなテーブルがあったとします。id ｜ sort ------------------- 1 ｜ 1 2 ｜ 2 3 ｜ 3 4 ｜ 4 ................... このとき、sortを並び替えたい場合、 たとえば【id2/sort2】をsort4にした場合 今までsortが3と4だったものを、sort-1にして、順番に重複がないようにしました。 【id4/sort4】をsort2にした場合 今までsortが2と3だったものを、sort+1にして、順番に重複がないように。 という処理をPHPと、MySQLで書きました。 ですが、テーブルのデータを一行消す場合もあると気づきました。 この際、次に更新時、sortの列に空きがないよう詰めるには、 どのような処理をかけばいいのでしょうか？ 配列に入れて順次かくようにすればいいのでしょうか？ 断片的でわかりづらく、また初心者ですみません。 ちょっとしたアドバイスだけでもいただけましたら幸いです。 何卒よろしくお願いいたします。
mysql5.7.13にてデータベースを作成し、 heidisqlで使用しようとしています。コマンドプロンプトや付属のコマンドラインからはデータベースを確認できますが、 HeidiSQLで接続しようとすると Lost Connection to MySQL server at 'reading instial communication packet', system error:0 とエラーコードが表示されてしまい接続できません。 接続の設定は下記のようにしております。 ネットワーク種別：MySQL（TCP/IP） ホスト名 127.0.0.1 ユーザー、Pass：コマンドプロンプトでログインを確認したrootアカウント ポート：3306 （コマンドプロンプトにて該当データベースに割り当てられているのを確認） ぐぐってみたのですが、SSHでの接続ばかりで、どこでもほとんどデフォルトの設定でHeidiSQLで接続できた旨の情報しかなく、困っております。 他に必要な情報などございましたら、ご教示お願い致します。
SQLに詳しい方、お願い致します；； ## lists | id | user_id | url | order | | ---- | ---- | ---- | ---- || 1 | 1 | hoge | 1 | | 2 | 2 | fuga | 1 | | 2 | 1 | piyo | 2 | ## users | id | name | | ---- | ---- | | 1 | 太郎 | | 2 | 次郎 | | 3 | 三郎 | listsテーブルの[user_id]は、usersの[id]の外部キーとしています。 上記は、各ユーザがあるURLをBookmarkする、 その情報をDBに保存するために確保した領域です。 [order]は並び順を示しています。 例えばこの状態で、太郎くんがあるURLを追加するとした場合に、 orderのMAX値+1を自動的に採番し、1つのレコードを挿入したいと思っています。 以下のSQLを考えはしたのですが、 2レコード以上になるとサブクエリのエラーとなってしまいました。 環境はMySQLです。 詳しい方、ヒントをいただけないでしょうか…よろしくお願い致します。 ### SQL INSERT INTO lists (user_id, url, order) (SELECT 1, 'google.com', CASE WHEN MAX( (SELECT order FROM lists WHERE user =1) )IS NULL THEN 1 ELSE MAX( (SELECT order FROM lists WHERE user =1) ) +1 END FROM lists)
PHPでMySQLにインサートする際、変数のNULLを使い、インサートしたいです。----- $id = 555; $number = NULL; $sql = INSERT INTO table1(id, number) VALUES ( '{$id}', '{$number}' ); ----- 上記でやると、文字列の'NULL'と判断されるのかエラーになります。 $number = "NULL"; 上記でやってもエラーになってしまいます。 【 NULL 】だけでPHPからMySQLへNULLを送る方法はありますでしょうか？ is_nullや諸々調べていろいろ試してみましたが、どうもうまくいかず、 初心者で恐縮ですが、教えていただければ幸いです。 何卒よろしくお願いいたします。
MySQLでUPDATEをしたあとにINSERTをしたいのですが、 これを一文にまとめる方法はありますでしょうか？http://detail.chiebukuro.yahoo.co.jp/qa/question_detail/q1216197249... 先ほどこちらの質問をし、UPDATEをしてからINSERTをすることで解決しそうでしたが、 プログラムの都合上、何らかの理由でINSERTができずにUPDATEだけが完了した場合おかしくなる、と指摘を受けました。 ここで質問なのですが、UPDATEとINSERTを一度に実行する方法はありますでしょうか？ もしありましたら、教えていただければ幸いです。 何卒よろしくお願いいたします。
至急ですコインが足らず250枚ですが 只今MYSQLにて解らないところがあるのですが department表のdept_no列を参照する外部キー制約をemployees表のdept_no列に付与するSQLを記載せよ。 というのをやりたいのですが、うまくいきません、、、、 ALTER TABLE employees ADD FOREIGN KEY (dept_no) REFERENCES departments(dept_no) 上記のようにやろうとすると、エラーがでて ADD CONSTRAINT これを使うこと？までは分かったのですが ADD CONSTRAINT の後ろに何を入れるのかよくわからず どこのサイトを見ても、参考になるところは見つからず、、、、 どうか解る方いましたら ご教授お願いできますでしょうか。。。 あと 索引が自動的に作成される制約を答えよ という問題がありまして ｵﾗｸﾙではなくMYSQLで答えないといけないのですが こちらも解る方いましたらご教授お願い致します。
下記の条件を満たすSQLを1文で表現したいのですがどうすればいいでしょうか。サブクエリや結合等考えてみたのですがうまく思いつきません。【目標】 2つの異なるテーブルからそれぞれのテーブルで当てはまる条件の回数を計算し、また計算した結果を四則演算したい 【テーブルの形】 テーブルA アクション名|結果|・・・・・ --------------------------------------- A |OK |・・・・・ B |NG |・・・・・ テーブルB アクション名|結果|・・・・・ --------------------------------------- A ' |OK |・・・・・ A'' |OK |・・・・・ 【具体例】 テーブルAでアクション名がAかつ結果がOKの回数を計算する(計算A)、 テーブルBでアクション名がA'かつA''かつ結果がOKの回数を計算する(計算B)、 計算Aと計算Bの結果を利用して計算A/計算A+計算Bといった四則演算を行いたい 【求める出力例】 アクション名|計算AとBの四則演算結果|計算Aの結果|計算Bの結果|・・・ 任意の名前 |○ |△ |□ |・・・ 【課題点】 ・計算Aと計算Bを出すことが出来たが、そこから四則演算を行うのを組み込んだSQLを1文で表現するところで躓いている
MySQLのデータベース構造についてデータ管理のためにMySQLのデータベースを作るのですが，次の要件に合うような設計方法がなかなか思いつきません．どなたか良いアイディアをご教示いただけますでしょうか． ・記録したいものは「人名とリソース，そしてその使用状況の対応表」になります．実際のデータではないのですが次のイメージです．ただし人名数もリソース数も膨大(数百〜数千個)であり，かつその数は動的に変化します． ｜本Ａ｜本Ｂ｜本Ｃ｜ ーーーーーーーーーーーー 山田｜◯ ｜◯ ｜Ｘ ｜… 鈴木｜Ｘ ｜Ｘ ｜◯ ｜ 田中｜Ｘ ｜◯ ｜Ｘ ｜ … ・使用状況のフラグの書き換えは非常に頻繁に発生します． ・1人が同時に使用するリソースは1つとは限らず，複数のリソースを同時使用し得ます．また，1つのリソースを多数の人が同時に使用し得ます． ・リソースや人は数を決め打ちするのではなく，必要に応じて挿入して行や列を拡張するイメージで動的変化できる形にしたいです． ・リソースをある時点で同時に使用している人数がわかるような機構を作りたいとも思ってます． ややこしいですが，そもそもMySQLで二次元配列相当の処理をすることが難しいというのもあり，悩んでいます．よろしくお願いいたします．
MySQLに関してです。 現在、timesheetを登録するWebページを作成しています。 データベース上には、id(int),task(decimal),hours(int),tdate(timestamp),userid(int)のデータを登録してあります。 ブラウザでcalenderの日付をクリックすると、その月のtimesheetがすべて表示されるようにしたいです。 JDBC内のSQL実行分にどのように記入すればいいのかわかりません。どう書けばいいのか知りたいです。よろしくお願いします。 参考までに現状を書いておきます。 public static ArrayList<Timesheet> search(int year, int month) { ArrayList<Timesheet> templist = new ArrayList<Timesheet>(); Statement stmt = null; // you cannot use prep statement here ↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓ここがわかりません String sql = "SELECT * FROM BOOK_TAB where tdate > ; select * from TimeSheet_tab where timesheet_date > '2016-05-19 00:00:00' AND timesheet_date < '2016-05-21 00:00:00'"" ↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑ try { if (con != null) { stmt = con.createStatement(); ResultSet rs = stmt.executeQuery(sql);
ｍｙ‐sqlは初心者向けですか？
MYSQL は 大切ですか。
MYSQL 良質な ものですか。
MYSQL いいとおもいますか。
SQLに関する質問です。テーブル AAA A ←どこかから取得した値が入ります テーブル BBB A1 ID テーブル CCC C SELECT * FROM BBB WHERE ( (SELECT A - 1 FROM AAA) = A1 OR (SELECT A - 21 FROM AAA) = A1 ) AND ID = (SELECT ID FROM CCC) のような処理を行いたいのですが文法が間違っているようです。。 要はAから1を引いた値がA1と一致しているか Aから21を引いた値がA1と一致している なおかつIDがCCCのIDと一致している文を書きたいのです どなたかご教示願います。
MySQLで列の全てを更新したい際の質問です。▼table1▼ number｜sort ------------------------ 1 ｜ 1 2 ｜ 2 6 ｜ 3 7 ｜ 4 8 ｜ 5 ................（まだまだ続きます） 上記のテーブルがあります。 INSERT INTO table1( number, sort ) VALUE(3, 3) の登録があった際、sortが3以降のものを4,5,....と+1で登録しなおしたいです。 下記のようにしたいです。 number｜sort ------------------------ 1 ｜ 1 2 ｜ 2 3 ｜ 3 ←登録 6 ｜ 4 ←更新 7 ｜ 5 ←更新 8 ｜ 6 ←更新 この際、sortを振り直すのがいいのでしょうか？ また、PHPでSQLの呼び出しをしていますが、MySQLだけでできるでしょうか？ 初心者で恐縮ですが、連番で振り直し、更新する場合、 どのようにやればいいか教えていただけたら幸いです。 何卒よろしくお願いいたします。
マイクロソフトのAccessッて便利なのかなと思い調べていたら、http://detail.chiebukuro.yahoo.co.jp/qa/question_detail/q1220324912 で ▼▼▼ Accessで中心となるのは フォームの設計、データの構造、帳票出力となります。 どのようなデザインのフォームが使いやすいか データをどのように管理すればわかりやすいか、 プリントアウトするにはどのような姿にすればいいか などです。 ・ ・ ・ しかし、Accessで組んだソフトを実行するには 実行するパソコンにもAccessが必要となります。 PHP+PostgreSQLなど、Web系のデータベースエンジンを使う場合は 実行するパソコンにはFirefoxやInternetExplorerなどの ブラウザがあれば他に何も要りませんし、携帯電話もその端末として 使えるというメリットがあります。 ▲▲▲ とありました。 以前に、phpとかmysqlについても、簡単に素人ながらに調べてみたり触ってみたりしたことがあるのですが、 フォームの設計などはHTMLとかCSSで？ できるのでは？と思いました。 ブラウザがあれば、利用できるという点で、そこは良いと思うのですが、 Accessは携帯で使えないんですか？？ アクセスだと 応用がいろいろできるんですか？？？ 勉強してみようかなと思うんですが、PHP+mysql を勉強した方がいいのかなと思っています。 全然別物ですか？？
アクセスでエクスポートができません。。(´；ω；｀) クエリで出したデータをエクスポートしようとしたところ「クエリを実行しています」と表示がされたまま一時間以上待っても進捗のバーが一 ミリも進まずに処理も完了しません。。 テーブル追加、テーブル作成、テキスト以外でのエクスポートでも同じ状態になります。 選択クエリではデータは10秒かからないで表示されます。 どうすればスムーズにエクスポートができるようになるかわかる方教えてください(´；ω；｀) 環境は、WIN7 64Bit COREi5 8GB Access2010 クエリで使用したSQLはこれで↓、レコード件数は10万件行かないくらいです。。(´；ω；｀) SELECT Q1.*, Q2.値段 AS 前日の値段 FROM テーブル１ AS Q1 LEFT JOIN テーブル１ AS Q2 ON Q1.商品番号=Q2.商品番号 AND Q1.日付>Q2.日付 WHERE Q2.商品番号 Is Null OR Q2.日付 = (SELECT Max(日付) FROM テーブル１ WHERE 商品番号=Q1.商品番号 AND 日付<Q1.日付);
MY SQLで勉強して、取得し易いデータベースの資格は何が有りますか？
PHPとMySQLを使って絞り込み検索を作るには？今、ブログをやっているのですが、記事が増えてきたので、絞り込み検索を作りたいと思ってます。記事に関連する単語をタグにしてMySQLに格納したり、投稿日付もMySQLで保存してます。特にフレームワークなどは使わずに運営しているのですが、どのようにしたら実現できますか？AJAXを使ったりしてページ遷移無しでが理想ですが、まずは勉強のために基本から教えていただけるとありがたいです。
MySQLで値を引っ張ってくるとき、 引っ張ってくる列の値が０の場合とNULLの場合は無料、 １の場合は有料、というように置換をさせたいです。REPLACE (REPLACE (table.kakaku, 0, '無料'), '1', '有料') または、 IFNULL(table.kakaku,'無料') で別々に置換をすることはできましたが、 これらの行を１つにすることができません。 こういうときに結合をすればよろしいのでしょうか？ 正しい表示方法、またはアドバイスだけでもいただけたら幸いです。 初心者で恐縮ですが何卒よろしくお願いいたします。
PHPからMySQLのクラスタにアクセスする方法について教えてください。 MySQLのプライマリに障害が発生した場合、セカンダリをプライマリに昇格させた際の接続先をどう制御するか分かりません。. ハードウェア構成: appサーバがあって、その後ろにMySQLサーバプライマリ(192.168.0.10)とlvs(192.168.0.11)があるとします。 lvsの後ろには、MySQLサーバセカンダリ3台(192.168.0.12～14)があるとします。 PHPからdbに対して更新時は、MySQLサーバプライマリ(192.168.0.10)にリクエストして、読み込み時は、lvs(192.168.0.11)に対してリクエストします。(MySQLサーバセカンダリ3台(192.168.0.12～14)にロードバランシングします。) ここで、MySQLサーバプライマリ(192.168.0.10)に障害が発生して、MySQLサーバセカンダリのうちの1台がプライマリに昇格したとします(仮に192.168.0.12)。 Q1. このとき、PHPからプライマリに昇格したMySQLサーバがどれか判定する方法はありますか？ (appサーバのPHP側でプライマリに昇格したMySQLサーバが把握できないと更新処理ができないと思いますので。) Q2. Q1でプライマリに昇格したMySQLサーバ(192.168.0.12)が判定できたとして、更新処理を行うために、lvs(192.168.0.11)にリクエストしてしまうと、プライマリに昇格したMySQLサーバ(192.168.0.12)以外のプライマリに昇格していない残りの2台のMySQLサーバ(192.168.0.13～14)に対しても更新処理を行おうとしてしまうと思うのですが、どう解決したら良いでしょうか？ ※Q1で判定できたとして、lvsを介さずに直接プライマリに昇格したMySQLサーバ(192.168.0.12)に更新リクエストするのでしょうか？(だとしても192.168.0.12はlvsの後ろにあるため、元々のMySQLサーバプライマリ(192.168.0.10)が復旧するまでの間、読み込み処理のリクエストも受け付けてしまうため、負荷がかかった状態になってしまいます。) ネット上にあまり参考になる文献がなく、困っております。 詳しい方、よろしくお願いいたします。
SELECT * FROM 氏名表 AS A WHERE A.番号= (SELECT 番号 FROM 成績表 WHERE 点数=479) SELECT *FROM 氏名表 AS A WHERE A.番号IN (SELECT 番号 FROM 成績表 WHERE 点数>=500) 半角全角以外に間違っているところはありますか？ A.番号 氏名 B.番号 点数の属性の表をつくりたいです。
MYSQL ひつようでございますか。
MYSQL よく使いますか。
MYSQL すばらしいものですか。
MYSQL 重要でございますか。
MYSQL いいものですか。
また、MySQLのDumpで質問があります。PCのAとBの2台でデータのバックアップを行い、AからBへ、またはBからAへバックアップ・リストアを行いたいと思い、文字コードに気をつけながら、Web上にあった、--default-character-set=binaryの記述を入れてバックアップ、そしてリストアしました。 mysqldump -uroot -p -hlocalhost hogedb --default-character-set=binary > hogedb.sql mysqldump -uroot -p -hlocalhost hogedb --default-character-set=binary < hogedb.sql このコマンドで文字化けが防げると思いましたが、リストアのときにデータが反映（テーブルに書かれない）されないことが分かりました。AとBのVariable charは A | character_set_client | utf8 | character_set_connection | utf8 | character_set_database | utf8 | character_set_filesystem | binary | character_set_results | utf8 | character_set_server | utf8 | character_set_system | utf8 | character_sets_dir | C:\Program Files\MySQL\MySQL Server 5.7\share\chars ets\ | Bは | character_set_client | cp932 | character_set_connection | cp932 | character_set_database | utf8 | character_set_filesystem | binary | character_set_results | cp932 | character_set_server | utf8 | character_set_system | utf8 | character_sets_dir | C:\Program Files\MySQL\MySQL Server 5.7\share\chars ets\ | です。このような定義になっているときには、双方向でDumpを生かすには、My.iniなどの定義をいじるのか、Dumpの取得時・リストア時のコマンドに何か入れるのか、対処方法を教えてください。 色々調べたのですが、解決に至っていません。 宜しくお願いします。
MYSQLは いいものですか。
PHP MYSQLに関しての質問です。PHPとSQLの勉強中の者なのですが、 カテゴリーの登録画面のようなものを作ろうと思い、 abc.htmlとup.phpの二つを用意し、abc.htmlの方で登録→up.phpに送る。 up.phpの方でカテゴリーを指定の数字に変えそれをDBに書き込む。という流れにしています。 しかし、DBで見てみると指定の数字ではなく、0となってしまいます。 up.phpのどの辺りで引っかかってるのか分かる方いませんでしょうか？ 乱雑な文ですので質問頂ければ補足します。 [abc.html] <!DOCTYPE html> <html> <head> </head> <body> <form action="up.php" method="POST" enctype="multipart/form-data"> <div class="form-group"> <label for="">カテゴリ</label> <select class="form-control" name="kate"> <option>歴史</option> <option>科学</option> </select> </div> <button type="submit" class="btn btn-default">登録</button> </form> </body> </html> [up.php] <?php if(isset($_POST['kate'])) { $id = $_POST['kate']; } try{ $pdo = new PDO ('mysql:host=127.0.0.1;dbname=mysql;charset=utf8','root',' '); $res = $pdo->prepare( 'select kate_id AS test_id FROM kate_test,test WHERE kate_test.id = test.test_id' ); while ($row = $res->fetch(PDO::FETCH_ASSOC)) { $row['test_id']; } $stmt = $pdo->prepare ( 'INSERT INTO test(test_id) VALUES(:TEST_ID)' ); $stmt->bindValue('TEST_ID', $row, PDO::PARAM_INT); $stmt->execute(); }catch (PDOException $e) { var_dump($e); $pdo->rollback(); } ?> [kate_test] +---------+-----------+ | kate_id | kate_name | +---------+-----------+ | 1 | 歴史 | | 2 | 科学 | +---------+-----------+ [test] +---------+ | test_id | +---------+ | 0 | +---------+
phpの記述方法について php初心者です。 データベース（MariaDB)から取得したテーブルを表（tableタグ使用）に表示させました。テーブル名[顧客テーブル]顧客ID,会社名,担当者様名,住所,電話番号,保険形態,備考,カルテ 以下、表示させている内容↓ 顧客ID-会社名-担当者様名-住所-電話番号-保険形態-備考 ここで、 会社名 カラムにリンクを張り、リンク先を一時的なURLとして詳細情報ページを表示させるようにし、 詳細情報ページには、 [顧客テーブル]のすべての項目と、 使用機種として、別の[商品テーブル]の顧客ID、使用機種 を表示させるようにするスクリプトを組みたいのですが、どうすれば良いかわかりません。 主キーは顧客IDです。 現在の記述が、 <tr><th>顧客ID</th><th>会社名</th><th>担当者様名</th><th>住所</th><th>電話番号</th><th>保険形態</th><th>備考</th></tr> <?php $con = mysql_connect('localhost', 'root', '********') or die('error(connect)'); mysql_select_db('データベース名', $con) or die('error(select_db)'); mysql_set_charset('utf8'); $sql = 'select * from kokyaku'; //顧客テーブル $result = mysql_query($sql, $con); while ($row = mysql_fetch_array($result)) { echo '<tr><td>' .$row['顧客ID'] . ' </td><td><a href="ここに詳細ページのアドレス"> ' . $row['会社名'] . ' </a></td><td> ' .$row['担当者様名'].'</td><td>' .$row['住所']. '</td><td>' .$row['電話番号']. '</td><td>' .$row['保険形態']. '</td><td>' .$row['備考']. '</td></tr>' ; } mysql_close($con); ?> </table> まったくの初心者なのでお見苦しいソースかとは思いますが、ご伝授頂けると幸いです。 サーバー:CentOS7 PHP:5.4 DB:MariaDB localhostにてTeraTarmとWinSCPを用いて別クライアントから操作しています。
GCPでCentOS6のVMインスタンス及びMysql5.6のインスタンスを作成し、 phpで以下のmysqlに接続するコードを実行すると、SSH接続したコンソール（putty）上では問題なく接続できますが、 ブラウザから下記コードにアクセスすると、 「Error:SQLSTATE[HY000] [2003] Can't connect to MySQL server on '【GoogleCloudSQLの外部IPアドレス】' (13)」 と表示されアクセスできません。 このようにSSH接続したコンソール上でphpを実行した場合と、 ブラウザからphpファイルにアクセスした場合で挙動が異なる事が初めての為、解決の糸口が見つからない状況です… もし、原因がおわかりになる方がいらっしゃいましたら、是非ご助力お願い致します。 ＜実行したソースコード＞ ***************************************************************************** <?php $dsn = 'mysql:dbname=【スキーマ名】;host=【GoogleCloudSQLの外部IPアドレス】'; $user = 'root'; $password = '【パスワード】'; try{ $dbh = new PDO($dsn, $user, $password); print('<br>'); if ($dbh == null){ print('接続に失敗しました。<br>'); }else{ print('接続に成功しました。<br>'); } }catch (PDOException $e){ print('Error:'.$e->getMessage()); die(); } $dbh = null; ?> </body> </html>
データベース(MySQL)のホスト名の扱いがよくわからないので教えて下さい。ホスト名とはなんですか？CentOSの勉強をしています。今は、MySQLでデータベースを構築しようと思っています。そこで質問です。 まず、ホスト名とは何ですか？私は「そのサーバの名前」という風に認識してたのですが、あっていますか？ そして、もう１つ質問です。データベースに付けられるホスト名とは、なんでしょうか？サーバだけではなく、データベースにもユーザ名と対になってホスト名を付けられるようです。 これってどういうことなんでしょうか？そのデータベースにログインするときは、ユーザ名と対になっているホスト名でログインすることができるのですか？ サーバのホスト名とデータベースのホスト名は共存しているということなんでしょうか？
PHPからSELECT文でmysqlの中から文字列を検索する方法についてSELECT `カラム名` FROM `db名`.`テーブル名` WHERE `カラム名` LIKE 'Asian bitchcumming hard and it's so damn dirty' LIMIT 1 このように「Asian bitch cumming hard and it's so damn dirty」という文字列を検索するときに、このままだと「’」でエラーが出てしまいます。 なので「\'」とすればいいのはわかるのですが、これだとDBに「Asian bitch cumming hard and it's so damn dirty」とあるためLIKEで検索に引っかかりません。 ほかに「''」とする方法なども試したのですがうまくいきません。 DBにはすでに「Asian bitch cumming hard and it's so damn dirty」とあるのでこちらを直すことも出来ません。 何かいい方法はないでしょうか？
MySQLにリモートから接続したいのですが、ユーザのホスト名はどのように設定すればよいのでしょうか？ ホスト名に何ても名前を付けてもいいというわけではないですよね？
Linux(CentOS)で自宅サーバを構築する練習をしています。ホスト名に質問です。 ホスト名とはそのサーバの名前に相当するものなのでしょうか？それと、MySQLもインストールしたのですが、こちらにもユーザーにホスト名を決定できるようです。 OS自体にホスト名を割り振ることができてMySQLのユーザーにもホスト名を割り振ることができるというのはどういうことなんでしょうか？どういった使い方をするのですか？
ACCESS2010を利用しています。http://detail.chiebukuro.yahoo.co.jp/qa/question_detail/q1016121182... 上記の質問に追加なのですが、 カウント対象リストがない場合は、0（ゼロ）を出したいのです。 SELECT Q_データ.リスト名,CLNG(NZ( Count(Q_123.リスト名)、0） AS 件数 FROM Q_データ LEFT JOIN Q_123 ON Q_データ.リスト名 = Q_123.リスト名 GROUP BY Q_データ.リスト名; としましたが、反応しないのです。 申し訳ありませんが、訂正箇所をご教示おねがいできないでしょうか？
MySQLの構文エラーに関する質問です。 皆さんこんにちは、私は現在RaspberryPi3にRedmineをインストールしようとしています。しかし、ラズパイ内にRedmine用のDBを用意しようとしたところ、以下のようなエラーが出力されました。エラーメッセージより恐らく予約語を使用してしまった構文エラーだと思うんですが、SQLの知識がないためどの部分がエラーになっているか分からず、皆様に質問させていただきました。 初歩的な質問でお恥ずかしいですが、どうぞよろしくお願いいたします。 // エラー内容 mysql> create user 'redmine'@'localhost' identified by 'password' grant all privileges on redmine.* to 'redmine'@'localhost'; ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'grant all privileges on redmine.* to 'redmine'@'localhost'' at line 1 // 環境 mysql Ver 14.14 Distrib 5.5.44, for debian-linux-gnu (armv7l) using deadline 6.3 raspbian 8.0
DBの授業で図書貸出管理システムを作る課題をしています。mysqlで作っているのですが使用するテーブルとその内容が思いつきません。 そこでどういうのが必要か、ぜひとも教えてもらいたいです。よろしくお願いします。
MySQL5.7を使っています。 使い始めて、データベースの削除、追加やテーブルの作成など今まで問題なしに使ってきました。何か障害が起きたときのことを考え、バックアップを取ろうとして、 C:\Windows\system32> mysqldump -u user --all-databases > dump.sql mysqldump: [ERROR] unknown option '--no-beep' このようにコマンドを入力するとエラーが出ます。 MySQL 5.7 Command Line Clientを使っても mysql> -u user --all-databases > dump.sql -> ; ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '-u us er --all-databases > dump.sql' at line 1 mysql> となり、先へ進みません。エラー内容を調査しWebで検索するとMｙ.iniの設定変更とか色々出ていますが、どれを試しても、今のところうまくDump取得までいきません。 管理者権限でコマンドプロンプトを立ち上げたり、MySQLをストップさせたりしますが改善しません。 何で、ダンプ1つ取れないのか不思議です。 どなたか、ダンプ取得をご指導ください。ヒントでもかまいませんので、ご指導ください。 環境：MySQL Server 5.7、Windows７Pro、32bitです。 素人なのでこれ以外の製品情報とか、記述などが必要でした教えてください。 よろしくお願いします。
MYSQL 大切で ございますか。
AWSのRDSについて RDSに、MS SQLServer と MySQL ２つのDBインスタンスを作成しました。ローカルのPCより、VB.NETで作成したプログラムでデータベースの接続を 実行してみたところ、MS SQLServer は正常に接続できたのですが、MySQL の 方が上手く接続できなくて困っています。 ただし、コマンドラインからの接続では正常に接続できてデータも表示される状態です。 以下、接続文字列の設定はどのようにすればよろしいでしょうか？ cn.ConnectionString = "Database=<ﾃﾞｰﾀﾍﾞｰｽ名>;Data Source=<ﾎｽﾄ名・IPｱﾄﾞﾚｽ>;User Id=<ﾕｰｻﾞID>;Password=<ﾊﾟｽﾜｰﾄﾞ>" ちなみに現在は以下の通りです。 Server=mysql-instance1.cao0y8njnixa.ap-northeast-1.rds.amazonaws.com;Port=3306;Database=SQLSisan;UserId=mst_plesys;Password=pl46es03ys;Character Set=utf8; よろしくお願いします。
ITかあさん様のスクレイピングプログラムを設置しようとしています。 以下環境です。apache2.4.2 PHP7.0.8 wordpress 4.5.3 mySQL 5.7.13 PHPmyAdmin 4.6.3 インストール場所はそれぞれ c:\apache24 c:\apache24\htdocs\wordpress c:\apache24\htdocs\wordpress\parth c:\apache24\hydocs\wordpress\parth\simple_html_dom.php です 当該HPの設置方法及び検索で出てきた設置方法を試していますが DBの設定 simplehtml_1_5のパス繋ぎ までは出来ました。 その後、 localhost\wordpress\parthにアクセスすると以下のエラーが出ます。 Parse error: syntax error, unexpected 'new' (T_NEW) in C:\Apache24\htdocs\wordpress\parth\cake\libs\inflector.php on line 303 さらに、localhost\wordpress\parth\sqlsにアクセスしようとすると 404 not foundになります PHPmyAdminでMySQLで作ったデータベースで、当該HPの設置方法に載っている SQLを実行すると、返り値が空です（行数０）と出ます。 上記のような状態で、設置出来ません。 ご助力頂けませんでしょうか？ 設置の目的ですが、wordpress初心者でPHPも初心者なので 勉強のため、色々とローカルで試している所です。 現在の目標は、ローカルで動く自分のためだけのまとめサイトを作る事ですが Feedwordpressを使うと、RSSの全情報を取得してしまうため スクレイピングを勉強しつつ設置できたらと思ってトライしています。 初心者でも恥ずかしいような内容の質問だとは思いますが よろしくお願いいたします。
MySQLとMySQL Workbenchは別物ですか？だとすると その違いはなんでしょう。
アクセス初心者です＞＜ 助けてください(+_+) アクセスで、画像のオレンジ色の部分のデータを使って、黄色の部分のデータを数値型で作りたいです＞＜黄色の部分のデータは、一営業日前の商品の値段です。 また、日付はお店のお休みの関係で、連続しているわけではないです。 どなたかわかる方よろしくお願いします＞＜ テーブル名：テーブル１ 日付：数値型 商品番号：数値型 商品：テキスト 値段：数値型
データベース(MySQL)について質問です。例えばですが、ユーザIDが「12345」の人の名前を取得するselect文を書いたとき、 設定したテーブルにユーザID「12345」がなかった場合、名前には何の値が入るのでしょうか？ nullでしょうか？エラーでしょうか？ 初歩的な質問ですが、よろしくお願いいたします。
MySQLについての質問です。id 売上 担当の３つのカラムがあるテーブルにおいて、売上の合計を select 担当,sum(売上) from テーブル group by 担当; として担当別の売上を出したあとに、その中で最大（MAX）の担当 と売上を表示させることは可能でしょうか？ ある金額以上のものについてはhaving句で求めているのですが、最大の求め方がわからなかったので質問させていただきました。 ご教授よろしくお願いします。
Linuxについての質問です。 Linuxからmysqlを実行し、実行結果を更に改変して表示することは可能でしょうか？例えば、各都道府県に番号が1〜47まで振られているとし、sqlでその番号をselect文で抽出。 その後、番号を各都道府県名に変更(1なら北海道など)出来るでしょうか？ Cシェルの使用を想定しています。
MYSQL いいとおもいますか。
グループの最大値を条件にデータを取得したいです。 下記のtableがあります。■table1■ id name kuse edaban --------------------------- 1｜山田｜あくび｜1 1｜山田｜いびき｜2 2｜田中｜あくび｜1 2｜田中｜いびき｜2 2｜田中｜歯軋り｜3 3｜鈴木｜あくび｜1 4｜工藤｜あくび｜1 4｜工藤｜いびき｜2 ■求める結果■ id name kuse ------------------- 1｜山田｜いびき 2｜田中｜歯軋り 3｜鈴木｜あくび 4｜工藤｜いびき edaban部分は持ってこないようにしたいです。 SELECT id, name, kuse, MAX(edaban) AS edaban FROM table1 GROUP BY id 上記のMAX(edaban)を条件だけにしたい場合は どのように書けばよろしいでしょうか？ 初歩的で恐れ入りますが、何卒よろしくお願いいたします。
現在会員30万人、月間2000万PV以上のWEBサイトを運営しているのですが、社内にアプリケーション側の専門開発スタッフしかおらず、サーバサイド（インフラ）については外注しているのですが、外注先の営業・SEの対応スピードや仕事の質に満足しておりません。外注先を検討したいのですが、何と検索すれば該当のサービス事業者が見つかるのか分からず困っています。 サーバの構築・運用・監視・アプリ側の変更に対応したサーバ環境の対応、負荷状況に応じた改善計画の提案などをスピーディーかつ的確に行っていただける会社を探しています。現在はWEBサーバー4台、DBサーバ3台その他開発用であったりバックアップであったり10台以上の構成になっており、月額コストも100万円近くまで行っています。 どのようなキーワードで検索し、何に気をつけて探せば良いかアドバイスをお願いいたしますm（＿ ＿）m
PHPMyAdminのエラーについて質問です。 PHPMyAdminでテーブル内のカラム（カラムネーム：sales)を消去して以降、何をしても返り値が0です。と出るためテーブルごと消去して新しく同じ名前のテーブルを作ったのですが、#1054 - Unknown column'sales' in 'order clause'と前のカラムのsales情報が記憶されているらしく、同じ名前のテーブルを作っても構造を開くと先ほどの英語のエラーが出てしまいます。 ネットにリコンパイルすれば治る等書いてありましたがその方法はどうしたらいいでしょうか？ またこのような状況はリコンパイル以外に方法はありますでしょうか？ SQL初心者です。 回答よろしくお願いします。
PHPについてです。初心者です。 ページ内にDBへ投稿されたデータを表で表示するプログラムを作っています。 ｾﾚｸﾄ文で値は変数に入れ、PHPで呼び出し、番号と時刻とﾀｲﾄﾙが表示しています。しかし時刻の部分が [2016-06-04 00:00:00.] ↑のように表示されてしまいます。 出来れば [2016年06月04日] ↑の表示に変えたいのですが、どのようにしたら良いのでしょうか？ DBカラムのデータ型の変更をしてみても駄目でした。 よろしくお願いします。
MySQLのソケットファイル 書籍を読んであらためて、MySQLについて確認いていると 「MySQLサーバとクライアントは、TCP/IPもしくはソケットファイルで通信します」とありました。（「MySQL徹底入門」第３版 ） ネット上では、このような説明がありました。 「MySQLサーバーがローカルマシンでUnixなら、ソケット通信で接続できます。 サーバーが他のマシンになる場合は、TCP/IPなどで接続する」 これらの説明を読むと、MySQLは条件によってソケット通信 か TCP/IP のどちらかで 通信を行なっていると読めてしまったのですが、 通信の階層ついて復習すると、 セッション層 SOCKET トランスポート層 TCP ネットワーク層 IP となっていて「ソケット通信 か TCP/IP のどちらか」ということが わからなくなってしまいました。 MySQLの通信ではソケットファイルは必須だと思うのですが、 （「MySQL ソケット」で検索すると、「起動できない」「エラー」 がたくさんヒットします） ソケットを使わないこともあるのでしょうか。
SpringStarterProjectのデータベース操作についての質問です。＜ＰＣ利用状況テーブル＞ 利用者ＩＤ ＰＣＩＤ ＜利用者情報テーブル＞ 利用者ＩＤ 利用者名 ＜ＰＣ情報テーブル＞ ＰＣＩＤ ＰＣ名 のテーブルがあり、それらを表示するWEBシステムを作成しております。 ここで、＜ＰＣ利用状況テーブル＞を表示する際に ＜ＰＣ利用状況テーブル＞ 利用者名 ＰＣ名 のようにＩＤではなく名前を表示したいのですが、その方法が分かりません。@JoinColumnを使って テーブルを結合させればいいのかと考えておりますが、その書き方もいまいち理解出来ません。 どなたか教えて頂けますでしょうか。
SQLで重複チェックをしてからインサートをする方法を教えてください。 混乱してきました。お力を貸していただければ幸いです。table1に【id = 1】【name = '太郎'】【type = 0】があるかどうか ３つ全て同じレコードがある場合は何もインサートせず、エラーを返さないようにしたいです。 いろいろ調べ、書いてみましたがセレクト文を書いてからNOT EXISTSをかけばよろしいのでしょうか？ INSERT INTO table1 SELECT id=1, name='太郎', type=0 FROM table1 WHERE NOT EXISTS ( SELECT id,name,type FROM table1 WHERE id = 1 AND name = '太郎' AND type = 0 ) 上記ではうまくいきませんでした。 お力を貸していただければ幸いです。
MySQLで文字コードがutf8のキーを使いたいのですが、型は何を使えばよいのでしょうか？
WordPressとMySQLに関して教えてください。 お名前.comでWordPressをインストールして使っています。コントロールパネルからMySQLを追加して、同じくコントロールパネルからWordPressをインストールしました。 WordPressでブログを初めて、カレコレ6年になりますが、動作そのものは全く問題なく、投稿できて閲覧もできています。 ただ一つだけ問題が出てきました．．． お名前.comではデータベース(MySQL)の容量が500MBなのですが、使用容量が90％を超えてきました。今日明日と言うことはないですが、遠くない未来に、容量がいっぱいになりそうな状況です。 お名前.com＋MySQL＋WordPressの環境で、データベース容量を増やしたり、複数のデータベースを組み合わせたりすることって可能なのでしょうか？ こちらで出来ることとして、データベースのゴミを削除すべく、WP-Optimizeで少しだけ空き容量を増やすことができましたが、数MB程度でした。 お教え頂けると助かります。 http://t.jubi-net.com/ ↑恥ずかしながら、このブログです。
さくらVPSのサーバーで日本語の画像をアップロードできないページがあります。 日本語タイトルの画像をアップロードできるphpファイルとできないphpファイルがあります。両者とも英語ファイルはアップロードでき、片方は日本語もアップロードできるのですがなぜかもう片方のみ日本語で保存できません。 そのphpが記述してあるファイルも保存先のディレクトリのパーミッションも同じです。 英語だったらアップロードできるためコードのタイポではないと考えます。 パーミッションでも解決できずお手上げ状態です。 考えうる可能性として何があるでしょうか。 よろしくお願い致します。
最近しんどいですか？
顔を洗ったことありますか？
頭がいたいですか？
jkのベロは綺麗ですか？
my sql を勉強して sql sever の資格に合格できますか？
mysqlについて mysqlについて学び始めたものです。CREATE DATABASE test1; でデータベースを作成し、 use test1; と入力後次のように入力したら、 CREATE TABLE goods ( 商品番号 CHAR(10), 商品名 VARCHAR(60), 単価 INTEGER DEFAULT 0, PRIMARY KEY (商品番号) ); CREATE TABLE staff（ 担当者番号 CHAR(10), 担当者名 VARCHAR(10), PRIMARY KEY（担当者番号） ); CREATE TABLE customer ( 得意先番号 CHAR(10), 得意先名 VARCHAR(10), 連絡先 INTEGER(20), 担当者番号 CHAR(10), PRIMARY KEY（得意先） ); CREATE TABLE sell（ 売上番号 CHAR(10), 得意先番号 CHAR(10), 売上日 CHAR NOT NULL, PRIMARY KEY（売上番号） ); CREATE TABLE sell detail（ 売上明細 CHAR(10), 明細番号 CHAR(10), 商品明細 CHAR(20), 数量 INTEGER DEFAULT 0, PRIMARY KEY（売上番号） ); 1064というエラーが出ました。 どのように対処すればよろしいのでしょうか？ 全く分からず、困り果てております。 宜しくお願いいたします。
mysqlで、後からテーブルのキーの型を変更する方法はありますか？
PL/SQLとMY SQL の違いは何ですか？
ウェブクロウというところで、サーバーをかりて、ホームページを作ろうとしているところです。MySQLとPHPが使えるみたいで、もしかしたら、写真を手軽に登録してホームページに写真を掲載できるようなことができるかな？？ と思っているのですが、 できますか？ それと、http://www.webcrow.jp/service/functions.php の 機能比較一覧 の MySQLのところをみると、利用可能な容量は50MBとありましたが、 この範囲内でしか写真データをMySQLに保存できないのですか？ それとも ディスク容量は1Gなのですが、MySQLに写真データを格納ということをすると、そこ（MySQL５０MBとは別の領域）に画像データは保存されるのですか？ で、MySQLでは、リンク的な情報だけ保存するという仕組みなんですか？ それとも、やはり50MB以内なんですか？ 教えてくれると嬉しいです。
ただいまMYSQLにて 「全社員中、最低賃金の社員と最高賃金の社員を抽出するSQLを記載せよ。」という 課題をやっているのですが、UNION関数を用いて問題を進めるところまではわかったのですが 、よくわかりません。。。。何がわからないのか？ がもうわかりません。 質問の意図から 1001 佐藤 10 180000 1004 田中 30 300000 1005 田中 40 300000 と表示したいのですが、 1001 佐藤 10 180000 300000 と表示されてしまい、うまくいきません。 どなたかご教授願いませんか、宜しくお願い致します。 ツールはA5:SQL Mk2 64bit edition を使用しており データーべスはXAMPPを使用しております テーブル名は [ employees ]です 全社員中～の表は下の画像になります
さくらのVPSのサーバーで、画像をアップロードできません。 lolipopレンタルサーバーからさくらVPSに移行したところ、画像アップロードのみできなくなりました。Admin保存は出来ていて、画像がサーバーに保存されていなくて、サーバー側がアップロードできないようになりました。 行ったこと memory_limit >= post_max_size >= upload_max_filesize となるようにphp.iniをそれぞれ 128M,30M,20Mとしました 以下エラーログ（アップロードボタンを押しアップロードした画像のプレビューを表示した確認ページを表示した時に吐かれたエラー） Warning: move_uploaded_file(../../img/dummy/スクリーンショット 2016-06-21 14.24.05.png): failed to open stream: Permission denied in /var/www/html/user/design/design_add_check.php on line 157 Warning: move_uploaded_file(): Unable to move '/tmp/phpgmS8uG' to '../../img/dummy/スクリーンショット 2016-06-21 14.24.05.png' in /var/www/html/user/design/design_add_check.php on line 157 以下design_add_check.phpの157行目の含まれる箇所 if($save==1){ if($design['size']>0){ move_uploaded_file($design['tmp_name'],'../../img/dummy/'.$design['name']); print '<img src="../../img/dummy/'.$design['name'].'">'; } }else{ if($design['size']>0){ $design_type = 1; move_uploaded_file($design['tmp_name'],'../../img/dummy/'.$design['name']); print '<img src="../../img/dummy/'.$design['name'].'">'; $design_type = 2; print '<img src="../../img/design/'.$design_old.'">'; } } 補足 同じページ内での画像以外の文章は受け渡し、吐き出し問題なくできています。 お心当たりのある方、どうぞよろしくお願い致します。
Accessで作る予定でしたが、色々と調べてるうちに、将来性を見越して、SQLServerかMySQLを検討しています。 それぞれメリットデメリットはありますか？ 作成するものは、販売管理や請求書発行や従業員管理のような業務ソフトです。 とはいっても小規模なものです。 とりあえず使うのは僕ひとりで、手作業が増えるけどExcelでもやれているレベル(VBAでむりやりデータの連携をしているのでDBにしたい)です。 請求書にして月に20枚程度です。 ですから、何十万もかけたりする気はありません。 どうせAccessでつくるなら、いっそはなからRDBMSでやったほうがいいかな？とおもいまして。 プログラミングはVBAを少しできる程度です。
MySQLについて質問です。MySQLのユーザにはホスト名が設定できるんですが、このホスト名とは何のホスト名でしょうか？接続元のホスト名ですか？ホスト名:host1 ユーザ名:user1 というユーザに、名前がdatabase1というデータベースの全ての権限を与えたとき user1がdatabase1に接続するには、host1からではないとできないということでしょうか？
xamppの登録日に現在日時が表示されません INSERT INTO テーブル名 (カラム) VALUES (NOW())とSQL文を発行しても表示されませんでしたどうすれば表示されますか？
mysqlで動くphp Webアプリケーションの開発です。 販売をコミットした時点の価格を保存したいと思いトリガーを作りました。(テーブル名などは実際のものと変えていますので、書き間違いなどがあったらご容赦ください。) delimiter $$ CREATE TRIGGER sales_updater BEFORE UPDATE ON sales FOR EACH ROW BEGIN IF new.commit_date <> old.commit_date THEN UPDATE sales_detail AS sl, goods AS gds SET sl.price=gds.price WHERE sl.goods_id=gds.goods_id AND sl.sales_id=new.sales_id; END IF; END; $$ delimiter ; Windowsのcmdでmysqlを動かして作成は問題なく出来ました。 そして、salesのcommit_dateデータをコマンドラインから変更すると、sales_detailにその時点のgoodsの価格がちゃんと反映されています。 にもかかわらず、phpのWebプログラムからsalesデータを変更しても、価格が反映していません。 今はローカルのパソコンで開発しており、隣にコマンドラインとウェブページが両方表示されていて、見比べながらやっているのですが、なぜこんなことが起こるのでしょう？
MYSQLは 重要でございますか。
MySQLを使う目的とは何でしょうか？ サーバにデータを保存するのと何が違うのかわからないので、 具体的にどんなことに使うのか教えてください
SQLでわからないところがあります。+---------+------------+ | id | password | +---------+------------+ | a1 | abc | | a2 | def | | a3 | ghi | | a4 | jkl | | a5 | mno | +---------+------------+ テーブル名はstaffです。idが一致している場合にパスワードを確かめ、合っていたら次に進めるプログラムを教えて頂けないでしょうか?
学校でMySQLの課題が出たのですが、さっぱりわかりません。 どなたかやり方を教えていただけませんか？
Mysqlで以下のデータを +-------------------------------+ | msg |+-------------------------------+| node=serverA type=DATA item=0 name="basename" mode=00990099 | | node=serverB type=PATH item=0 name="/home" mode=00000001 | | node=serverC type=SYSTEM item=0 name="login" mode=11223344 | +-------------------------------+ ↓のように変換をしたいのですが、 | node | type | item | name | mode | | serverA | DATA | 0 | "basename" | 00990099 | 上記のようなことは可能でしょうか。
知恵袋はクソサイト。。。。。。。
OracleのSQL文について質問です。（初歩的質問プラス長文でしすみません） 約100万件あるテーブルに対してselectする処理があります。 ※データは日々、増加するものです。 SQL>desc table1; 名前 ------------NULL? 型******************************************** NAME-----------NOT NULL CHAR(8) STATE----------NOT NULL VARCHAR2(50) START_DATE----NOT NULL DATE ・・・① END_DATE-------DATE ・・・② COMMENT-------VARCHAR2(1000) ①と②の日付を検索キーにしたデータ取得をする必要があり、実行してみるとSQLの実行処理時間に大きな違いがありました。 統計情報を見ると②ではTABLE ACCESS FULLとなって、 ①の場合、INDEX SKIP SCANとなっていました。 システムの仕組み上、END_DATEには日付がまだ入っていないレコードも存在します。 テーブル構造を変えずに②の検索条件で、検索レスポンスを改善するSQL文はどのようにすればよいか教え てください。それぞれ、SYSDATEから180日前までデータを表示する必要があります。（今回はcountで検索） ① SQL> select count(*) from table1 where (((SYSDATE)-180) <= START_DATE) and (START_DATE < SYSDATE); 経過：00:00:00.02 ② SQL> select count(*) from table1 where (((SYSDATE)-180) <= END_DATE) and (END_DATE < SYSDATE); 経過：00:00:04.51
phpでメールアドレスを認証するシステムを作りました。 フォームの各項目とURLトークンをデータベースへ保存し メールで認証URLが届き、クリックすると認証が完了し再びメールが届きます。しかしこの場合認証URLを開いた回数分メールが届いてしまいます。 対策する方法がございましたらご教示お願い致します。
Web初心者です。 MySQLでのSQLインジェクション対策について教えて下さい。 サイトをいろいろ検索していたら、混乱してしまいました。 とあるサイトに下記記載がありました。【記載内容】 「'」は、「''」(シングル・クォート2個)にエスケープ処理することで、SQLインジェクションから防御することができる MySQLでのSQLインジェクション対策は上記だけで良いのでしょうか？ やりたいことはSQLインジェクション対策として 入力チェックを実施して危険な文字を安全な文字に置換してから SQLに渡したいです。 SQL側は select * from A where test = ? で作成し？に入力値をはめ込みます。 教えて下さい。 宜しくお願い致します。
SQL 文の書き方について教えて下さい。 次のようなテーブルで、カテゴリごとの商品数を商品数の多い順に取得するにはどうすればいいですか？categories テーブル id,name 1,book 2,food 3,game items テーブル id,categoryId,name 1,2,foodA 2,1,bookA 3,1,bookA 上記のテーブルから次のようなデータを取得したいです。 categories.id, itemNum 1,2 2,1 3,0 - アイテム数が 0 個のカテゴリ(3:game)も取得されます。 - アイテム数の降順で取得されます。 inner join で取得を試みましたが、アイテム数が 0 のカテゴリは取得できませんでした。 よろしくお願いいたします。
MYSQL しっかりしていますか。
MYSQL いい感じですか。
MYSQLは 有効に利用していますか。
MYSQL いいでございますか。
MYSQLの同一テーブルの２つのフィールド合計して一覧表示 いつも助けていただいております。MYSQLで下のようなテーブルがあって請求テーブルの請求額1と請求額2を足し算して、 クライアントテーブルと結合して、クライアント名を軸に請求額の存在するクライアント名、合算請求額を一覧で出力したい場合どのようなS0Lを書けばよいでしょうか？ 度々で恐縮ですが、どなたか助けていただけると助かります。 請求テーブル id | client_id |請求額1 |請求額2 1 | 3 |10 |30 2 | 3 |20 |0 3 | 5 |30 |10 4 | 6 |0 |0 クライアントテーブル client_id | client_name 3 | A社 4 | B社 5 | C社 6 | D社
xamppのmySQLでのコントロールパネル上で登録日が正確に表示されずに0000-00-00と表示されていました どうやって現在日時を表示すればいいですか？
レンタルサーバー weblife server を使用してるものですが、データの管理を行うためにMySqlの導入を考えております。weblife server でのMySqlのアカウントは取得したのですが接続できず困っています。 設定方法をご存知の方がいらっしゃれば、ご教授頂けると幸いです。
数百万行のレコードがあるテーブルと似たようなデータ量のテーブルを複数個joinしたら、検索はどんな人が書いても遅くなりますか？ システムを使っただけでソースは見てないので、環境は不明です。たぶんmysqlだと思います。 システムを使う人は同時に20人くらいいます。 あいまい検索をすると10-60秒くらい止まります。
Mysql5.5について。Phpmyadminの上のメニューに特権がないんですけどどうやったらユーザをつくれますか？メニューにはデータベース、sql、状態、変数、文字セット、エンジン、プロセス、エクスポート、インポート、synchronizeがあります。
SQLについて悩んでいます。 -------------------------------------------------- ｜注文番号｜取引先ｺｰﾄﾞ｜発注金額｜ -|----------------|------------------|------------------ |001 |12345 |10000 | |001 |12345 |10000 | |002 |13654 |15000 | |003 |12345 |20000 | |005 |12345 |30000 | |005 |12345 |30000 | 上記のようなﾃﾞｰﾀがあり、取引業者別に発注金額の総額を出したいとき、 注文番号と取引業者をｸﾞﾙｰﾌﾟ化し、最大値を取り、 そのあとさらに取引業者別で合算を出したいです。 そこで下記のように書いたのですが どうもｽﾏｰﾄじゃありません。 どなたかSQL初心者の私に ｽﾏｰﾄな構文の書き方を教えてくれませんか？ SELECT 取引先コード, sum(注文金額) as 注文金額 FROM (select max(cdviw002.注文金額) as 注文金額, cdviw002.取引先コード as 取引先コード, cdviw002.注文番号 as 注文番号, FROM cdviw002 Group by 取引先コード,注文番号 ) as 注文金額1 Group by 取引先コード
C++でMySQL接続・const char sql[] = "insert Table(a) values ('x')" このxの部分に変数を格納したいのですがどのようにするのでしょうか？const char sql[] = "insert Table(a) values (' " +x+" ')"などにするとエラーが出ます。 変数でなく文字列のままinsertすると成功しました。
データーベースSQL・クエリーについてご教示ください。 テーブルAにてフィールド「TARETYEAR」「TARGETMONTH」が存在し 現在INTEGERの型でデータを保持させています。TARGETYEARには対象の年、現在は「2016」が格納されていて TARGETMONTHには対象の月、現在は「6」が格納されていています。 これをSQL、VIEWで2016/06/01と加工し、日付型としたいのですが、うまくいきません。 現在、使っているのはLIBRE OFFICEのBASEです。 LPAD("TARGETMONTH",2,'0')とすれば、06が取得できそうでしたが、うまくいきません。 TARGETYEAR*10000+TARGETMONTH*100+1で20160601は取得できましたが、日付型とすることができません。 やりたいことは、上記テーブルより、2016/6/1と月末の2016/6/30が取得したく、当月範囲の設定としたいのです。なので月末は大の月、小の月で変化させたいです。 以上、sql記述のご教示をお願いいいたします。 よろしくお願いいいたします。
postgres の改行の置換ができないupdate blog comment = regexp_replace(comment, '\(\r\n|\r|\n|\t\)', ' ', 'g') でSQLを実行しても削除できないです。 オンラインのマニュアルみてもこれでいけるみたいですが、他にもいろいろ試したけどもどれもうまく反映できないです。 update answer_key_u set comment = replace(comment, '\r', ' ') も無理でした。 (PostgreSQL) 9.4.6 がバージョンです。 コンソールからのSQLです。
PhpからMySQLを使う場合においてあるテーブルに全ての値が数字の行があったならその行をselectするときに数字の降順に並べ直すことはできますか？
MySQLを用いた時間割表の作成 MySQLで時間割を作成したいです ゴールとしては、 水曜日の3時間目の(授業の)先生は誰ですか という問いを投げた時に「田中」金曜日の2時間目の教室はどこですか という問いを投げた時に「108教室」 みたいな感じで結果が出てくることです テーブルを結合して作成したいのですが、 時間割テーブル(曜日、時間) 科目テーブル(科目コード、科目名、担当教師名) このあたりは思いつくのですが、 ・教室をどのテーブルに組み込むか ・もっと効率のいいテーブル構成はないか で詰まってしまっています 詳しい方いらっしゃいましたらご教授お願いします
CentOS 5.11 の、シェルスクリプトで、/usr/bin/mysqldump --skip-lock-tables --skip-add-drop-table -u user01 -ppasswd sample_db > db_dump.sql として、MySQLからDBのダンプをとろうとしましたが、数MBの大きいサイズは途中までしかエクスポートできないようでした。数KBのデータは可能でした。どこかの設定でも変更しなければいけませんか？
phpでアカウント制掲示板を制作しています。タイムラインは大方完成したので、ログイン画面を作ろうとしたら問題が発生しました。もし、Aさん、Bさんが同時にログインしていたとき、Aさんが投稿したらAさんの名前は後からログインしたBさんになってしまうと思われます。この問題、皆さんならどのように解決されますか？？
アダルト動画サイトや情報系のニュースサイトを作成したいのですが、一般的に動画や記事はどういう風に取得しているのでしょうか？(グノシー、ますたべ)、キュレーション系サイト等 クーロン等で定期実行してスクレイピングで取得、その後に取得した情報を加工しながら出力という感じなのでしょうか？ 出来れば詳細に教えていただきたいです。
mysqlで質問です。 15647 65498 53467 89461 16775 4567 3467 こんな感じで数字が入っているカラムがあります。 レコード数が1万行くらいあるとします。 1000代の数字は何個 2000代の数字は何個 10000代の数字は何個 など千単位や万単位で数をカウントしたいときどのように書いたらいいのでしょうか？ select substr(カラム名,1,4) ,count(substr(カラム名,1,4)) from テーブル名 group by カラム名 上のsqlを試しましたが、その値が何個あるかカウントで思った処理にはなりませんでした。
php+mysqlでauto incrementでidを割り当てたいと思っています。「個人ID」と、個人が持つ「案件ID」があり 個人IDは登録順にauto incrementで割り当てられます。 案件IDに関しては個人ID+autoincrementの数値としたいのです。 例 個人ID：001 案件ID：00101 ：ID001さんの1件目 案件ID：00102 ：2件目 insert時にこのような形を実現する方法はあるでしょうか
テストでMySQLサーバを立てておりますが、5.1ではBLOBでバイナリが正しく格納できるのですが、MySQL5.6.30では正しく入らない状態です。 少し詳細に記載すると、100KBの画像をphpmyadmin経由で入れると76KBほどになり、ダウンロードしても正しく表示されません。 my.cnfも含めてわかる方がいましたらご教授ください。
さくらサーバーでphpとmysqlが文字化けします…htmlとかは文字化けしないんですが… さくらザーバーにアップする前にmampのローカルでは上手く行ってたのでウェブに移したんですが、文字化けが解決しません。 一応さくらサーバーがphp.iniの設定が可能だったため、ローカル環境と全く同じ設定にしておきました。 あとはmysqlのせいかと思いますが、 ネットで調べてさくらの方を色々いじりました。 以下がローカルサーバー Variable_name Value character_set_client utf8mb4 character_set_connection utf8mb4 character_set_database latin1 character_set_filesystem binary character_set_results utf8mb4 character_set_server latin1 character_set_system utf8 character_sets_dir /Applications/MAMP/Library/share/charsets/ 以下がさくらサーバーになります。 Variable_name Value character_set_client utf8 character_set_connection utf8 character_set_database utf8 character_set_filesystem binary character_set_results utf8 character_set_server uzis character_set_system utf8 character_sets_dir /usr/local/share/mysql/charsets/ 逆にさくらの方がちゃんと揃えてはあるんですけど、 character_set_systemだけは変えられなかったのでこれのせいかなって思ってます。 phpとhtmlやらは全部utf8で作成してあるのですが、 ブラウザでphpのフォームに入力したあと、mysqlで確認すると、まずそこで文字化けしてます。 それで、mysqlで人為的にカラムに挿入すると、 そこでは一応ちゃんと日本語になってても、 結果表示されるphpに行ってみるとまた文字化けしてます。 初心者なので、自分なりに調べて文の最初にnamesなんとかを入れるのもやってみたんですが、うまくいきませんでした。 どなたか解決策を教えてください。 あと、mysqlでは文字コードがもっと詳しくなってて、 同じutf8の中でも utf8mb4_unicode_ci utf8mb4_bin utf8_bin utf8_unicode_ci とか色々あったんですけど、これはどれでも関係ないんですかね… これ以外にも聞きたいこと山ほどですが、とりあえずこれだけにしておきました。 大学に関連の講義もなく独学でやってて困ってます。
MYSQL 大切なものでございますか。
Access DBからMySQL ODBCを使用して、MySQLへのエクスポートをしようとしています。MS Accessでテーブルを選択して、エクスポート → ODBC データベースを選択し、 実行すると、 ODBC － 呼び出しが失敗しました。 Incorrect string value .... と表示されて、エクスポートができません。 文字コードの指定がどこか、おかしいのだろうと思うのですが、原因が掴めないでいます。 AccessのDBの文字コードは SJISです。 MySQLの文字コードもSJISにしたつもりです。my.iniの設定は以下のようになっています。 [mysql] default-character-set=sjis [mysqld] default-character-set=sjis どこを修正すればいいのか、教えて頂けないでしょうか。 以上。よろしくお願い致します。
SQL 文についての質問です。 id（自動採番）、member（購入者）、item（購入内容）、date（購入日） の 4 つの属性を持つ買い物テーブルがあり、次の 4 行があるとします。| 1 | 山田 | 人参 | 2016-05-24 | | 2 | 田中 | 白菜 | 2016-05-25 | | 3 | 山田 | 大根 | 2016-05-24 | | 4 | 田中 | 白菜 | 2016-05-25 | 特定の人物による特定の日付の買い物内容を、 次のように 1 行で取得するためにはどのようにしたらよいでしょうか。。 また、item のカラムは購入内容の数に応じて増えるようにしたいです。 | member | item1 | item2 | date | -------------------------------------------- | 山田 | 人参 | 大根 | 2016-05-24 | 考えているのですが、わかりません。。よろしくお願いいたします。
添付ファイルにて、sqlでid1のカラム(pets)の中(にカンマ区切りで入っている動物の文字列を一匹でも、検索条件に含まれたらidが1のレコードを取得は可能でしょうか？可能であればSQLをご教授頂ければと思います。 よろしくお願いします。
ある行がデリートされたときに他のテーブルのある行も削除するためにはトリガーをどのように書けばいいでしょう。
MySqlのデータの並び替えで AとBと列があったとして AとBの数値をミックスさせるような感じで数値の大きい順番に取り出すことはできますか？name | A | B | 田中 | 1 | 7 | 大田 | 2 | 0 | 安倍 | 3 | 5 | 菊池 | 4 | 0 | 有田 | 5 | 3 | この場合、田中、安倍、菊池、有田、大田の順番で取り出したいです。 宜しくお願い致します。
MYSQLでキーボード入力された値が数値かどうか判定するにはどんなＳＱＬ文を書けば良いですか？
Mysqlのadminで日本語のデータを見ると文字化けしてないのですがselectを使うと文字化けします、どうしたらselectでも文字化けしないようになるでしょうか
MySQLのデータ保存先とibdata1ファイルについて /etc/my.cnf には datadir=/mysql とあり /mysql にスキーマごとのディレクトリがありここにデータが保存されるとの理解なのですが、 /mysql には 下記のファイルがあります． ib_logfile0 ibdata1 ib_logfile1 「デフォルトではibdata1ファイルにデータを蓄積していきます」 との解説も見るのですが，サイズをみると，ibdata1は140Mと小さいので ここにデータが保存されていはいないことはわかりますが， 更新日付を見ると更新はされているので使用されています． すると、ibdata1はなにに使われているのでしょうか．
MySQLで、 AとBのデータベースに、それぞれ同じテーブル名で異なる内容が入ってる場合、 統合することはできますでしょうか？ また、その方法をご教授いただきたいです。
Instant WPを使っています。突然ログインができなくなりました。 Instant WPをつかってワードプレスの編集をしています。しかし昨日突然、ログイン画面がおかしくなりログインできなくなりました。 下記のようなメッセージがログイン画面と同じ場所に出ています。 ]: Unable to save result set in C:\Users\Username\Desktop\InstantWP_4.5\iwpserver\htdocs\wordpress\wp-includes\wp-db.php on line 1813 データベースに関してあまり詳しくないので わかりやすく修復の仕方を教えてくださる方がいましたら よろしくお願いいたします。
PhpでMySQL のテーブルのカラム名だけを配列に押し込みたいのですが上手くいきません。どうすればいいですか？
以下のコードで次のエラーがでるんですがどこを直せばいいですか？Fatal error: Call to a member function execute() on boolean <?php $mysqli = new mysqli('localhost', 'ka', 'ri', 'IDENTITY'); $sql = "select * from aaa"; $li = ""; $st = $mysqli->prepare($sql); $st ->execute(); $rows = mysqli_fetch_row($st); ?>
見ていだだきありがとうございます。 mysqlを勉強中のものです。 データを取り出す方法で困っていて行き詰まってしまい google検索でもいい方法が見つからなかったため質問いたします。温度計で10分ごとにデータを取得してmysqlに格納しています。 それをphpで取り出してグラフにしています。 データを最新のものから24時間（6 * 24 = 144個）を取得して グラフ化させたいのですが、以下のように指定すると最新のデータから表示されてしまうので困っています。 現在のデータ取得方法ですが以下です。 mysql> select * from テーブル名 order by id desc limit 3; +-----+------------+----------+------+ | id | date | time | temp | +-----+------------+----------+------+ | 437 | 2016-05-19 | 23:30:02 | 22.0 | | 436 | 2016-05-19 | 23:20:02 | 22.1 | | 435 | 2016-05-19 | 23:10:02 | 21.9 | +-----+------------+----------+------+ この並びで取得するとグラフが最新のものから表示してしまいます。 この並びを逆にして取得したいのですが、何かいい方法はないでしょうか？ | 435 | 2016-05-19 | 23:10:02 | 21.9 | | 436 | 2016-05-19 | 23:20:02 | 22.1 | | 437 | 2016-05-19 | 23:30:02 | 22.0 | +-----+------------+----------+------+ 上記の並びで最新のデータから144個取得したいです。 mysqlを勉強してまだ日が浅いのでお詳しい方がおりましたらアドバイス よろしくお願いいたします。 ちなみにフィールドは以下です。 +-------+-------------+------+-----+---------+----------------+ | Field | Type | Null | Key | Default | Extra | +-------+-------------+------+-----+---------+----------------+ | id | int(11) | NO | PRI | NULL | auto_increment | | date | date | YES | | NULL | | | time | time | YES | | NULL | | | temp | double(3,1) | YES | | NULL | | +-------+-------------+------+-----+---------+----------------+
初めまして。mysql5.7 で物理容量計算をしています。 == テーブル名:Table_A 列名: col1 char(200) col2 vachar(100) 想定レコード数 10000件 == 上記の場合、 (col (200バイト)＋ col(100バイト＋ 長さ1バイト))×10000=3,010,000バイト 3010000/1024/1024 = 約2.8MBの容量が必要と考えて良いのでしょうか？ 調べた限りでは、レコード数×列型のサイズで計算するようなのですが、考え方としてあっているのかご教授いただきたく、よろしくお願いします。
データベースのカラムの中の１の数をcountしてキーがカラム名、値がcount数の配列rowsを作ろうとしているのですがうまくいきません。カラム名はaとbです。以下はrowsをdumpした値です。なぜrowsの中身が以下のようになるのでしょうか？ array(2) { [0]=> array(1) { [0]=> array(1) { ["count(a)"]=> int(1) } } [1]=> array(1) { [0]=> array(1) { ["count(b)"]=> int(2) } } } <?php error_reporting(-1); // MySQLiに関する全てのエラーを mysqli_sql_exception に変換し， // try ~ catch で取り扱えるようにする mysqli_report(MYSQLI_REPORT_ERROR | MYSQLI_REPORT_STRICT); try{ $li = ""; $mysqli = new mysqli('localhost', 'kunta', 'ringo619', 'identity'); $character= array('a','b'); foreach ($character as $value) { $sql = "select count(".$value.") from aaa where ".$value."='1'"; $st = $mysqli->prepare($sql); $st ->execute(); $rows[] = $st->get_result()->fetch_all(MYSQLI_ASSOC); } var_dump($rows);
MySQLを起動しているとswap不足の大量のメッセージでApacheが落ちてしまいます。[環境] OS:FreeBSD 10.3-RELEASE-p3(64bit) APP:apache24-2.4.20_1 mysql56-server-5.6.30 mysql56-client-5.6.30 php55-5.5.35 [現象] MySQLを起動しているとすぐでは無いのですが、しばらくすると以下のメッセージが大量 に出力されapacheが落ちてしまいます。 OSは落ちてないようなのですが、ログイン認証に時間がかかったり、タイムアウトしてし まったりします。 [swap_pager_getswapspace(X): failed] swapは2Gとっています。落ちたときのswapサイズは不明です。 ネットで検索するとLinuxではカーネル設定で「 vm.swappiness = 0」を 入れると解決するという記事を見つけましたがFreeBSDではどうしたら 良いのでしょうか。 swapサイズを増やしても駄目という記事があり、試しに4Gにしてみたの ですが、やはり駄目でした。
SQLに関する質問です。 tbl1とtbl2の２つのテーブルがあります。tbl1のidが100、codeが5の行を削除したいのですが、 もし、codeの値がtbl2のnumber列にある複数の値と同じ値がある場合、削除をしないようにしたいです。 DELETE FROM tbl1 WHERE id = 100 AND CASE WHEN code = (SELECT number FROM tbl2) THEN 0 else code = 5 END ここまで書いたのですが、 codeの値 がnumber列に含まれる場合、の書き方がわかりません。 完全一致で表示したいので、イコールかとも思ったのですが違うと思い、うまくいきません。 また、サブクエリーでのエラーもあります。 お恥ずかしいコードですが、正しい文のご回答、またはアドバイスをいただければ幸いです。 どうぞよろしくお願いいたします。
下記画像のような物をSQL文で作成したいのですが、なかなかうまくいきません。 ど... 下記画像のような物をSQL文で作成したいのですが、なかなかうまくいきません。どなたかご教授ねがいませんか。 私が今使っている環境は A5:SQL Mk-2 64bit edition サーバーがXAMPPになっております。 課題が、もともとがｵﾗｸﾙ？前提での出題になっており もういろいろとうまくいきません、、、、 どなたかこの課題を教えてください。。
SQL Developerでmysqlに接続しましたが、 コード補完がされません。（ctrl + spaceが効かない） また、limit 100とかすると、コードが誤っていますみたいな下線部が出てきます。 以下の対応をするにはどのような設定をすれば良いでしょうか？ １、コード補完 ２、mysqlに適したコードのチェック
mysqlでの文字列置換えについて教えて下さい （置換前） ⇒ （置換後） 39600101 ⇒ 39600100 46720502 ⇒ 4672050049512503 ⇒ 49512500 上のように8桁数字が入っているデータの下二桁を00に置き換えたいです UPDATE `table` SET `no` = REPLACE (`no`, '%__', '%00' ); というSQLを流してみたのですが、SQLのエラーは出ずに 0 行変更しました。 (クエリの実行時間 0.5352 秒) というのが帰ってきました（phpMyAdminで実行してます） このような処理のSQL文を教えていただけないでしょうか？ よろしくお願い致します
2つのテーブルを結び付けるのが分かりません。 現在Mysqlを勉強しています。テーブルを作成、削除、カラムの追加など一つのテーブルを編集することは出来るようになりました。しかし2つのテーブルを結び付ける、外部キーが出てきてよくわからなくなりました。 親テーブルと子テーブルを結び付ける為に外部キーが必要なのはなんとか理解できるのですが、 「1対1、1対多、多対多」という概念が出てきて詰まりました・・・ どなたかなるべく難しい単語を用いずに説明していただけないでしょうか、、、、 よろしくお願いします。
mysqlであるテーブルのレコードに対応する他のテーブルのレコードを削除するにはどうすればいいですか？delimiter // create trigger three after delete on base for each row begin delete from table name where id=old.id; delete from table namea where id=old.id; delete from table number where id=old.id; delete from table adress where id=old.id; delete from table work where id=old.id; delete from table school where id=old.id; delete from table pass where id=old.id; end; // delimiter;
MYSQL 必要でございますか。
どうしたらBindparamで変数を与えた'？'をlike演算子とともに使えますか？Where a like %?% としたら%?%に対してエラーがでました。
MySQL でinsertした数字と違う数字がテーブルに入っているのですがどうすればいいのでしょう。
ｍｙｓｑｌのvariablesの以下の文はそれぞれどういう意味なのですか？character_set_client | cp932 | character_set_connection | cp932 | character_set_database | utf8mb4 | character_set_filesystem | binary | character_set_results | cp932 | character_set_server | character_set_system | character_sets_dir
Phpからmysqlに日本語をinsertするときに文字化けが起きます。mysqlで直接insertすると文字化けは起きません。ネットに書かれてるPhp.iniの:は全て消しました。どうすればいいでしょう
Sublime text からMySQL にinsertすると文字化けしてしまいます。何処をどう設定すればいいでしょうか。
Wordpress初心者です。 カスタム投稿にて記事を作成し、カテゴリー、タグを設定しました。フロントページにウィジェットでカテゴリーやタグクラウドを表示したのですが、 クリックしても 「何も見つかりませんでした お探しのものが見つからないようです。検索すると良いかもしれません」 と表示されるばかりです。 表示させるには何か別に必要でしょうか。 テーマは「Twenty Sixteenバージョン: 1.2」を使用しています。
xamppってなんて読みますか？ 様々なソフトパッケージをまとめたものです。
MySQLのバックアップってどうやってとるのが一般的でしょうか 複数のデータベース及びテーブルからなるシステムのバックアップを定期的に取りたいです一番普通の定番のやり方といえばどうなるのでしょうか ちなみに規模としてはレコード数で100万弱、データ量で10GB弱といったところです 毎日少しづつ増えます 前任者は/var/lib/mysql/hoge/の中のファイルを丸々コピーしてscpで別のサーバに保存しておくということをcrontabでやっていたようですが、これって割りと普通なことでしょうか？ 実際に業務でバックアップとってる方にお聞きしたいです
以下のコードで次のエラーがでます。どこを直せばいいですか？Fatal error: Call to a member function fetch_assoc() on boolean in C:\xampp\htdocs\cmt\my.php on line 24 <?php session_start(); echo $_SESSION['adress']; if (!isset($_SESSION["number"])) { exit; } $mysqli = new mysqli('localhost', 'kunta', 'ringo619', 'cmt'); $query = "select adress from fac"; $result = $mysqli->query($query); $a = ""; foreach ($result as $row) { $b=strpos($_SESSION['adress'],$row['adress']); if($b !== false){ $adress= $row['adress']; } } $query2 = "select * from fac where adress = ".$adress; $result2 = $mysqli->prepare($query2); while($row = $result2->fetch_assoc()){ $id = $row['id']; $adress = $row['adress']; } ?>
現在運用しているシステムについて原因不明 の現象があります。開発環境：VS2008 C# データベース：MySQL5.5 サーバー：Windows Server2012 Standard データベースはクラウド上にインストールしています。(IISで) システム起動後、伝票などを入力し登録をクリック エラーなどは何もでないが、登録出来ていない 自社の開発環境で確認する限りは現象は発生しない。 現場環境で運用すると発生する。 操作ログを書き出すようにしているが、ログにも書き出されていない C#とMySQLの組み合わせは初めてなのですが、このようなが発生することは あるのでしょうか? MySQLの設定などなにか特殊なことはあるのでしょうか? 些細なことでも結構ですので、なにか分かれば教えて下さい。 よろしくお願いします。
MySQLについて。学習のためにXAMPPをインストールし、 XAMPPのcontrolパネルからApacheを起動し、ローカルホストでphpを設置してページを閲覧するところまで完了しましたが、 MySQLがphpのほうで認識しません。 mysql_query()構文で入力しても全く認識しません。 ちなみにMySQLは常に起動されています。 ユーザーパスワードの設定やphp.iniは設定していません。 （というかMySQLは何も手を入れておりません。） cmdでmysqlと入力しても認識されないのでスタートラインに立つことができずに困っています。 Webサイトなどはそれぞれが違うことを書いていて同じ環境とは思えません。。。 phpの中でSQLを操作するにはどうすればよいのでしょうか？ XAMPPのバージョンは3.2.2です。
My SQLの概念について。 こんにちは、また皆さまのお知恵を拝借ください。 現在PHP,MySQLの学習に取り組んでおります。自宅のPCにXAMPPをインストールし、PHPをローカルホストで動かして学習しています。 どうにも理解できないのですが、 MySQLとはどういったものなのでしょうか？ 様々なWebサイトを閲覧しておりましたが、 オープンソースのRDBMS、データベースシステムである。 との表記しかなく、理解に苦しんでおります。 ApacheはOS上で起動しているミドルウェアですよね？ ならばMySQLとはソフトウェアであるという概念であっていますでしょうか？ どうぞよろしくお願い申し上げます。
mysqlについてです。php側からtable内の最新10件からランダムに一つ抽出したいときのクエリが思いつきません。create table board( id int not null auto_increment primary key, name varchar(20), comment text, used varchar(20)); テーブルの構造です。 よろしくお願いします。
MySQLの5.7でテーブルに保存されているある値を取り出してセッションに使うにはどうすればよいでしょうか？
SQL、テーブルの結合について質問です。 下記のようなtbl_aとtbl_bがあったとします。▼ tbl_a ▼ コード ｜ 名称 ｜ 重さ --------------------------- ００１ ｜ お米 ｜ ３０ --------------------------- ００２ ｜ パン ｜ １０ --------------------------- ００３ ｜ そば ｜ １５ --------------------------- ▼ tbl_b ▼ コード ｜ 店名 ------------------ ００１ ｜ 店Ａ ------------------ ００２ ｜ 店Ｂ ------------------ ００３ ｜ 店Ｃ ------------------ tbl_bにtbl_aの名称だけを追加したい場合、 どのようにSQL文を結合すればよろしいでしょうか？ 下記のようにしたいです。 コード ｜ 名称 ｜ 店名 --------------------------- ００１ ｜ お米 ｜ 店Ａ --------------------------- ００２ ｜ パン ｜ 店Ｂ --------------------------- ００３ ｜ そば ｜ 店Ｃ --------------------------- 初歩的で恐縮ですが、ご回答、アドバイスをいただけますと幸いです。 どうぞよろしくお願いいたします。
【MySQL】 別のドメイン(無料サーバー)のデータベースにアクセスする方法を教えてください。 最近独学でMySQLを勉強しだしました。大学の自分のホームページでデータベースを使いたいのですが、phpは使えるんですけど、どうやらMySQLが使えないようで、どうしようかと思ったときに、データベースだけは無料サーバーに預けておいて、ホームページからインターネット経由でそれにアクセスするという方法を思いつきました。 それで、Xdomainというサイトでphp・mySQL対応の無料サーバーを開設しました。データベースのユーザ設定を済まし、phpMyAdminでテーブル作成、データ入力をして、無料サーバーの方のウェブページから(phpで)その入力したデータを表示するところまではうまくいきましたが、学生ホームページからアクセスすることができませんでした。 というのも、データベースのホスト名が「mysql1.php.xdomain.ne.jp」となっていて、これが自分のドメイン(例：h*ttp://chietter0213.php.xdomain.jp/ ：存在しないURL)のデータベースであると特定できるような記述が全く入ってないからだということに気付きました。 そこで、他のドメインからアクセスしたいときに使うホスト名はどうすればわかるのか、教えてください。よろしくお願いします。 （もちろん、ターミナルではなく、phpMyAdminを使う方法でお願いします。） 念のため書いておきます.... ・使用言語： PHP ・開発環境： XAMPP （localhost とphpMyAdmin） ・FTPクライアント： Filezilla ・無料サーバーのデータベース管理：「Xdomainサーバー管理パネル」のphpMyAdminを使用
データベースの値を所得してセッションにしたいんですがつぎのエラーがでます。このエラーの意味と直し方を教えてください。Uncaught PDOException: You cannot serialize or unserialize PDOStatement instances in [no active file]:0 Stack trace: #0 [internal function]: PDOStatement->__sleep() #1 {main} thrown in [no active file] on line 0 <!DOCTYPE html> <html> <head><title></title> <meta charset="utf-8"> </head> <body> <?php try{ $mysqli = new mysqli('localhost', 'kun', 'ringo', 'comu'); $pdo = new PDO('mysql:host=localhost;dbname=comu', 'kun','ringo'); $pdo->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION); $sql = "select first from name where id=1"; $st = $pdo->query($sql); session_start(); $_SESSION["first"] = $st; $mysqli->close(); } catch(PDOException $e){ echo "<p>connection error: ",$e->getMessage(),"</p>"; } ?> </body> </html>
SQL*Plus でForeignKeyの挿入の仕方はどのようにすれば宜しいですか？create table service ( serviceNO integer, --use a sequence serviceTime char(8), constraint serviceNO_pk PRIMARY KEY (serviceNO) ) / create sequence serviceNO_seq start with 99 increment by 1 create table booking ( bookingNO integer, --use a sequence serviceNO integer, constraint booking_pk PRIMARY KEY (bookingNO), constraint serviceNO_fk FOREIGN KEY (serviceNO) references service(serviceNO) ) / create sequence bookingNO_seq start with 1 increment by 1 insert into service(serviceNO, serviceTime) values (serviceNO_seq.NEXTVAL,'01:00:00'); --例えばserviceNOが100 insert into service(serviceNO, serviceTime) values (serviceNO_seq.NEXTVAL,'02:00:00'); --例えばserviceNOが101 insert into booking(bookingNO, serviceNO)-- <=ここに100を入れたい場合 values(bookingNO_seq.NEXTVAL, serviceNO_seq.NEXTVAL); このserviceNOには100が入って欲しいのですが、どのようにすれば宜しいですか？ どなたか、ご教示ください。
SQL*Plus のCURSORについての質問です。SET SERVEROUT ON DECLARE CURSOR cur_col IS select column_name from USER_TAB_COLUMNS; rec_col varchar2(20); CURSOR cur_num IS select count(column_name) from USER_TAB_COLUMNS; num number; num2 number; BEGIN SPOOL C:\testFile.txt num2 :=1; OPEN cur_col; OPEN cur_num; LOOP FETCH cur_num INTO num; FETCH cur_col INTO rec_col; column num2 Heading rec_col Format a15; num2 := num2 + 1; EXIT WHEN num2 > num; END LOOP; CLOSE cur_col; CLOSE cur_num; SPOOL OFF END; / このCURSORは不可能何でしょうか？ どなたか、ご教示頂けますか？
MYSQL たいせつでありますでしょうか。
MySQLでVIEWを使用したいのですが、GRANTによる特権付与はどのように行えば良いのでしょうか。 １．CREATE VIEWを使って動的にVIEWを生成する。２．DROP VIEWを使って生成したVIEWを削除する。 GRANTによりCREATE VIEW特権を与える事によりVIEWの生成は可能となりましたが、 動的に生成したVIEWだけをDROPできる特権設定を行いたいのですが、ご存知の方教えてください。 （動的に生成するVIEW名はCREATE VIEW時点でユニークな名前を生成するため、事前には分からない。） よろしくお願いします。
WEBを使った管理システム（勤怠や人事、求人等）を作る場合、HTML、CSS、JavaScript、Ruby、MySQLで作成できますでしょうか？ また、上記言語の選択はどうでしょうか？サーバサイド・スクリプトは下記の理由で選びました。 PHP…とっつきやすいけど汚くなりやすい Ruby…日本語情報多い。ルールが厳密で継続的に保守管理する場合は〇 Python…日本語情報が少なく習得しにくい Perl…少し前の言語みたいな情報が多い（よくわかってません。） JAVA…難しい SQLはよくわかっていません。 とりあえず一番メジャー？なMySQLかなと思っています。 Rubyとの相性等はどうなんでしょうか？ 当方素人です。 上記はネットで調べただけなので誤り等あればご教示いただきたく存じます。 よろしくお願いします。
phpMyAdminのインストールについて 現在、 さくらVPS CentOS 6.7 nginx 1.10.0 MySQL 5.6 PHP 5.5 でサーバー環境を構築しています。上記のインストールや設定は、下記サイトを参考にしました。 http://qiita.com/honmaaax/items/193826d23cccc900f5c5 http://qiita.com/utano320/items/36b6eac2bbd5bb5657f6 これに、 sudo yum install -y phpmyadmin --enablerepo=remi-php55 でphpMyAdminをインストールしたのですが、 何度設定しても IPアドレス/phpmyadmin にアクセスすると404 Not Foundとなってしまいます。 phpmyadminの設定は下記サイトを参考にしました。 http://9ensan.com/blog/server/sakura-vps-nginx-alias-phpmyadmin/ 初心者な者で大変お恥ずかしいのですが、解決策もしくは 別の方法などがありましたら教えていただけると助かります。 ちなみにWordpressを運用予定です。 お力お貸しいただければ幸いです。 よろしくお願いいたします。
MySQLのマスタースレーブ構成について マスターサーバのHDDの容量をRAIDやJBODで巨大化させていっても１台として大きくするのには限界があるのではないでしょうか？その場合どのように冗長化させているのでしょうか？その１台を ひたすら大きくしていくのか、仮想的な１台を分割するのかなどご教授いただきたいです。 宜しくお願いします。
php及びmysqlに関連しまして まだまだ、初心者なのですが、イメージを掴むためにも少し抽象的な質問をさせてください、分かりづらい部分も多々あると思いますが、予めお詫びを申し上げます。①最終的な目的は、a.phpにより表示されるHTMLに置いて、mysqlの甲テーブルと乙テーブルの情報を組み合わせて加工した情報を表示させたいと考えております。 例えば簡単な例で申し上げますと ----------------------------------------------------------------- 甲テーブル>A社、売上10 乙テーブル>B社、売上20 a.php> A社の売上10、B社の売上10、2社の平均売上15 ----------------------------------------------------------------- と言った具合です。 ②通常は、a.php内にSQL分を記載して、必要な箇所にそれぞれの必要なデータを引っ張ってくる文を書くものと思いますが、今回は諸々の事情があり「A社の売上10、B社の売上10、2社の平均売上15」という情報を丙テーブルに格納したいと考えております。 ------------------------------------------------------------------- 丙テーブル id ABdata_sales 1 <?php ***** SQL*****?> ↑(甲、乙の情報を元に「A社の売上10、B社の売上10、2社の平均売上15」というHTMLを出力するプログラム) ------------------------------------------------------------------- ③ここで、質問なのですが、このように丙テーブルを作りたい場合には、 1) b.phpを作成し、 <?php ***** SQL*****?>を作りこれを、改めてSQLに格納する一手間を加えるのが一般的なのでしょうか？ 順番としては以下の概念になります。 ◆（MYSQL）甲乙テーブル＞b.php＞（MYSQL）丙テーブル＞a.php 2) それとも、MYSQL内で例えば上記のような情報を組み合わせて一つのテーブルに情報を格納することが可能なのでしょうか？つまり、外部のb.phpをかまさずにMYSQL内の操作だけで丙テーブルを作成する。 ◆（MYSQL）甲乙テーブル＞（MYSQL）丙テーブル＞a.php 3) または、それ以外の方法で複数のテーブルの情報を一つのテーブルに纏めるより一般的に術があるのでしょうか？ まだまだ、根音的にわかっていない部分があるため、的を射ない質問となってしまっていることを改めてお詫び申し上げます。私としては、通常このように、複数のテーブルをひとつのテーブルに纏める場合に、外部のphpファイルをかませて新たに格納する必要があるのか、MYSQL内でできてしまうのか、他に方法があるのかというイメージをつけたいという単純な疑問です。。 何卒、よろしくお願い申し上げます。
MYSQLとPHPでウェブ上で合計表示をしたいです。(勉強を始めたばかりです) 現在以下のようなデータベースがあります。date ..... A ..... B ..... C 2016-01-01 100 200 300 2016-01-02 150 250 350 2016-01-03 100 200 300 これらのA、B、Cの各合計を表示したいです。 初めてサイト等を見ながらやっているのですが、ここから進めません・・・。 $link = mysql_connect('localhost', 'ユーザー名', 'パスワード'); if (!$link) { die('接続できません: ' . mysql_error()); } $db_name = "データベース名"; mysql_select_db($db_name,$link); $sql = "SELECT SUM(`A`) FROM データベース名"; $query = mysql_query($sql); 最終的には Aの合計値：○○ Bの合計値：○○ Cの合計値：○○ という風に表示したいです。 どなたかご教示お願い致します。
MySQLでクエリを発行する際の不等号について質問です。SELECT * FROM table WHERE A <> "1"; SELECT * FROM table WHERE A != "1"; どちらがパフォーマンスに優れているなど違いはあるのでしょうか？ よろしくお願いします。
私は、ある団体で、地域密着型のサイトを開設を考えています。 そこで質問があります。WordPress（ブログ型ではなく、サイト型）が使えて、PHP、CGIやMySQLが使える無料のレンタルサーバーって、無いような感じがしますが、あるでしょうか？ なければ、安いレンタルサーバーにしようと思うが、重いという悪いイメージがありますが、 安くて軽いのがありますか？(そんなに軽くなくでも、問題なく使えるならよい) あと、開設にあたって、これから使いたい事 ・1つのURLでPC、タブレット、スマホ、モバイル(ガラケー)それぞれ合わせてレイアウト表示できるもの ※ 例えば、モバイルなら、http://www.○○○.jp/mになるが、http://www.○○○.jp/で総一できるもの ・地域密着型なので、会員制のページで、ログインできるもの(一般者からの新規登録はしない) ・会員たちのログイン内容（IDとPW）は、管理者(私)が、編集し、会員たちにIDとPWを記入した用紙を渡す ・会員以外で特定の人だけログインできる総一のIDとPWも管理者(私)が、編集し、特定の人だけ知らせる ・私のある団体では、女性部などの専門部があり、メニューに例えば、 Aさんは、女性で45才なら、地元の団体と女性部の2つを表示 Bさんは、男性の65才でゲートボールの大会にエントリーしているなら、地元の団体と高齢部と体育部の3つを表示できるもの 役員の人は、地元の団体と全ての専門部を表示する ※ これらを使えるには、PHPとCGIとMySQLのどれがよいですか？ 長文で失礼しました。 分かる方がしましたら、示唆をお願いします。
Xampp with Windows環境でのzip作成、ファイルの移動、zip作成でのエラーについてどなたか分かる方はいないでしょうか？ 環境:mysql5.6、php5、apache2、Windows7、8、10、cakephp やりたいこと ①mysql(文字コードはutf8)に書き込んだファイル情報(ファイル名、ファイルパス)を取得し、ファイルが置いてある場所から別の場所にファイルを移動させたい ②ファイル置き場のバックアップ作成 アップロードしたファイルのバックアップを取りたいので、phpのziparchiveを使い圧縮してバックアップを取りたい 問題点 ①の場合、ファイル名の文字コードをutf8からSJISに変換してphpのrename関数を使い移動させているが、一部のファイルが移動できない。 ファイル移動のソース rename(c:¥xamp¥htdocs¥niko¥app¥......¥file_before¥file_bame.png,c:¥xamp¥htdocs¥niko¥app¥......¥file_after¥file_bame.png); ②も、ファイル名の文字コードをutf8からSJISに変換してzipアーカイブに突っ込んでいるが、一部のファイルのみ Warning: fopen(c:¥xamp¥htdocs¥niko¥app¥......¥file¥file_bame.png): failed to open stream: No such file or directory in C:\... というエラーが出る。 上記2点の問題点について解決できそうな案などありましたらご教授願います！
Moodleの開発について質問させていただきます。私は今、卒業研究で「Moodleを利用した、受講者の成績を考慮した小テストの自動更新機能の開発」というテーマのもと、Moodleについて調べています。そこで質問なのですが、小テストの点数を成績とし、ユーザごとに成績から苦手を考慮した小テストを自動で問題バンクからコースに追加するような機能は、実現できるでしょうか。 説明が分かりにくいとは思いますが、よろしくお願いいたします。
SQL Plus の時間のINSERTについて。下記のテーブルがあり、 create table booking ( bookingNO integer, bookingDate date, bookingTime date, endTime date, constraint booking_pk PRIMARY KEY (bookingNO) ) / create sequence bookingNO_seq start with 1 increment by 1 nomaxvalue nocycle nocache; INSERTでレコードを入力したいのですが、 bookingNO bookingNO_seq.NEXTVAL bookingDate 2016-05-14 bookingTime 18：30：00 endTime 19:30:00 bookingTime と endTime のINSERT方法が分からないので、困っております。 どなたか、ご教示ください。
現在ｍｙSQLを使ってるのですが、ログインすることができません・・・ 様々なサイトを見ていると C:>mysql -u root -p が基本形なのですが起動させると最初から mysql>となっていて同じ命令文を送ると当然のごとくエラーを返されます。 解決方法とかあったら教えてください、宜しくお願い致します。 （xampp コントロールパネルは起動してｍｙｓｑｌをスタートさせています） これはもう１件の問題なのですが、現在はバージョンが古く新しいバージョンにしようと公式ページにてインストーラーをDLして起動したのですがサーババージョンが変わってませんでした。 こちらの方もお答えいただけると嬉しいです。 （ログインできたら他の方法を用いて解決する予定ではあります）
MySQL集計の質問です。テーブル１： ユーザー 商品 個数 Aさん りんご １ Aさん バナナ ４ Aさん オレンジ ２ 結果： ユーザー 商品 個数 商品 個数 商品 個数 Aさん りんご １ バナナ ４ オレンジ ２ テーブル１からどんなSQL文を実行したら上記ほしい結果ができますか。 よろしくお願い致します。
mysqlの正規表現で、「.」や「+」を文字列として扱う場合、 エスケープの方法は、 「+01234.4 regexp '^(¥¥+01234¥¥.4)$'」 で合っていますか？ それとも 「+01234.4 regexp '^(¥¥¥¥+01234¥¥¥¥¥.4)$'」 考えてたらわからなくなりました。 ご教授願います。
MySQLを扱い始めた初心者です。 教えてください。 質問は データー量が170万件有るデータを単純にselect * from テーブル 名で開くだけで2.1秒ほどかかります。特別にインデックスも作っていませんが、こんなもんでしょうか？ テーブルのカラムは 日付、コード、値1～値5までのカラム数は7つです。 毎日コード3000件ほどのデータを約3年分ほどになります。 自己結合でテーブルを2個にして検索処理したらたら時間が たちすぎて途中であきらめました。（30分以上有ったと思います） こんなもんではないと思い投稿しました。 適切なインデックスの使い方がわかりません。 MySQLのVer5.7 メモリーは4Gです。
ある業務の引き継ぎ作業をしているのですが 、Windowsのバッチファイルでmysqlの utf8で書かれた.SQLファイルを読み込み、mysqlサーバに送るという作業をしています。その時、日本語で書いたレコードが文字化けしてしまうのですが、どうすれば直るでしょうか？前にインストールしていたmysql5.7をアンインストールし、引き継ぎ元の会社と同じmysql5.6.26のバージョンをインストールしたのですが、それが原因でしょうか？
ｍｙｓｑｌで、あるテーブルのカラムに一つの値を加えると、他のいくつかのテーブルのカラムに同じ値が加わるようにすることはできますか？イメージはあるテーブルを他のいくつかの主キーすべての外部キーに設定する感じです。
以下のトリガーの文にエラーがでるのですがどこがおかしいのでしょうか。delimiter // CREATE TRIGGER lock AFTER INSERT ON base FOR EACH ROW BEGIN INSERT INTO name values(NEW.id,NEW.secound,NEW.first); END； // delimiter ;
学科 +----------+----------+ | 学科code | 学科名 | +----------+----------+ | 1001 | 経済学科 || 1002 | 経営学科 | | 1003 | 情報学科 | | 1004 | 英文科 | +----------+----------+ 学生 +--------+------------+------+------+----------+ | 学籍No | 氏名 | 年齢 | 性別 | 学科code | +--------+------------+------+------+----------+ | 0001 | 内田 貴裕 | 21 | 男 | 1001 | | 0002 | 坂本 貴幸 | 22 | 男 | 1002 | | 0003 | 足立 雅俊 | 20 | 男 | 1002 | | 0004 | 山本 智也 | 21 | 男 | 1003 | | 0005 | 柳田 裕明 | 19 | 男 | 1001 | | 0006 | 野村 伸治 | 18 | 男 | 1003 | | 1001 | 藤野 静香 | 18 | 女 | 1001 | | 1002 | 田中 真弓 | 21 | 女 | 1002 | | 1003 | 三原 結香 | 20 | 女 | 1001 | | 1004 | 深町 智子 | 19 | 女 | 1003 | | 1005 | 塚田 恵子 | 20 | 女 | 1003 | | 1006 | 井上 智美 | 20 | 女 | NULL | +--------+------------+------+------+----------+ SQLの問題で学生が存在する学科、サブクエリで作成という問題なのですが 答えがわかりません。教えてください。お願いします。
wordpressで商品一覧をつくろうと考えています。 当方がイメージするものが実現可能か判断がつかず質問します。 方法についてご指摘やアドバイスがある方はご回答いただければ幸いです。【当方の状況】 wordpressは準備済み。DBとphpは昔、薄めの入門書を１冊やった程度。 wordpress、DB、MySQLが使えればできるだろうと考えている。 費やせる時間は半月程度なので、難易度次第では一部の機能は一旦諦める。 【UIのイメージ】 以下のような価格コムの形式が理想です。 http://kakaku.com/kaden/lcd-tv/itemlist.aspx?pdf_se=1&pdf_vi=d ・商品の一覧表示（サムネイル形式or詳細情報つき形式） ・カテゴリで絞り込む機能 ・チェックを入れた商品同士を比較する機能 （その商品の全情報を表示した状態で並べて比べる） ・これらの途中のどの段階でも、商品名か商品画像をクリックすると その商品ページに飛ぶ（wordpressの記事ページ） 【更新作業のイメージ】 商品の詳細情報は最新データが自動で反映される。 →別途excelで管理している最新データをそのままDBに反映させる。 →→DBのデータが更新されると、サイト内の該当する部分も更新される。 【UI】については今調べている感じだと、大変そうだけど多分できるのでは？ とタカをくくっています。具体的な方法はわかりませんが・・・ 【更新作業】の方は、こちらも多分できるのでは？と思っていますが、 方法は勿論、難易度も掴めません。 半月じゃ無理、いやいや余裕でしょ、○○の知識もないと、こういうやり方があるよ等何でも結構です。 部分的な方法やプラグインの利用は調べるといろいろ出てきますが、 望むポイント（機能）がいくつかあるので最終的に希望の形にできるかがどうも掴めません。 よろしくお願いします。
メールフォームから送信された情報に1から順番に番号を割り振ってデータベースに登録するにはどうすればいいですか？
MYSQL 丁寧にしますか。
SQLについての質問です。 以下のデータがあり、順位○-○のセルそれぞれに別テーブルにある都道府県データを当てはめたデータが出るクエリを作りたいと考えています。EXCELならVlookでできるのですが、SQLの場合、JOINを使うのだろうと思うくらいで、どうしたらいいかわからない状態なのでアドバイスをいただけないでしょうか。 クエリ実行結果には名前を表示させたいです。 ユーザーID●●さんは■■ と表示させることが目的です。 T_user_card 順位1-1 順位1-2 順位2-1 順位2-2 順位3-1 順位3-2 … aaaaaa 111111 555555 333444 333333 444555 888888 bbbbbb 111222 999999 222222 222333 666666 44444 … T_name 111111 今川 222222 織田 333333 足利 444444 毛利 555555 大友 666666 島津 777777 伊達 888888 河野 999999 武田 111222 上杉 222333 真田 333444 斎藤 444555 浅井 …
MySQLの構文について 下記の構文で、C:\test.txt を取り込む内容になっています。================================ LOAD DATA LOW_PRIORITY LOCAL INFILE 'c:\test.txt' REPLACE INTO TABLE XXXXXXX CHARACTER SET XXXXX LINES TERMINATED BY 'XX' IGNORE XXX LINES ( XXXXXXXXXXXXX, XXXXXXXXXXXXX ) set XXXX = 'XXX' , XXXX = 'XXX' ; ================================ これに対して、c:\test.txt 以外にも、もう１つファイルを読み込みたいのですが、 文を全てコピーして、取込元ファイル名を変更し、下に継ぎ足す形で、そのまま貼り付けましたが、 構文エラーが出てしまいます。 何か構文と構文の間に必要な接続詞のようなものがあるのでしょうか？ 理想としては、取込元ファイルも、その内容の保存先も別々にしたいです。 SQLの記述だけを１つにまとめたい状態です。 この場合はどのような形で構文を書けばよいでしょうか。 SQLに対してまったく初心者ですが、よろしくお願い致します。
sqlについて質問です。テーブルA |id|xxx_id|yyy_id| |1|1|1| |2|1|2| |3|1|3| |4|1|4| |5|2|3| |6|2|4| |7|2|5| というテーブルがあったとします。 その場合にyyy_id に1,2,3 を全て含む xxx_id を取得するSQLが知りたいです。 宜しくお願いします。
XサーバーでインストールしたワードプレスのMYSQLについて エックスサーバーの管理画面で ワードプレスのMYSQLを整理していたら 間違って必要なMYSQLも削除してしまいました。なので メインで使っていたワードプレスのサイトが 見れなくなるという事態に陥ってしまいました ＼(^o^)／ そこで 間違って削除してしまったMYSQLに関してなのですが 現在phpmyadminから復旧できないかいと試しています。 初心者なので自信がないのですが。。 復旧に関してアドバイスや 詳しいサイトが有りましたらご教授いただけると幸いです。 よろしくおねがいします。
SQLについての質問です。 以下のデータがあり、都道府県○-○のセルそれぞれに別テーブルにある都道府県データを当てはめたデータが出るクエリを作りたいと考えています。EXCELならVlookでできるのですが、SQLの場合、JOINを使うのだろうと思うくらいで、どうしたらいいかわからない状態なのでアドバイスをいただけないでしょうか。 T_user id 都道府県1-1 都道府県1-2 都道府県1-3 都道府県1-4 都道府県2-1 都道府県2-2 都道府県2-3 都道府県2-4 都道府県3-1 都道府県3-2 都道府県3-3 都道府県3-4 aaaaaaa 1111111 1112222 1111133 2222211 2222233 3333333 3333311 4444444 1111121 3333344 1111142 1111122 bbbbbbb 2222234 2222233 2222222 1111133 3333322 2222244 3333355 1111121 3333344 4444444 3333355 1111121 T_ken 1111111 青森 1111112 秋田 1111121 東京 1111122 神奈川 1111131 千葉 1111132 埼玉 1111133 静岡 1111141 新潟 1111142 富山 2222222 大阪 2222223 京都 2222233 滋賀 2222234 兵庫 2222235 奈良 2222244 和歌山 2222245 愛知 3333311 福岡 3333322 長崎 3333333 大分 3333344 宮崎 3333355 鹿児島 4444444 沖縄
MySQLにある画像をZIP形式に圧縮する事はできますか？大量の画像を一度に圧縮するには、どうすればいいのでしょうか？
MySQL5.6が起動できません。CentOS6.7 64bit メモリ4GB (free -mでusedが210MB) ■既存のMySQL5.1を削除 #yum remove mysql* ■MySQLのリポジトリパッケージをインストール #yum install http://dev.mysql.com/get/mysql-community-release-el6-5.noarch.rpm ■MySQL5.6をインストール #yum --enablerepo=mysql56-community install mysql-community-server ■MySQLバージョン確認 #mysql --version mysql Ver 14.14 Distrib 5.6.30, for Linux (x86_64) using EditLine wrapper ■MySQLの起動 #/etc/init.d/mysqld start MySQL Daemon failed to start. mysqld を起動中: [失敗] ■/etc/my.cnf（デフォルト） [mysqld] datadir=/var/lib/mysql socket=/var/lib/mysql/mysql.sock symbolic-links=0 sql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES [mysqld_safe] log-error=/var/log/mysqld.log lic-links=0sql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES pid-file=/var/run/mysqld/mysqld.pid 参考URL http://www.kakiro-web.com/linux/centos6-mysql-yum-repository-instal... http://blog.ybbo.net/2014/01/22/%E3%80%90%E3%82%B7%E3%83%B3%E3%83%9...
PHPからMYSQLのUPDATEが処理されない PHPから以下のようなコードでMYSQLのUPDATE文を実行しようとしているのですが、反映されません… データ自体（$title、$content、$no）は正しく受け取っていて、DBへの接続もできているようなのですが、UPDATEが正しく処理されていないようです…どこが間違っているのか、ご教授ください。 … if($_POST['submit']){ $title = $_POST['title']; $content = $_POST['content']; $sql = <<<EOF UPDATE 'post' SET 'title' = '{$title}' , 'content' = '{$content}' WHERE 'no' = '{$no}' EOF; }
mysqlのクエリの書き方を教えてください。***************************************** テーブル名：mydb id date value 1 2016-05-01 10 2 2016-05-01 54 1 2016-05-02 43 2 2016-05-02 76 ※idとdateが複合主キー ***************************************** 上記のようなテーブルがあった場合に、 id date value 1 2016-05-01 10 1 2016-05-02 43 のような結果を得るためには、どのようにクエリを書けばよいのでしょうか。
MySQLでJOINを使用して3つのテーブルを結合し、「LIKE」検索を実施しています。（中間テーブルを利用してタグ検索の仕組みを作成しています） JOINするテーブルによって検索に成功するパターンと失敗するパターンがあり、その 違いが何なのかを調べている途中で手詰まりとなっております。 【検索内容】 実施内容：LIKEを使用した文字列「test」を検索。 成功 ：該当の文字列が当てはまる検索結果が表示される。 失敗 ：該当の文字列が当てはまるデータがあるにも関わらず、なにもヒットしない。 成功するパターンでも失敗するパターンでも、検索するテーブルは同じです。 JOINされるテーブルが異なっているだけです。 しかし、結果が同じになりません。 ＊＊＊以下SQL実行内容＊＊＊ 【成功 （mysite_pg_knowledge_posts_knowledge_tagsテーブルをJOIN）】 SELECT * FROM `test_knowledge_basercms`.`mysite_pg_knowledge_posts` AS `KnowledgePost` inner JOIN `test_knowledge_basercms`.`mysite_pg_knowledge_posts_knowledge_tags` AS `kpkt` ON (`KnowledgePost`.`id` = `kpkt`.`knowledge_post_id`) inner JOIN `test_knowledge_basercms`.`mysite_pg_knowledge_tags` AS `KnowledgeTag` ON (`kpkt`.`knowledge_tag_id` = `KnowledgeTag`.`id`) WHERE ((`KnowledgePost`.`name` like '%test%') OR (`KnowledgePost`.`content` like '%test%')) ORDER BY `KnowledgePost`.`id` DESC LIMIT 5 【失敗 （mysite_pg_blog_categories_knowledge_postsテーブルをJOIN）】 SELECT * FROM `test_knowledge_basercms`.`mysite_pg_knowledge_posts` AS `KnowledgePost` inner JOIN `test_knowledge_basercms`.`mysite_pg_blog_categories_knowledge_posts` AS `bckp` ON (`KnowledgePost`.`id` = `bckp`.`knowledge_post_id`) inner JOIN `test_knowledge_basercms`.`mysite_pg_blog_categories` AS `BlogCategory` ON (`bckp`.`blog_categories_id` = `BlogCategory`.`id`) WHERE ((`KnowledgePost`.`name` like '%test%') OR (`KnowledgePost`.`content` like '%test%')) ORDER BY `KnowledgePost`.`id` DESC LIMIT 5 ＊＊＊以下切り分け内容＊＊＊ １．JOINを1行にした。（2つのテーブル結合とした）→NG SELECT * FROM `test_knowledge_basercms`.`mysite_pg_knowledge_posts` AS `KnowledgePost` inner JOIN `test_knowledge_basercms`.`mysite_pg_blog_categories_knowledge_posts` AS `bckp` ON (`KnowledgePost`.`id` = `bckp`.`knowledge_post_id`) WHERE ((`KnowledgePost`.`name` like '%test%') OR (`KnowledgePost`.`content` like '%test%')) ORDER BY `KnowledgePost`.`id` DESC LIMIT 5 ２．JOINを無くした。→OK SELECT * FROM `test_knowledge_basercms`.`mysite_pg_knowledge_posts` AS `KnowledgePost` WHERE ((`KnowledgePost`.`name` like '%test%') OR (`KnowledgePost`.`content` like '%test%')) ORDER BY `KnowledgePost`.`id` DESC LIMIT 5 ３．LIKE検索を無くした。→OK SELECT * FROM `test_knowledge_basercms`.`mysite_pg_knowledge_posts` AS `KnowledgePost` inner JOIN `test_knowledge_basercms`.`mysite_pg_blog_categories_knowledge_posts` AS `bckp` ON (`KnowledgePost`.`id` = `bckp`.`knowledge_post_id`) WHERE ((`KnowledgePost`.`name` = 'test') OR (`KnowledgePost`.`content` = 'test')) ORDER BY `KnowledgePost`.`id` DESC LIMIT 5 ＊＊＊切り分け結果＊＊＊ 切り分けの結果、失敗するパターンは以下であることがわかりました。 １．特定のテーブル「mysite_pg_blog_categories_knowledge_posts」をJOINしている。 ２．LIKE検索を実施している。 LIKE検索を使用しなければ成功します。 LIKE検索を使用しても、別のテーブル「mysite_pg_knowledge_posts_knowledge_tags」であれば成功します。 原因及び対策についてコメントいただけると助かります。 よろしくお願いします。
LAMPサーバーでApache2のListen portを80以外にしても機能する設定方法を教えてください。 Linux distroはDebian jessieです。
レンタルサーバーのMySQLが複数あるメリット 現在、レンタルサーバーを検討しているのですが MySQLがたくさん利用できる！と書いてあったりします。ワードプレスを使うのに必要だとは思うのですが 作成しているウェブサイトは1つだけで、MySQLも1つあれば十分な気がします。 何十個もあると、なんだかもったいない気もしますが 何か他にMySQLを使うことはないでしょうか？ （ウェブサイトは1つだけで十分です・・） お詳しい方がいらっしゃいましたら、アドバイスを頂ければ嬉しいです。 どうぞよろしくお願いします！
mysqlの文字コードの設定について教えて下さい。・サーバ ・クライアント ・DB ・テーブル と細かく決められますが、何が違うのでしょうか。 たとえばmysqldやDBで設定しても、テーブルの文字コードを指定すれば上書きされますか？ またサーバとクライアントは、保存する側と送る側の違いという認識ですが、 実際どうちがうのですか？ たとえばmysqlが稼働するサーバの3306ポートにsqlを送ったら、クライアントは関わってくるのですか？ クライアントの文字コードの設定は関係してきますか？
ECサイト（オープンソース）のテスト環境をサーバーのことは何もわからない者がつくる場合、どれくらい勉強すればつくれるでしょうか？ テスト環境をつくるにも全く検討がつかずどれくらいかかるのか？そもそも無謀なのか？ご意見をお願いします。 webサイトをHTML,CSSとJavaScriptのライブラリを利用してつくる程度（１からは書けない）の知識はあります。
CSVデータをデータベースに取り込み一つのテーブルとした時、サーバサイドスクリプトで、そのテーブル内のレコードを表示させる事ができません！phpMyAdminを利用したデータベース管理で、以下のサーバサイドスクリプトを作成しました。 <？php $dbh = new PDO('mysql:host=localhost;dbname=データベース名;charset=utf8','id','パスワード');$stmt=$dbh->query("SELECT * FROM `テーブル名` WHERE `title` LIKE 'potential customers' order by `visiting_date` desc limit 3");while($result = $stmt->fetch( PDO::FETCH_ASSOC )) {echo htmlspecialchars($result['customer_name'], ENT_QUOTES). '、';}？> 上記サーバサイドスクリプトを利用して、お客様接客状況データ(CSVデータ)をメインのデータベースにテーブルとして取り込み、自動で訪問したお客様の、直近3名を、サイトの方に自動表示させようと思いました。 しかし、なぜか、CSVデータを一つのテーブルとして、データベースに取り込んだものはエラーになってしまいます。 下記が、そのエラーコードです。 Fatal error: Call to a member function fetch() on a non-object in /home/○○○/public_html/customer_member on line 8 CSVデータから取り込んだテーブルではなく、最初から手入力したテーブルについては、上記のサーバサイドスクリプトで、正常に表示されます。 なぜ？CSVデータにて取り込んだテーブルだけが、エラーになるのか？ そこがよくわかりません。 CSVデータをデータベースに取り込んで、ひとつのテーブルを作成したとき、そのテーブルに、下記警告表示がされました。 This table does not contain a unique column. Grid edit, checkbox, Edit, Copy and Delete features are not available. これが原因か？と思い、検索して編集が出来るテーブルに変更し、警告表示しなくしました。 しかし、それでもエラーになってしまいます。 これは、一体、何が原因としてあげられるでしょうか？ どなたか詳しい方、ご教示くださいｍ（＿ ＿）ｍ 当方、ほとんど初心者に近いです。上記のサーバサイドスクリプトも、色々な方からアドバイス頂いて、作成までこぎ着けたものです。 今回、更にデータベース管理の自動化を計ろうと思い、CSVデータを取りこんだだけで、後は自動表示させようと思いつき、実施した所、エラーにぶち当たって困惑してしまった次第です。 アドバイスして頂ける方は、是非、具体的な内容について、アドバイス頂けると、非常に嬉しいです。 それでは、どうぞよろしくお願い致します。ｍ（＿ ＿）ｍ
SQLについて分からないことがあり質問させていただきます。 本当に初心者で質問が分かりにくいかもしれないのですが お答え頂ける方がいらしたら教えていただけると本当に助かります。1か月分のデータの中で 「ある項目が1日5以上のIPが1か月に10以上あるものを表示する」 としたいのですが、SQLが分かりません。。 これのどこが間違っているかわかるかたいらっしゃいますでしょうか・・ --- select ip from ( select ip from ( -- 1日5回IP全部 select ip from テーブル where yyyymm = :yyyymm and action = 'ある項目' and URL like 'URLの範囲' group by ip having count(*) > 5 ) as s2 group by ip having count(*) > 10 ) as ip_all --- 仕事で切実でして・・・ よろしくお願いします！！ 使っているのはMySQLです。
ｍｙSqlにｙついて。コマンドプロントからできないのですが（内部ファイル外部ファイルが認証されていない） スタートボタンからのMysoq5.7command line からできれば問題ないですよね＞
サーバー環境に移行後のURLについて とても初歩的な質問でお恥ずかしいのですが本番環境のurlがよくわかりません。初心者が時間の無い中進めてきたので基本的な部分がごっちゃになってわからなくなってます。 下記の通りであってますでしょうか？ -------------------------------------------------------------- ○WordPressのローカル環境（ダッシュボード） http://localhost/WordPressのフォルダ名/ -------------------------------------------------------------- -------------------------------------------------------------- ○WordPressのサーバ環境（ダッシュボード） http://サーバー名（MySQL のホスト名）/アップロードしたフォルダ名/ （←移行する際サーバー用に置き換えたurl ） ※wp-config.php↓ /** WordPress のためのデータベース名 */ define('DB_NAME', '●●●●●-●●●●●'); /** MySQL データベースのユーザー名 */ define('DB_USER', '●●●●●'); /** MySQL データベースのパスワード */ define('DB_PASSWORD', '●●●●●'); /** MySQL のホスト名 */ define('DB_HOST', '●●●●●'); ←サーバー名 -------------------------------------------------------------- またWordPressで構築したページの本番環境のURLはどうやって知ることができるのでしょうか？ わかりづらい質問の仕方ですみません。 アドバイスよろしくお願いします。
新米のWEBデザイナーです。 この度クライアント様のホームページリニューアルの案件を請け負い 制作しています。本番の環境は、現在クライアント様が運営している既存のサーバー（さくらインターネット）と既存のドメインを使用する予定で、FTPアカウントの情報は伺っています。 私自身にPHPの知識がなく、フォームの構築はエンジニアの方にお願いしました。 そのエンジニアもPHPは専門ではなく、サイトをWordPress化し、フォームを実装したようでした。 その際、データベースの新規構築？が必要だとのことで クライアント様のレンタルサーバーの会員ID・パスワード、データベースのパスワードが必要とエンジニアに言われたのですが これは普通、クライアント様にお聞きして大丈夫なのでしょうか？ 個人情報が見られてしまう為、嫌がられる可能性はないのでしょうか？ そうしなければ実装はできないようなので そうするしかないのですが。。 知識不足で申し訳ありません。 お知恵を拝借したいです。 よろしくお願い致します。
こんにちは。SQLの環境設定について質問です！ MySQLをインストールして、コマンドプロンプトからMySQLに接続しようと 「mysql.exe -u root -p -b」と入力したらエラーになってしまいました。 なので、MySQLをインストールしたファイルを確認し、binの中を見たのですが「mysql.exe」自体がありませんでした（；；） こらは何度かインスト―ルを繰り返しましたが、結果は同じでした。 どうしたらいいのかどなたかご教授お願いたします！！ 今、研修でプログラムについて勉強していて、どうしても家でも環境を整えて勉強したいと考えています。 どんなことでもいいのでよろしくお願いいたします。
MYSQL しっかりしていますか。
MySQLとexcelファイルの同期を取る技術ってありますか？ ODBCやMySQL for Excelの存在を知ったんですが、テーブルとExcelファイル内データの同期をexcelを開くことなく自動（あるいはMySQLクライアントの操作だけ）で行うことはできないでしょうか。 また、MySQLのODBCとMySQL for Excelの違いについてわかりやすく教えていただけると嬉しいです。
すいません、先ほどの質問で返信を押したつもりがベストアンサーボタンを 押してしまいました。修正の方法が分からないので再度質問させていただきます。MySQL5.5でデータの取得をしたいのですが、 テーブル名 : sales salesno int(5) stime datetime etime datetime 上記のテーブルsalesがあって、 カラムは伝票番号、開始時刻、終了時刻です。 検索条件： 例) stime=2016-04-23 00:00:00からetime=2016-04-24 23:59:59 (BETWEEN stime AND etime) 取得データ： etime - stimeの差分の一番小さなレコードの時刻 またそのレコードのsalesno これを実現するSQLを教えて頂けないでしょうか。
MySQL5.5でデータの取得をしたいのですが、 テーブル名 : sales salesno int(5) stime datetime etime datetime上記のテーブルsalesがあって、 カラムは伝票番号、開始時刻、終了時刻です。 検索条件1：stime=2016-04-23 etime=2016-04-24 検索条件2：検索条件1 かつ etime - stimeの一番小さなレコード 取得データ：一番小さなレコードの差分の時刻、そのときのsalesno これを実現するSQLを教えて頂けないでしょうか。
SQLをお願いします。 たぶんサブクエリを利用すると思います・・・。 一応、データベースはMySQLです。
phpにおけるMVCの概念がよく分からないので、教えてください。phpを勉強して2か月の初心者ですが、よろしくお願いします。1．初心者にとって、m・v・c のどの部分から読めば、構造の全体を理解する事が出来ますか？ 私の買った参考書では、コントローラークラスから始まり、view、model、appbase、request、routerの順に書かれていますが、全体の流れでいえば、index/appbase もしくわrequestになるかと思われ、どういう風に読んでいけば、各クラスファイルの関連性が分かるのかが知りたいです。 関係性が分からず、どこを読めばいいのか分かりません。 2．アプリケーションオブジェクトとコントローラーの関係性を教えてください。 m/v/cの各々の役割はおおよそ分かりますが、アプリケーションオブジェクトの役割が分かりません。 書籍には、『アプリケーションですから、その本体となるクラスも必要ですよね～』っと、初心者には？の言葉で終わってしまいました。。。。 よろしくお願いします
マルチバイト文字列を表示できるエディタはありますか？ のような，マルチバイト文字を表示できるエディタってありますか．サクラエディタ，TeraPad，EmEditor,どれもうまくいきませんでした．
get 送信ではなく、リンクの場合にはどうすればいいのですか？つまり、 <input type="submit" name="****" value="検索" />を使わないでmysqlからデータを取得するにはどうすればいいのですか？ phpとmysqlを勉強したてなので、よく分からないので質問させてください。 例えば <選択都道府県> ・北海道 ・青森 ・ ・東京 <２３区> ・品川 ・渋谷区 っといったメニューと、 都道府県/市区町村/駅 のフィールドがあるテーブルAがあると仮定する 仮に渋谷区をクリックしたら、渋谷区にある駅が表示されるという仕組みを作りたい場合 １．市区町村ごとに、○○市区町村.phpを作成し、<a href="○○市区町村.php">で飛ばすのか ２．リンクに変数を埋め込み？＋セッションを利用して、where 変数の変数に値を代入するのか。。。 何を言っているのか分からないと思いますが、助けてください。
PDOの例外処理について。 Mysqlをphpから、PDOを使用してアクセスしています。 例えばmysqlで、nameとemail フィールドがあるテーブルを作り、二つともunique に設定したとします。 その後、重複するレコードを挿入しようとした場合、例外がかえってくると思います。 そこからブラウザに｢email が重複しています｣とか、｢nameが重複しています ｣といったエラーメッセージを出すには、どういった手順を踏むのがスマートというか、一般的な方法でしょうか？ よろしくお願いします。
データベースマネジメントシステムの選択について質問です。 現在、スクレイピングしたデータの保存にMySQLを使っています。しかし、MySQLは複数台のPCでデータベースを共有するのに向いていないと聞きました。 そこで、複数のPCでスクレイピングして、データベースを利用するのには、どのようなデータベースを選ぶと良いのでしょうか？ スクレイピングにはpythonとVBAを使っています。 また、マイクロソフトのAccessではデータ量が多くなってしまい、重くなって使えません。 また、複数のPCで使う場合、どのような構成でDBを管理するべきでしょうか。 Dropboxなどのクラウドストレージで共有、NASで共有、ファイルサーバーを立てて共有などが思い浮かびます。 よろしくお願いします。
SQLの処理速度があまりに遅い（最悪1分以上かかる）ので わかる方がいらっしゃいましたらアドバイスをお願いいたします MySQL４になります------------------------- 問題SQL SELECT COUNT(*) as count FROM ( SELECT id, word FROM ( SELECT distinct tbl.id, p.word FROM table01 tbl INNER JOIN table02 p ON p.id = tbl.id WHERE keyword LIKE 'a%' UNION SELECT distinct tbl.id, p.word FROM table11 tbl INNER JOIN table12 p ON p.id = tbl.id WHERE keyword LIKE 'a%' ) test1 UNION SELECT id, word FROM ( SELECT distinct tbl.id, p.word FROM table21 tbl INNER JOIN table22 p ON p.id = tbl.id WHERE keyword LIKE 'a%' UNION SELECT distinct tbl.id, p.word FROM table31 tbl INNER JOIN table32 p ON p.id = tbl.id WHERE keyword LIKE 'a%' UNION SELECT distinct tbl.id, p.word FROM table41 tbl INNER JOIN table42 p ON p.id = tbl.id WHERE keyword LIKE 'a%' UNION SELECT distinct tbl.id, p.word FROM table51 tbl INNER JOIN table52 p ON p.id = tbl.id WHERE keyword LIKE 'a%' ) test2 GROUP BY word ) A ---------------------- 既存のテーブルが、table01～table51（各テーブルに付随するサブテーブルでtable02～table52がある感じ）まであり その各テーブル内に存在しているカラムkeyword（varcharで NOT NULL、indexは張ってある）の一文字だけを指定し検索結果の件数を取得したいのですが 速度があまりに遅く、悩んでおります。 2文字以上だと若干重いかなという感じがするだけです (実際のSQLはもっとごちゃごちゃしており、見やすくするため不必要なカラム等削除しております) table01は51万レコード、table11は、175万レコードあります。 （その他は1万レコード程度です） そもそもこの件数をLIKE検索で行っていること自体、おかしいのですが もうどうしようもないので、このSQLをなんとか修正したいと考えております 目標としては、 この旧SQLと新SQLで取得した件数が同じになり、かつ速度が上がることにあります 「 ) test2 group by word 」については、table21～table51で重複するwordを削除したいという意向があり、ついております （table01とtable11と一緒にunionして、group byしたくないです） 私のほうで修正・実行した方法は、 １）SELECT count(*) as count from を SELECT count(id) as count from と*を止める指定する ２）test1とtest2内のSELECTで取得するカラムを最小限にする（上記のものはかなり少なくしてあり、もうこれ以上減らせません…） ３）test1内のSQLでtable01、table11をunionしているところを、分割する ↓こんな感じに分割 SELECT count(id) as count from ( select id, word from ( SELECT distinct tbl.id, p.word FROM table01 tbl INNER JOIN table02 p ON p.id = tbl.id WHERE keyword LIKE 'a%' ) test1 union select id, word from ( SELECT distinct tbl.id, p.word FROM table11 tbl INNER JOIN table12 p ON p.id = tbl.id WHERE keyword LIKE 'a%' ) test２ union select id, word from ( ・ ・ ・ となります。 一応、６０秒程度掛かっていたものが、5～20秒程度で帰ってくるようにはなりましたが まだまだ実用には耐えられない状況です もしまだ改善すべき箇所等ございましたらアドバイスをおねがいいたします よろしくお願いいたします
SQLの問題がわからないので教えてください +--------+------------+------+------+----------+| 学籍No | 氏名 | 年齢 | 性別 | 学科code | +--------+------------+------+------+----------+ | 0001 | 内田 貴裕 | 21 | 男 | 1001 | | 0002 | 坂本 貴幸 | 22 | 男 | 1002 | | 0003 | 足立 雅俊 | 20 | 男 | 1002 | | 0004 | 山本 智也 | 21 | 男 | 1003 | | 0005 | 柳田 裕明 | 19 | 男 | 1001 | | 0006 | 野村 伸治 | 18 | 男 | 1003 | | 1001 | 藤野 静香 | 18 | 女 | 1001 | | 1002 | 田中 真弓 | 21 | 女 | 1002 | | 1003 | 三原 結香 | 20 | 女 | 1001 | | 1004 | 深町 智子 | 19 | 女 | 1003 | | 1005 | 塚田 恵子 | 20 | 女 | 1003 | | 1006 | 井上 智美 | 20 | 女 | NULL | +--------+------------+------+------+----------+ +----------+----------+ | 学科code | 学科名 | +----------+----------+ | 1001 | 経済学科 | | 1002 | 経営学科 | | 1003 | 情報学科 | | 1004 | 英文科 | +----------+----------+ SELECT 学科名,COUNT(学科名) FROM 学科 LEFT JOIN 学生 ON 学科.学科code = 学生.学科code GROUP BY 学科名; すべての学科ごとの人数を表示させたいのですが、上の文だと NULLが含まれてしまい正しい学科ごとの人数が表示されません。 正しいSQL文を教えてください。お願いします。
ワードプレスでHPを作成しようと、本を購入し作業をしています。 初心者なため、かなり手探りで作業をしているところですが、最終段階でつまづいています。ローカル(macなのでMAMPを使用しています）で作業した後、サーバーにアップする段階でつまづいています。 サーバーはロリポップを使用していますが、phpMyadmin、FTPともにアップロードし、ワードプレスの管理画面まで行けましたが、HPを確認したところトップページの見た目は普通に見えますが、 ・タブに出てくるホームページ名の後の説明文は全て文字化け ・下層ページは全てページが見つかりません と出てきます。 いろんなことを試しましたが何をしてもうまくいきません。 一つ思い当たるのが、ロリポップ側でワードプレスをインストールしたら照合順序がどれもutf8 となっています。 しかし、私の場合構築の段階から写真のように、合計のところはutf8_general_ciとなっていますが、その上の部分は全てutf8mb4_unicode_ciとなっています。 ここを直せば全て治るのかとも考えたのですが、この変更方法は調べてみると皆さん操作パネルから行うそうですが、私の場合合計の欄ははじめからutf8_general_ciとなっているので変化が見られません。 初心者の私はどうすればいいのか完全にお手上げ状態です。 どなたか、この照合順序を変更すればいいのか、思い当たる原因や解決法があればご教示いただけませんでしょうか。 宜しくお願い致します。
【緊急】環境構築について質問です。 リモートログイン、SSH、Tomcat、MySQLがキーワードとしてあり、環境構築をするよう言われました。Tomcat、MySQLは、任意のpcにインストールしても意味ないとのことです。 各ワードがどう繋がるのか全く検討もつきません。 どなたか教えていただけますでしょうか。 とても困っています。 よろしくお願い致します。
WordPressのサーバー移行について ビジネスサイトを運用しています。 静的ページでサイトは作成しましたがお知らせページのみ WordPressを導入しブログ形式にしました。現在お知らせページは無料テーマを利用していますが 静的ページにデザイン統一するためローカル環境でオリジナルテーマを作成しました。 すでに本番環境でいくつか記事を投稿してしまったのですが ローカル環境で作成したオリジナルテーマをサーバ移行した際 現在投稿した記事は消えてしまうでしょうか？ ご回答お願いします。
ECサイトの検証環境（テスト）をつくりたいのですが、一般的な検証環境の作り方について初心者でもわかりやすいネットで学べるサイトを教えて下さい。（webサイトをつくる知識はあるがサーバーの知識はほぼなし） Mac用のサイトであればありがたいです。
MYSQL は重要なもので ございますか。
本番環境のテスト環境をつくるにはどのような手順でつくればよいのでしょうか？一般的にテスト環境をつくる場合の簡単な手順を教えて下さい。 テスト環境をつくりたいのは以下のサイトにあるオープンソースのEC構築サービスなのですがどうすればいいのか全然わからないので、まずは一般的な手順（どういうことをやる必要があるのか）を教えて下さい。 http://merch.docs.magento.com/ce/user_guide/magento/release-notes-c... OS：Mac テストの目的：主にエクステンションの追加、デザインの変更
スレッド式掲示板作りについて質問です。 MySQLとPHPを使い下のような掲示板を作るには どのようにすれば良いでしょうか？初心者でも分かり易く解説されているページを 紹介してくれると助かります。 ここに掲示板のプログラムの仕組みも 解説してくれると有難いです。 ※URLを適当に持ってくる等の回答は辞めて下さい※
期間(例)2014-04-02 から,2014-05-03 までの それぞれのVALUEに入っているデータの IDの数をカウントするSQL文を考えているのですが どうすればいいでしょうか？ID VALUE DATE_1 DATE_2 1 -1 2014-04-02-01 2015-04-05-02 2 -1 2014-04-02-01 2015-04-05-04 3 10 2014-04-02-01 2015-04-05-04 4 20 5 20 6 20 略 7 20 8 30 9 30 10 40 出力例 VALUE COUNT ID -1 2 10 1 20 4 30 2 40 1
コマンドを叩く？下記のページの通りのエラーにドハマリしているのですが コマンドの実行の仕方がまったくわからずこまっております。 http://d.hatena.ne.jp/TamaC/20090330/1238418696 コマンドの実行の方法を教えて下さい。
[ＩＴ]-[Webサーバーからクライアントへの最新情報の送信について] 【質問内容】 Webサーバーから現在アクセス中のクライアントにデータを送ることは可能でしょうか？つまり、処理の起点が『クライアント⇒Ｗｅｂサーバー⇒クライアント』ではなく、『Webサーバー⇒クライアント』が可能か？という点をご教授頂きたいです。 現在アクセス中のクライアントは、DBにセッション情報(IP、ポート番号、セッションIDなど)を登録して実現しようと考えています。 ただ、サーバーを処理の起点にした場合、ユーザー側のルーターにアクセスをブロックされてしまう？といった懸念を感じています。 ※お勧めのソースコードの組み方もございましたら、教えて頂けると幸いです。 【例】画面とDBの中間で最新記事の投稿時間を保持して、照らし合わせて最新記事があればDBから取得するとか。 【詳細】 現在、掲示板サイト(※Yahoo掲示板に近いイメージ)を作ろうと考えています。 ただし、ページを読み込みしなくても投稿内容が自動で追加される掲示板を作ろうとしています。 そこで、画面からDBへの処理の流れとしては、 ①ユーザーの投稿内容をDBに登録する の処理を行い、DBから画面にはデータを返却せず処理を終了します。 DBから画面への処理の流れとしては、 ①DBにデータが追加されたらアクセス中の全ユーザーに投稿内容を送信する ②画面側は受け取ったデータにJavaScriptをかませてリアルタイムで情報が更新されるようにする の処理を行う予定です。 こういったことは可能でしょうか？ Ajaxで、画面からDBに対して最新記事を取得するのもありだと思いますが、 ユーザー数が多くなるとサーバーへのアクセスが多くなることや、リアルタイムで情報を取得するのが難しくなることを懸念しています。 【環境】 サーバー：ヘテムル―サーバー CMS：ＷｏｒｄＰｒｅｓｓ ＤＢ：MySQL 宜しくお願い致します。
Mysqlで1つクエリ内で グループ１〜１０が何人 グループ１１〜５０が何人 いるかを算出したいのですが、GROUP BYを使うことはわかっているのですが、複数の検索条件をもとに対応する方法がわかりません。 どなたか教えていただけますでしょうか。
WordPress（Xeory）のサイドバーにある親・子カテゴリーの下線を消したい。HTML、CSSともに初心者ですが、ネットで調べながら少しずつXeoryをカスタマイズしています。以下のリンク先のようにサイドバーを削除したいのですが、行き詰ってしまいました。私が使用しているWordPressテーマはXeory、消したいのは親・子カテゴリーの下線です。 質問の情報が不足しているようでしたら、おっしゃってください。 よろしくお願いします。 http://webcraftlog.net/hueman/sidebar-child-category-align-right/
phpMyAdmin 2.7.0-pl2 MySQL 4.0.26-nt からshift-jis でエクスポートした 1,780行 721,092 バイト の日本語を含むデータをphpMyAdmin 4.5.1 へインポートしようと していますが失敗していて一向に作業が進みません。 インポート直後 Notice in .\libraries\charset_conversion.lib.php#106 iconv(): Detected an illegal character in input string Backtrace .\libraries\charset_conversion.lib.php#106: iconv( string 'SHIFT_JIS', string 'utf-8//TRANSLIT', string , ) .\libraries\import.lib.php#410: PMA_convertString( string 'SHIFT_JIS', string 'utf-8', string , ) .\libraries\plugins\import\ImportSql.class.php#139: PMA_importGetNextChunk() .\import.php#641: ImportSql->doImport(array) といエラーが発生しますが今のところ無視してインポートを行っています。 アップロードの制限は２５６MBでファイルの大きさによるインポートの失敗ではないと思います。 インポートする際にもファイルの文字セットはshift-jisを選んではいますが失敗しています。 機種依存文字含むレコードを除いたときは成功しますが機種依存文字を含めたデータでは毎回失敗しています。 最終的には機種依存文字が問題なのかと思いますが、有効な対策等が思いつきません。 具体的な対策など、誰かわかる方がいたらご教授お願いいたします。
MySQLのtimestamp型にNullを格納しようとするとエラーになる。 MySQLのバージョンは5.6.13です。 phpMyAdminを使ってテーブル作成しています。フィールド種別：timestamp 属性：ON UPDATE CURRENT_TIMESTAMP Null：いいえ デフォルト値：CURRENT_TIMESTAMP その他：on update CURRENT_TIMESTAMP となっています。 この設定だと、INSRT文でtimestump型のフィールドにNullを設定すると、 現在時刻が入るはずなのですが。。 INSERT INTO テーブル名 VALUES ( 'テスト', 'テキスト', NULL) とした時に、 #1048 - Column フィールド３ cannot be null のエラーになります。 設定関係等に問題がありますでしょうか？
PHP5.3 + MySQL5.0 の文字化けで質問です。 mysql接続では、日本語表示できましたが、PDOで書き換えたえらDB出力部分が???になりました。PDOのデータベース名は、"mysql:host=$server;dbname=$dbn;charset=utf8"; PHPヘッダーは、header("Content-Type:text/html;charset=UTF-8"); にしてあります。なにか方法はありますか？
MySQLに関しての質問です。MySQLを導入するのに一度失敗しました。そのため「ダウンロード」に保存していたファイルを一度削除してから再度MySQLの導入を試みました。結果としては成功しました。ただ、スタートボタン→アプリ→MySQLのコマンドを開け動作確認できました。ただ、普通のコマンドからはMySQLを呼び出せませんが・・・ しかしここで一つ気になったのは、一番占めにダウンロードした際のフォルダが今回は見当たらないのです。.exeやらたくさんのファイルが入ったMySQlのフォルダがないです。 でも動作はしっかりできています。なんなんでしょうか＞？
MYSQL 必要でございますか。
オートインクリメントを1からに書き直したい。お世話になります。 ロールバックが何回か発動していたため、主キーが1からではなくデータが入ってしまっているのですが、updateなどを使って現在のデータを1からの連番に書き直すことは可能でしょうか？ よろしくお願いいたします。
hostingerでMySQLを使うにはどうすればいいですか？
MYSQLのインデックスがわからないです。PHPERなのでわかりません。 B-Treeになってると書いてますけどjavaなどでの例では全部オブジェクトで表されています。class B-Tree{ public $num; public $left; public $right; } オブジェクトで例えられていますけど、実際のHDDにはこうやってかかれてないですよね？ いったいどのように書かれているのでしょうか？構造がわかりません。
ソートの方法が分かりません。MySQL 5.6 Windows7 ColA｜ColB｜ColC ___1｜0001｜0004 ___1｜0001｜0005 ___1｜0001｜0010 ___1｜0001｜0015 ___1｜0004｜0001 ___1｜0005｜0001 ___1｜0010｜0001 ___1｜0015｜0001 ___2｜0002｜0003 ___2｜0002｜0005 上記のように並んだテーブルがあります。 ColAは数値、ColB,ColCは文字列です。 これを以下のようにソートしたいのですが、わかりません。 ColA｜ColB｜ColC ___1｜0001｜0004 ___1｜0004｜0001 ___1｜0001｜0005 ___1｜0005｜0001 ___1｜0001｜0010 ___1｜0010｜0001 ___1｜0001｜0015 ___1｜0015｜0001 ___2｜0002｜0003 ___2｜0002｜0005 うまく表現ができませんが、 ColAでソート、基本、ColBでソートですが、その間に ColBとColCを逆転したのものが来ます。 2つでペアです。 よろしくお願いいたします。
コマンドの実行 エラーが出てこまっています。 解決方法はググッてみつけたのですがコマンドの実行の仕方がわかりません。とりあえずエラー解決策として出た結果が下記です ----------------------------------------------- 指定の場所にsocketファイルがあるか確認 $ ls -al /var/lib/mysql/ ----------------------------------------------- これは具体的に何をどうすれば良いのでしょうか？ mysql初心者の私に手順を一から教えて下さい。 よろしくお願いします。
XAMPPを使ってEC-CUBEを設置しようとしています。 データベースの設定画面で以下のように設定をしているのですが、エラーが出てしまい次へ進めません。どうすればデータベースの設定ができますか？ DBの種類 MySQL DBサーバー 127.0.0.1 DB名 eccube DBユーザ ※MySQLのユーザー名※ DBパスワード ※MySQLのパスワード※ DBはeccubeで作成済みです。
【大至急教えて下さい】 mysqliを使ってphpからmysqlへ接続をしたいのですが、以下エラーが発生し接続ができません。 Access denied for user 'ユーザ名'@'localhost' (using password: YES) 以下phpのコードです。 <?php $mysqli=new mysqli('localhost','ユーザ名','パスワード','DB名'); if($mysqli->connect_error){ die('Connect Error('.$mysqli->connect_errno.')'.$mysqli->connect_error); }else{ echo "接続成功"; } ?> しかし、$mysqliの中のパスワードとDB名を省くと接続成功と表示されます。 なので、原因はパスワードかと思ったのですが、間違いなく正しいです。 パスワード、DB有で接続できるようにしたいです。 恐れ入りますが、どなたかご教示お願いいたします。
sqlマイナス値のorder byお世話になります。 現在、mysqlを使い開発を行っており、あるtableにプラスマイナスフラグcolumnとポイントcolumnを持っています。 この２つを使ってorder byでポイントcolumnの昇順でマイナス値から表示したいんですが、どのようにしたらいいでしょうか？ よろしくお願いいたします。
MYSQLは 大事だと思いますか。
phpの配列について質問があります。 プログラミング初心者でphp勉強中です。 phpを使い簡単なweb apiを作りたいと考えています。現在作っているphpでは下記のような結果が出力されてしまいます。 id=1で検索した場合、 { "id": "1", "name": "りんご", "seller": "山田農業" }, { "id": "1", "name": "ぶどう", "seller": "山田農業" } これを、下記のようにひとつにまとめたいのですが下記のソースコードのどの部分を直せばよいのでしょうか？ { "id":"1", "name":"山田農業", "shohin": [ "りんご", "ぶどう" ] } 以下、ソースコードです。 ---------------------------------------- <?php header('Content-Type: application/json; charset=UTF-8'); try { $conds = $values = []; foreach ([ ['id', 'syouhin.id', FILTER_VALIDATE_INT], ['name', 'syouhin.name', FILTER_DEFAULT], ['seller', 'shop.name', FILTER_DEFAULT], ] as $m) { $value = filter_input(INPUT_GET, $m[0], $m[2]); if ($value === false) { throw new RuntimeException("{$m[0]}が不正です", 400); } if ($value === null) { continue; } $conds[] = "{$m[1]} = ?"; $values[] = $value; } if (!$conds) { throw new RuntimeException('検索条件は最低1つ必要です', 400); } $pdo = new PDO( 'mysql:host=localhost;dbname=syouhin_db;charset=utf8', 'user1', 'pass1' ); $pdo->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION); $sql = ' SELECT syouhin.id AS id, syouhin.name AS name, shop.name AS seller FROM syouhin INNER JOIN ketugou ON syouhin.id = ketugou.syouhin_id INNER JOIN shop ON ketugou.shop_id = shop.id WHERE ' . implode(' AND ', $conds); $stmt = $pdo->prepare($sql); $stmt->execute($values); $rows = $stmt->fetchAll(PDO::FETCH_ASSOC); echo json_encode($rows, JSON_PRETTY_PRINT ,JSON_UNESCAPED_UNICODE); } catch (PDOException $e) { http_response_code(500); $error = $e->getMessage(); echo json_encode(compact('error'), JSON_UNESCAPED_UNICODE); } catch (RuntimeException $e) { http_response_code($e->getCode()); $error = $e->getMessage(); echo json_encode(compact('error'), JSON_UNESCAPED_UNICODE); } 宜しくお願い致します。
webサーバ（webサーバ1台、DBサーバ1台構成）をDMZに設置して外部からアクセスさせる場合、 通常DBサーバはDMZに置かずにLAN側に配置するべきなのでしょうか？
WordPressにログインしようとると「データベース接続確立エラー」とでてしまいます。 原因はMySQLなのだと思いますが自分でどういう状況か理解できていません。「xampp-control.exe」を開いてMySQLの開始ボタンを押しても実行中の文字がでてきません。 以前まではできていたのですが・・・ Svcのチェックマークも以前なかったのでチェックをはずそうとすると エラーがでてチェックも消えません。 原因と解決方法がわかる方アドバイスをお願いします。
MYSQL は 重要でございますか。
MySQL5.6でCSVファイルを読み込もうとしているのですが、格納するフォルダが見つかりません。C:\Program Files\MySQL\MySQL Server 5.6\data には作成したDB（Sample001DB）はありませんでした 。検索でもひっかかりません。
Centos7でMySQLを構築したいのですがログインができません。yum install でインストールしたあとログインしたのですが できませんでした、どうすれば解決するでしょうか?? エラーログなどで調べてみましたが全然駄目です。 rootでログインしていて mysql -u rootとうちこむと error 1045 (28000): Access denied for user root@localhost (using password:NO) と表示されて一行にログインできません。 -pをつけてrootのパスワードを入力した場合は using password:YESになり ログインできない状況です。 どうすればいいんでしょうか...
XAMPPのapacheをwin64に変更したいです。XAMPPのMySQLのメモリ割り当て(※1)を増やし、実行したのですが、 innobase_buffer_pool_size can't be over 4GB on 32-bit systems というエラーが発生し、MySQLが起動しませんでした。 phpMyAdminを見ると、ウェブサーバの項目で、Apache/2.4.9 (Win32)となっているため、apacheをwin64を組み込みたいと考えています。 しかし、XAMＰＰではwin32しか配布していないみたいなので、XAMPPのapacheをwin64に変更する方法、または、4GB以上のメモリを割り当てる方法がありましたら、教えていただけますでしょうか？ ※1 メモリ割り当ての箇所は、innodb_buffer_pool_size を 2048Mから4096Mに変更しました。 PCスペックは以下の通りです。 OS: windows 7 64bit CPU: Core i5 2500 メモリ: 16GB かなり無茶苦茶な方法で、あまり期待せずに行ったのですが、 http://www.apachelounge.com/にて配布されているものを apache配下のディレクトリ、ファイルをそのまま移動して試しましたが、 apacheは起動しませんでした。 何卒よろしくお願い致します。
MYSQLは 大切なもので ございますか。
MySQL でタイムスタンプ型の項目を１時間単位に区切って時間帯別に何件のデータがあるのかを抽出するQueryを書きたい。データテーブル YY/MM/DD hh:mm:ss データ データ データ YY/MM/DD hh:mm:ss データ データ データ ・ ・ 抽出したい形式（条件は日付指定） YY/MM/DD 0時代の件数 1時代の件数 ．．． 23時代の件数 最終的には抽出したデータをそのまま別テーブルに書き出したい。 MySQLを独学で勉強中です。 データテーブルは消えていく事を想定して、その前に、何時頃の利用が多いのかを１時間単位に件数をカウントして、結果を履歴テーブルに書き出す。 なんて事を想定したんですけど、さっぱりまとまりません。 よろしくです。
MySQLのテーブル設計についてhttp://www.websec-room.com/2015/03/15/2153 のサイトのテーブルをPHPMyAdminに打ち込んで取り入れたいのですが、このテーブル設計の読み取りが分からずまた、どのように打ち込めばいいのかが分かりません。 すみませんが、テーブル設計の読み取り方からまたどのようにPHPMyAdminに打ち込むのかという解説サイト等あれば紹介してください。
RAIDカードを設置するサーバ機はDBのソフトが入ったものでいいのでしょうか？ Webサーバのみのサーバ機にはRAIDカードは必要ないですよね？
最終的にやりたいこと ・MySQLでカラムの値がなければ別テーブルから取得したカラムの値で更新したい ・該当カラムのデータ型はvarchar(10)で、NULLは許可していませんとりあえず練習で、対象カラムが空だったら全レコード取得しようと思ったのですが、うまくいきません CASE WHEN `対象カラム` = '' THEN (SELECT * FROM `対象テーブル`)
【250枚】MySQLについて質問です。 phpmyadminを使っているのですが、カラム数というのがわかりません。 カラム数とはなんですか？そして、mediawikiに合った設定などがあればそれも教えていただけると幸いです。
MYSQL 必要で ございますか。
テーブル定義について教えてください。 まず次の2カラムだけのCPUテーブルがあります。------------------------------------------------------------------------ ID(サロゲートキー) | スペックCD(CPUメーカーが製品につけてる固有のコード) ------------------------------------------------------------------------ この状態であれば、スペックCDだけでどの製品か一意に決定出来てしまいます。 では、性能もこのカラムに続いて、次のように（①同じテーブルに入れたほうが良い）でしょうか。 ---------------------------------------------------------------------- ID | スペックCD | メーカー | シリーズ | 周波数 | キャッシュ | コア数 | ---------------------------------------------------------------------- 正規化をきちんとする？のであれば、（②メーカーはメーカーテーブルを、コア数も一定の値からの選択ですのでコア数テーブルを作るべき）なのでしょうか。 ただ、スペックCDでメーカーも性能も一意に定まるのに、メーカーやコア数を外部キーとして持って選べるというのも変な感じがします。誤選択など起きたら最悪です。 この場合、 ①同じテーブルに入れる。 ②メーカーはメーカーテーブルを、コア数も一定の値からの選択ですのでコア数テーブルを作るべき。 どちらでしょうか。
phpmyadminのことで質問です。 mediawikiをインストールしたのですが、mysqlの方がどうも良く分かりません。カラム・種別・長さ/値・デフォルト値・照合順序・属性・ヌル・インデックス・AUTO_INCREMENT・コメント を、分かりやすく説明して頂けないでしょうか。 また、どのような設定にすればよいのですか?（mediawikiにあった設定があればそれもお願いします） 初歩的な質問ですいません。答えていただければ幸いです。 ahonahitonokaitouとかいうバカには答えていただきたくありません。
MySQL・PHP画像の扱い 私はいままで画像をエンコードしてそれをdata:image/jpeg;base64形式で呼び出していたのですが、それではfacebookシェアの時にURLが長すぎて画像が表示できません。 言い解決方法ありますか？ ソースコードというより、ロジックをお願いします。
phpで管理画面作成中です。2016年 / 1月 1 詳細 2016年 / 2月 1 詳細 2016年 / 3月 1 詳細 2016年 / 4月 1 詳細 2016年 / 5月 1 詳細 2016年 / 6月 1 詳細 2016年 / 7月 1 詳細 2016年 / 8月 1 詳細 2016年 / 9月 1 詳細 2016年 / 10月 1 詳細 2016年 / 11月 1 詳細 2016年 / 12月 1 詳細 現在データベースの中には、 2016年 / 2月分のデータしか入っていません。 ですが、全月に1件と表示されていまいます。 2月の項目だけを、1件にしたいです。 詳細ボタンを押すと、 データベースの中にある、すべてのデータが表示されるようになっています。 ご教示お願い致します。 ------------------------------------- <table width="600" border="1"> <tr> <th scope="col">年/月</th> <th scope="col">件数</th> <th scope="col">詳細</th> </tr> <!--↓↓ 資料請求者情報表示SQL ↓↓--> <?php $link = mysql_connect("localhost", "________", "________"); mysql_select_db("________", $link); mysql_set_charset('utf8'); $id = $_GET["id"]; $result = mysql_query("SELECT * FROM ________ WHERE id = $id", $link); $num_rows = mysql_num_rows($result); //←結果における行の数を得る ?> <!--↑↑ 資料請求者情報表示SQL ↑↑--> <?php $month = 1; while ( $month <= 12 ) { ?> <tr> <th><?php echo '2016年 / '. $month . '月'; ?></th> <td><?php echo "$num_rows"; ?></td> <td><a href="syosai.php?id=<?php print(htmlspecialchars($id)); ?>&month=<?php print($month)?>">詳細</a></td> </tr> <?php $month++; } ?> </table> -------------------------------------
phpmyadminのことで質問です。 mediawikiをインストールしたのですが、mysqlの方がどうも良く分かりません。カラム・種別・長さ/値・デフォルト値・照合順序・属性・ヌル・インデックス・AUTO_INCREMENT・コメント を、分かりやすく説明して頂けないでしょうか。 また、どのような設定にすればよいのですか?（mediawikiにあった設定があればそれもお願いします） 初歩的な質問ですいません。答えていただければ幸いです。 ahonahitonokaitouとかいうバカには答えていただきたくありません。
MYSQLは 大切で ございますか。
phpmyadminでテーブル作ろうとしてるんですけど、 カラム数ってなんですか?
ディズニーランドの待ち時間を教えてくれる下記のようなサイトがありますが、どのように情報を取得しているのでしょうか？http://tokyodisneyresort.info/index.php 今現在、本家ホームページでは位置情報を送信し、園内でないと待ち時間を確認することができない仕様となっているようですが、、 http://www.tokyodisneyresort.jp/sp/today/tdl.html ご教示いただけると幸いです。
PhpMyAdmin上でFOREIGN KEYの解除をする方法はありませんか？
PHP PDOを設定を行い実行すると[ ページは機能していません ]と表示されます。$db->setAttribute(PDO::ATTR_EMULATE_PREPARES, false); $db->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION); を $db = new PDO(DSN, USERNAME, PASSWORD); の後に記述して実行すると、[ ページは機能していません ]と表示されます。 $db->setAttributeの２行を削除すると、正常に表示されます。 サーバーは さくらインターネット を利用して、MySQL 5.5 です。 PHP は５．４(モジュール版)です。 どうか、原因のご教授の程、お願い致します。 なお、私は超初心者です。
Mysql5.6 自己結合 exist not exist もしくはjoin で実施？？AAテーブル +--------------+------------+ | scheduleDate | productIｄ | +--------------+------------+ | 2016-01-11 | AAA | | 2016-01-11 | BBB | | 2016-01-11 | CCC | | 2016-01-12 | AAA | | 2016-01-12 | BBB | | 2016-01-12 | DDD | +--------------+------------+ Mysqlの自己結合で、 scheduleDate 2016-01-11と2016-01-12で両方に存在するproductIｄ AAAとBBBを取得したいのですが、どういうふうに結合するのでしょうか。 逆に2016-01-11と2016-01-12で2016-01-11しか存在しないproductIｄ CCCを取得するには どういうふうに結合するのでしょうか。 誰か分かる方教えてください。 こんなんじゃないっすもんね？？↓↓↓↓↓↓↓ select pp.productId from AA pp inner join AA qq on (pp.scheduleDate = '2016-01-11' and pp.productId = qq.productId) where qq.scheduleDate = '2016-01-12';
VPSレンタルサーバーについて質問します。serversmanのVPSレンタルサーバーのEntryプランを契約しようと考えているのですが、こちらのVPSサーバーはMySQLなどのデータベースは何個利用可能なのでしょうか？
ログテーブルを作る際、IDだけにプライマリキーつけるのが一般的ですか？ ユーザーIDとイベントIDにつけない理由はありますか？ CREATE TABLE `t_logs` ( `id` bigint(20) unsigned NOTNULL, `user_id` int(10) unsigned NOT NULL DEFAULT '0', `event_id` int(10) unsigned NOT NULL DEFAULT '0', `created` datetime NOT NULL DEFAULT '0000-00-00 00:00:00', PRIMARY KEY (`id`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8
SQLで、指定した文字を指定列から探し、ヒットしたセル(?)がある行の内容をPHPの配列にいれるにはどうしたら良いのでしょうか？例えば、 no | Contents | Time | ------------------- 1 | あいうえ | 1:11 | ------------------- 2 | かきくけ | 2:22 | ------------------- 3 | さしすせ | 3:33 | というようなテーブルがあったとして、no列から「1」を探してその行のContentsとTime（例で言う「あいうえ」と「1:11」）をそれぞれ配列に入れるにはどうしたらいいのでしょうか？説明が下手で申し訳ありません。
エクセルで車両管理をしようとしていますがうまくいきません。 セルには日付と車両名、入庫時の距離が下のセルへと次々と入力(格納)されていきます。日報を作成するにあたって、１日の最初に出庫した距離(前回出庫の最終距離)と１日の最終入庫距離を格納データから抽出するのを関数で行いたいです。 １日に何回も出たり、まったく出なかったりするので、『前回のA号車の最終距離』がうまく出せません。ご教授願います。 3/1 A号車 100ｋｍ 3/1 B号車 200ｋｍ 3/1 C号車 300ｋｍ 3/1 A号車 110ｋｍ 3/2 C号車 310ｋｍ 3/2 B号車 210ｋｍ 3/3 B号車 220ｋｍ 3/4 A号車 120ｋｍ 3/4日報 Ａ号車 出庫 110ｋｍ ←これを自動抽出で出したいです 入庫 120ｋｍ ←ＤＭＡＸで出せます。 距離 10ｋｍ
500枚！LAMPアプリケーションのサーバーチューニングについて。 会社で業務用アプリケーションの運用を頼まれました。サーバー構成は 静的なコンテンツはNGINXを利用しており、最低限はチューニング済みです。 動的なコンテンツはMYSQL 5.1.7 + APACHE + PHP5.6 + opcache でアプリケーションを構築しました。 また、重要でない一時的な情報などの保存にREDISを使用しております。 REDISは特にチューニングしておりません。 主なサーバースペックは CPU Intel Xeon L5639 x 2 ディスク 1TB SATA ES x 1 メモリ 64GB となります。 OSはCENT OS 6.4(64bit)です。 サーバー台数は1台で運用されます。 アプリケーション側は簡単なチューニングはしてあります。（キャッシュを積極的に利用など） DBも多少チューニングはしてありますが、ガチガチのものではないです。 （INDEXはったり、メモリチューニング的なものです） おそらくMYSQLが最も負荷が発生すると思われます。 レコード数は 20万件以内/1年 程度で増加します。（一つのテーブルのみ大幅にレコード数が増えますが、他は社員情報などのため、それほど増えません。） PHPは特殊な処理はほとんどありません。 DB処理と画面のレンダリングのみとなります。 アクセス状況はピーク時、300人程度の同時アクセスがあります。 もちろん、業務アプリという性質上、稼働がない時間帯も多くあります。 私自身がサーバーエンジニアではないので いつも決まった設定内容で構築しておりましたが、 今回サーバー1台ですべて運用するのははじめてでして このような状況で運用する場合、 メモリの配分などあまりピンと来ません。 ABコマンドなどで軽くベンチとりましたが、あまり参考になりませんでした。 特にHTTPD（APACHE）,MYSQLのチューニングなどポイント、コツがありましたらアドバイス頂きたく 思います。 よろしくお願いいたします。
cakephpでページネーションのやり方を調べているのですがうまくいきません。どこが間違っているのでしょうか？$data = $this->Circle->find('all' , array('conditions' => $opt, 'order' => array('Circle.value DESC', 'Circle.man + Circle.woman DESC'))); →うまく検索される $paginate = array('Circles' => array('limit' => 1, 'order' => array('Circle.value DESC', 'Circle.man + Circle.woman DESC'))); $conditions = $opt; $data = $this->paginate('Circle', $conditions); →検索はされるがページネーション、ソートは機能しない 回答よろしくお願いします…
sqlについて テーブル１のカラムには年度と番号1とコード１、 テーブル２のカラムにはＣＤとＣＤ名称があるとします。テーブル1を番号１で集約して、年度='201601'で検索を行い、 コード１の最小値をとり、 この最小値のコード１とテーブル２のCDが一致するCD名称をとってきたいのですが、 sql文を教えてください。 select 番号１,min(コード1 ) ｆｒｏｍ テーブル１where 年度='201601 'group by 番号１
▲▽WORDPRESSのログイン画面とウェブサイトが真っ白になりました▲▽ はじめて質問いたします。 困っています、みなさまのお知恵をお貸しください。 よろしくお願いいたします。 サーバーを管理していた前任者がやめたあと、 適任者がおらず、半年ほど放置されていました。 その後、力不足ながら私が会社のホームページなどの管理をすることになりました。 私以外の人間はまったくのアナログ人間ばかりで、 私が過去にプライベートで、趣味のウェブサイトをつくっていたため選ばれました。 ワードプレスを使うのは初めてで戸惑いもありましたが、 更新からはじめ少しずつ慣れてきたところ問題が起こりました。 そこで焦ってしまい、私のミスも重なって・・。 ▶︎サーバーはロリポップです。 ▶︎そこに4つのサイトが置かれています。 そのうちの２つに不具合が出ています。 ▶︎ワードプレスのバージョンは不明です。 windows8 Google Chrome サーバーはロリポップなのですが、なぜかxrea（情報は古そう）からも見れます。 ロリポップのサーバー内にウェブサイトのファイルが４つあります。 そのうち２つに不具合がでていますが、優先で片方を復旧させたいと思っています。 １つ目のサイトA(優先順位は後)▶︎ 2月５日からロリポップから大量のメール送信があったとメールにて連絡が来ていた履歴がありました。 ※私の知らないメールアドレスだったため発見が遅くなりました。 サイトを確認するも、表示されず。 メール送信されたと思われる少し前に、更新されているファイルがありました。 ２つ目のサイトB(優先順位は先)▶︎ 同じ時刻に変更されていた3ファイルを見つけました。 ロリポップのFTPツールにて、 wp-includes内の http.php pluggable-deprecated.php version.php をいそぎ削除しました。 そしてバックアップしてあった同様のファイルをwp-includes内に戻したところ ログイン画面およびウェブサイトが真っ白になってしまいました・・。 この私のミスで、見れていたこのサイトも見れなくなってしまいました。 今考えるとまったく軽率でした。 既出のトピを参考にし、 wp-config.php内にdefine('WP_DEBUG', true);記述がなかったため、 記述を追加しtrueに変更しました。 ですが、やはりまだ真っ白のままで変化なしです・・。 私自身、FTP等に詳しい知識もあまりなく困っています。 どなたかお分かりの方、ご指導いただけませんでしょうか。 なにとぞよろしくお願いいたします。
phpMyAdminの操作で以下のエラーが出て困っています。 「#1054 - Unknown column 'maker' in 'order clause'」 mydb内に'my_items'というテーブルを作っていました。 カラムのひとつに'maker'があったのですが、構造画面でこれを消去したら、 'my_items'の表示画面を見ようとした時このエラーが出て見れません。 いったん'my_items'を消去して同じ名前のテーブルを作っても同じエラーが出てしまいます。 このエラーが出ないようにしたいのです。 ご教示お願いいたします。
Msorcl32.dll が見つからない/欠損エラーメッセージの修復方法について。Msorcl32.dllが最近（2016/1/22に）更新された形跡があり、 昔の状態(2010年くらい）にもどしたいのですが何か方法はありますでしょうか。 下記サイトにて、Msorcl32.dllの欠損時の対処方法がありました。 Msorcl32.dllの takeown /f にて変更し、古いバックアップのものに変更し、 ステップ１の regsvr32 /u msorcl32.dll にて、登録を解除、 次に、 regsvr32 /i msorcl32.dll にて、再登録を行おうと試みたのですが、 登録解除（regsvr32 /u msorcl32.dll）は成功しましたが、 再登録（regsvr32 /i msorcl32.dll）を試みた際に、 RegSvr32 モジュール"msorcl32.dll"は読み込まれましたが、DllInstallエントリポイントが見つかりませんでした。 "msorcl32.dll"が有効なDLLファイルまたはOCXファイルであることを確認し、もう一度やり直してください。 と、エラーがでて、再登録ができません。 どうすれば、再登録ができるのでしょうか。 また、msorc32.dllを削除し、再インストール?する方法があればご教授頂けると大変助かります。 よろしくお願いいたします。 http://www.solvusoft.com/ja/files/%E4%B8%8D%E8%B6%B3-%E3%81%8C%E8%A...
[500枚]Wordpress検索が作動しない こんにちは、自分は今Wordpressでブログを書いているのですが 検索機能をつけようとhttps://wpdocs.osdn.jp/%E6%A4%9C%E7%B4%A2%E3%83%9A%E3%83%BC%E3%82%B... こちらや http://www.webcreator-net.com/tips_memo/wordpress/20120311223048.ht... こちらを参考に検索機能をつけようと思いました。 しかし、正しく作動しなくて困っています。 例えば「ＡＢＣＤＥＦＧ」と入力してもなぜか作動せずにすべての記事が見つかったと出てきてしまいました。 ＵＲＬを見たところきちんとxxx.xxx/?s=ABCDEFGになっていて、自分で入力してもなぜかすべて出てきてしまいます。どうすればいいですか？
Access初心者です。 今2013のソフトで取扱い商品の仕入れの管理を行っております。 仕入先名称が違う、およそ三か月分の4つのテーブルデータがあります。仕入先A、仕入先B、仕入先C、仕入先Dの中で仕入先は違うのですが、 同じ商品を扱っている分がありその商品のみ引きだしそれぞれの仕入れ価格を 比較するようなクエリを作成したいと思っております。（同じ商品でも仕入価格が違う為。） テーブルデータは 仕入先名称、商品コード、商品名、伝票日付、処理日付、仕入単価、仕入金額 と4つのテーブルとも同じ項目があります。 それぞれ取扱いが重複している商品のみ 商品コード、商品名、仕入先名称、伝票日付、仕入単価を表示させたいのですが どのように作成すればスムーズにできますでしょうか？ 説明不足であればすみませんが、どなたかご回答頂けましたら幸いです。
【500枚!】ロリポップにMediaWikiをインストールする方法を詳しく教えてください。
MySQL初学者です！画像はphpMyAdminの表示画面なのですが、これはMysqlのユーザということでよろしいでしょうか? だとすれば、「root」というユーザにパスワードが設定されているということになりますが、私は以前設定した覚えがありません。 このままだと「root」でMySQLにログインできませんか? よろしくお願いします。
この問１０、１１誰かお願いします！！ ５００枚！！
SELECT T1.CD, T2.CD, T2.CD名称 from テーブル１ T1, テーブル2 T2 where T1.CD = T2.CDこのsqlでテーブル１のＣＤとテーブル２のＣＤを紐づけて、 テーブル２のCD名称を表示できますか？
データーベース(Mysql)を使うPHPと使わないPHPでは、どちらがどれぐらい、システムエラーが起こりやすいでしょうか？理由や、何か具体例とともに、教えていただければ幸いです。 データーベース(Mysql)を使う場合、必ず1年に1回ぐらいは、何らかのエラーが起こると思ってよいでしょうか？
MySQLをソースインストールする方法について CentOS6.7に、MySQL(6系以降)をインストする方法として 従来のやり方(解凍したディレクトリ内に移動して)./configure --with-charset=utf8 --with-mysqld-user=mysql --prefix=/usr/local/mysql* --with-plugins=innobase,partition ここで、*はバージョンの番号です。 上記従来のオプションを保持しつつ、CMakeで書くにはどうやって書けばよいでしょうか？ サイトを探してみましたが、なかなか良いサイトを見つけることができませんでした。 詳しいやり方を教えていただけませんでしょうか？
・ 株式情報のサイトをWordPressで作成しています。・ 投稿の作成を半自動化したくて、mySQLの wp_postsの投稿（下書き）データの作成までは出来たのですが・・・ ・ 画像つきの投稿（下書き）としようとして post_contentのレコードに <img src="http://ｘｘｘｘ/ｙｙｙｙｙ/ｚｚｚｚ.jpg" />の記載して データ作成 (INSERTでもUPDATEでも） しようとしましたが できずに困っています。 [概要] 画像ファイルはサーバーにアップロード済みです $content = '<img src="http://ｘｘｘｘ/ｙｙｙｙｙ/ｚｚｚｚ.jpg" />'; $sql='UPDATE wp_posts SET post_content ='.$content.' WHERE ID = '.該当ID; ・ 文字・数字だとデータできますし mySQLのphpMyadminで手入力<img src="http://ｘｘｘｘ/ｙｙｙｙｙ/ｚｚｚｚ.jpg" />とするとできます ・ PHPでWEBをスクレイピングし、そのデータをもとに、TwitterのBotをするなど、 すこしはPHPの知識あったつもりでしたが・・・ 投稿作業で画像貼り付けが一番手間がかかっていて、 やりたいことのキモなので、がっくりの状態です。 すごく基礎的なことかもしれません。よろしくお願いいたします。
業務上で本格的にLinuxを使うのでLinuxを勉強しようかと思っています。多分Linuxを使ってサーバーやデータベース（MySQL）を叩くような業務になると思うのですが、どのようなディストリビューションを使ってどのように勉強するべきでしょうか。 あとよくサーバーを建てるとか言いますが、皆さんはどんなサーバーを立ててるのでしょうか。 ホームページ用のサーバー立てて自分のホームページを作ったりとかしてるのでしょうか。
wordpressについて。初心者でかなり疎い質問になりますが… レンタルサーバーを契約しなくても 自分のPC上にMySQLやPHPを配置して wordplessをインストールすることはできるのでしょうか？ また、複数設置できるのか？容量は自分のHDDとかに 左右されるのかも知りたいです。 回答よろしくお願いします。
PHP＋Mysqlです。HTML内のコーディング中に、ほしい部分に適宜IDでデータベースから呼び出して中の値を使ってみたいと思ったのですが、うまくいきません。 以下コードです。function select($id){ try{ $dbh = new PDO(DSN, DB_USER, DB_PWD); $select=""; $dbh->setAttribute(PDO::ATTR_DEFAULT_FETCH_MODE, PDO::FETCH_ASSOC); $sth = $dbh->prepare('SELECT * FROM posts WHERE ID=?'); $sth->execute(array($id)); $menu = $sth->fetch(PDO::FETCH_ASSOC); }catch(PDOException $e){ echo 'エラーが発生しました 理由: ' . $e->getMessage(); } } <div class="contents"> <?php select('1'); echo $menu['title'];?> </div> functionを使って、HTML内でIDを指定して、その中の値を使う。 ということをコーディング中に好きなところで好きなIDで繰り返してやりたかったんです。 どこかやり方が間違っているのでしょうか？
JavaServletとMySQLを使った画像表示に関する質問です。 今、MySQLにBLOB型で保存した画像のバイナリデータをServletで抜き出して画像に変換したうえで、ブラウザ上に表示するというプログラムを作成しています。 データベースに接続し文字や数値の取得と表示は出来たのですが、画像の取得と表示で滞っている状況です。 ネットで調べてみたのですが、なかなか理解できなかったので今回質問させていただきました。 私が今回聞きたいのは ・Servletを使用したMySQLからの画像取得と表示 ・一つのクラスファイル内で文字の表示と画像の 表示を同時に行うことは可能かどうか です。 よろしくお願いします。
（初心者です）TwitterAPIで取得したJSONの変数化→MySQL格納 ※初心者のため「変数」とか「引数」の標記に誤りがあるかもしれません。【やりたいこと】 ①投稿された時刻を日本標準時で後ろに表示したい。 ②「screen_name」「name」「経度緯度」とともに「投稿時刻」のデータをSQLに渡したい。 http://detail.chiebukuro.yahoo.co.jp/qa/question_detail/q1415671091... 昨晩、上記の質問をしました。カテゴリーマスターの方（ryosuke_i_628さん）からご教授頂き、なんとか指定範囲のツイートと、そのツイート（投稿）をした経度緯度情報を表示させることが出来ました。 現在、「screen_name」「name」「経度緯度（long & lat）」が表示できています（厳密な軽度緯度情報が付加されていないものには「?」が表示される設定となっています）。 【やりたいこと】 SQL側には、あらかじめ「geotweetdata（仮称）」というテーブルを作成しておき、それぞれのフィールドを準備する予定です。 そのうえで・・・ $sql = 'INSERT INTO geotweetdata (screen_name, name, long, lat, time) VALUES ( " '. $A. ' " , " '. $B. ' " , " '. $C. ' " , " '. $D. ' " , " '. $E. ' " ); ・・・のような形で格納したいと考えています。 ただ、ご教授頂いた構文では、それぞれが「$A」「$B」のような変数（？）として表れていないため、どのように扱えば良いのか分かりません。 var_dump関数を使って観察する方法もあるようですが、var_dumpの（）内にどのような変数（？引数？？）を記せば良いのかも分かりませんでした。 上記URLの回答に対する返答として「追加で質問する」ことも考えましたが、質問内容が変遷してしまうため、新しい質問として投稿します。 PHP、MySQLともに初心者ですが、凄く可能性を感じ、また楽しみも感じています。 少しずつ勉強していこうと思いますので、是非ともご教授ください。 下記に、 ① 投稿時刻を加え ② SQLへ繋げる構文を付加 してみたいと考えています。 ＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝ ＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝ 昨晩カテゴリーマスターから教わったサンプル ＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝ ＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝ <?php require 'TwistOAuth.phar'; $ck = ''; $cs = ''; $ot = ''; $os = ''; try { $to = new TwistOAuth($ck, $cs, $ot, $os); $callback = function ($status) { if (!isset($status->text)) return; // イベントなどは除外 printf("@%s - %s [%s]: %s\n", $status->user->screen_name, $status->user->name, isset($status->coordinates->type) && $status->coordinates->type === 'Point' ? implode(',', $status->coordinates->coordinates) : '?' , htmlspecialchars_decode($status->text, ENT_NOQUOTES) ); }; $params = [ 'locations' => implode(',', [ -122.75,36.8,-121.75,37.8, // サンフランシスコ（１箇所に限定） ]), ]; $to->streaming('statuses/filter', $callback, $params); } catch (TwistException $e) { echo 'Error: ' . $e->getMessage();
会員制掲示板のようなものを作ろうとしているのですが、投稿者の名前やアイコンを投稿ごとにDBに保存するのと毎回ユーザーテーブルから取り出してくるのとではどちらがいいと思いますか？後者は一度に複数のユーザーの投稿を表示する際、参照レコードが増えてしまい重くなるのでは？と思ったのですがあまり気にしなくても大丈夫ですか？素人なので変な質問かもしれませんがどなたか教えてください。ちなみにRuby on Railsで作る予定です。
PHPで画像をリサイズして、確認ページでプレビューを表示させた後、mysqlに登録したいと考えています。 初めて質問させていただきます。 こんにちは。PHPを勉強し始めたばかりのものです。画像をリサイズして、確認ページでプレビューを表示させた後、mysqlに登録したいと考えています。たくさんのサイト様や質問者さまのお陰で、確認ページにプレビュー表示、mysqlに画像を登録まではできました。けれど、画像をリサイズ（jpeg,gif,png）する方法がいまいち分かりません。 $_FILES['file']['tmp_name']で取得できるデータと同じリサイズしたデータは、どのように取り出せば良いのでしょうか？？ プレビューには$_FILES['file']['tmp_name']から <?php session_start(); if (!isset($_SESSION['UseImg'])) { die('abort'); } switch ($_SESSION['UseImg']['type']) { case IMAGETYPE_JPEG: header('content-type: image/jpeg'); break; case IMAGETYPE_PNG: header('content-type: image/png'); break; case IMAGETYPE_GIF: header('content-type: image/gif'); break; } echo $_SESSION['UseImg']['data']; と言うphpファイルを作り、img要素で呼び出して表示させています。 なにとぞ、宜しくお願いします。 リサイズに関して、詳しいサイトや、書籍なども教えてくださると、嬉しいです。 -------------------- if (isset($_FILES['upfile']['error']) && is_int($_FILES['upfile']['error'])) { try { // $_FILES['upfile']['error'] の値を確認 switch ($_FILES['upfile']['error']) { case UPLOAD_ERR_OK: // OK break; case UPLOAD_ERR_NO_FILE: // ファイル未選択 throw new RuntimeException('ファイルが選択されていません'); case UPLOAD_ERR_INI_SIZE: // php.ini定義の最大サイズ超過 case UPLOAD_ERR_FORM_SIZE: // フォーム定義の最大サイズ超過 throw new RuntimeException('ファイルサイズが大きすぎます'); default: throw new RuntimeException('その他のエラーが発生しました'); } // $_FILES['upfile']['mime']の値はブラウザ側で偽装可能なので、MIMEタイプを自前でチェックする $info = @getimagesize($_FILES['upfile']['tmp_name']); print_r ($info); print $info[mime]; if (!$info = @getimagesize($_FILES['upfile']['tmp_name'])) { throw new RuntimeException("[{$k}] 有効な画像ファイルを指定してください"); } if (!in_array($info[2], [IMAGETYPE_GIF, IMAGETYPE_JPEG, IMAGETYPE_PNG], true)) { throw new RuntimeException("未対応の画像形式です"); } // 画像処理に使う関数名を決定する $create = str_replace('/', 'createfrom', $info['mime']); $output = str_replace('/', '', $info['mime']); // 縦横比を維持したまま 120 * 120 以下に収まるサイズを求める if ($info[0] >= $info[1]) { $dst_w = 120; $dst_h = ceil(120 * $info[1] / max($info[0], 1)); } else { $dst_w = ceil(120 * $info[0] / max($info[1], 1)); $dst_h = 120; } // 元画像リソースを生成する if (!$src = @$create($_FILES['upfile']['tmp_name'])) { throw new RuntimeException("画像リソースの生成に失敗しました"); } // リサンプリング先画像リソースを生成する $dst = imagecreatetruecolor($dst_w, $dst_h); // getimagesize関数で得られた情報も利用してリサンプリングを行う imagecopyresampled($dst, $src, 0, 0, 0, 0, $dst_w, $dst_h, $info[0], $info[1]); 【この辺りからどう書けば良いのか分かりません……】 $msg = ['green', 'ファイルは正常にアップロードされました']; } catch (RuntimeException $e) { $msg = ['red', $e->getMessage()]; 参考サイト http://qiita.com/mpyw/items/73ee77a9535cc65eff1e http://detail.chiebukuro.yahoo.co.jp/qa/question_detail/q1214186520...
データベース構築でphpmyadminって使うことってあるんですか？
xampp1.8.1 mysql 5.5.27 windows1.8.1 でmysqlの勉強をしています。 しかし、SELECT文で文字を表示させると 「?????」 と文字化けします。参考書や検索で問題を解決しようとしたら、文字コードをUTF8にしないといけないと書かれていたので、その通りにテキストツールでphp-ini 他を 参考のサイトの通りに変更しましたが、全然直りません。文字コードをsjisにした方がよいのでしょうか。コマンドプロントはちゃんと起動しています。テキストツールではなくコマンドプロントから入力して文字化けを直す方法ってのもあるんですか？どのサイトを見ても同じことばかり書かれていて、結局解決できません。どなたかアドバイスのほど、よろしくお願いします。
wordpressを使えるまでについてVALUE-DOMAIN.comサイトからレンタルサーバーをレンタルしてデータベースのMySQLを作成して接続サーバー名・DB(おそらくデータベース)名・DBユーザー名・パスワードを得ました。 wordpressを使えるようにするのにデータベース情報を入力する必要があるみたいで ①WordPress を作動させるデータベースの名 ②MySQL のユーザー名 ③そして、あなたの MySQL パスワード。 ①～③に上記の得た内容をそのまま入力しましたが何故かデータベース接続確立エラーとの画面に移動して先に進めません。 どうして正常に先に進めることが出来ないのでしょうか？私のやり方の何かが違っているのでしょうか？
【至急です】 今日中にお願いします。 どなたこの画像回答をお願いします。 必須科目なのですが、データベースの理解が難しいくできません。 よろしくお願いします。
mysqlで先月から6か月前までの取得ポイントの合計値を出したい こんにちわ。ポイント発生する度に取得情報の行を追加しています。１行1行には、発生日もあり、GROUP BYで合計値を出しましたが、ポイントが発生しない月が表示されないことに気づきました。 PHPのシステムなので、ループなど合わせれば可能だと思いますが、SQLでも算出可能なのでしょうか？ 以下のような表示が理想です。 2016 02 1200pt 2016 01 0pt 2015 12 350pt 2015 11 100pt 2015 10 0pt 2015 09 20pt よろしくお願いします。
データウェアハウスとは何ですか？
初歩的で申し訳ないのです。。 mysql_fetch_arrayの考え方が分からないので教えてください。仮に テーブル：ｔｂ フィールド： [no.] [reading] [alphabet] 1/あ/ a 2/ い/ i 3 /う /u っといったデータがあった場合に $i=mysql_query("SELECT*FROM tb")； while($result=mysql_fetch_array($i)){ print :$result[0]; print :$result[1]; print :$result[2]; print "<BR>"; } を実行した結果 １あa 2いi 3うu となりますが、なぜ 『１あa』っといった横の動きになるのですか？ 私の配列のイメージは縦であるため、横の動きになる仕組みが知りたいです。 また、縦方向には、$result[](ex. $result[o]ならば[no.])で表せますが、横方向は何かで表せないのでしょうか？ 縦横なの、バカ丸出しの質問で申し訳ないですが、よろしくお願いします。
プリペアドステートメントを使用したSELECT文の結果取得に関する質問です。 以下のコードで最新のthread_id の値を取得したいのですが、$resには一番古い値が入ってきてしまいます。thread_id はオートインクリメントになっています。 $stmt_sel = $mysqli->prepare('SELECT thread_id FROM thread_info ORDER BY ? DESC LIMIT 1'); $stmt_sel->bind_param('s',$s_thread_id); $s_thread_id = 'thread_id'; $stmt_sel->execute(); $stmt_sel->bind_result($res); $stmt_sel->fetch(); var_dump($res); 試しにDESCをASCに変えてみたところDESCの時と同じ結果になってしまいました。 sql文が間違っているのでしょうか？ それとも取得の仕方が間違っているのでしょうか？ 原因のわかる方いらっしゃいましたらご回答いただけると幸いです。 よろしくお願い致します。
例えば1~10のプルダウンリストを下記のようにfor文とインクリメントで作るとします。<select> <?php $sql = 'SELECT num FROM numbers'; $num = mysqli_query($db, $sql) or die(mysqli_error($db)); //$table = mysqli_fetch_assoc($num); for ($i=1; $i<11; $i++) { echo '<option>' . $i . '</option>'; } ?> </select> その際、データベースに登録されている数値を除きたい場合、どのような記述になるのでしょうか？ 例：データベース(テーブル名:numbers カラム名:num)に3、5、7の3つのレコードが登録されてれば、1、2、4、6、8、9、10を選択できるプルダウンメニューが出来る。 PHP、MySQLを学び始めて3ヶ月程度です、よろしくお願いします
ローカル環境構築がいかに難しいかと3日間悩んでます。 もういっそローカル環境無しで直接ブラウザからワードプレスいじってもいいかなとさえ思ってしまってます。 そこで思いついたのが、ローカル環境はテスト専用にする。（インストールまではできているので。） ローカル環境からアップロードはしない。（アップロード難しそうだしエラーが出てる 初心者をフォーラムでよく見かけるため） テストと同じ作業をブラウザのワードプレスの方でやる 。 という使い方でも不都合はないでしょうか？ アドバイスやご意見、参考書や参考になるサイトなど、一つでも多くのアドバイス、お待ちしてます。 素人にはアップロードでなにかエラーがあった時に対処できないし、でも、いきなりローカル環境なしで本番サイトでプラグインを 新しく追加するなどは怖く、 どうやって進めていけば良いのかという所で迷ってしまいました。
エックスサーバーのバックアップ機能について。 ワードプレス利用。初心者。Win10です。目的は、万が一の時のために復旧できるように、です。質問１ FTPファイル サーバーパネル＞アカウント＞バックアップと開くと ・ホームディレクトリ ・（ドメイン名）.com ・（ドメイン名）.xsrv.jp ・ssl の４つが出てきます。それぞれの違い、どれをバックアップするべきか教示願います 質問２ １の続きです。ダウンロードを押した後について。 PC壊れた時ようにUSBに保存したいのです。 その場合「名前をつけて保存」にして保存先をUSBにする、で合ってますか？ また、次回からは上書きで大丈夫ですか？ 質問３ データベースのバックアップについて。 サーバーパネル＞MySOL設定＞MySQLバックアップ を開くと ・（ドメイン名）_wp ・（ドメイン名）_wp1が出てきます。 ２個あるのは普通ですか？私が操作ミスして２つ作ってしまったのでしょうか？ （私の個人サイトは１個しか持ってない） 質問４ 私がエックスサーバーからバックアップ取れるものは以上（１のFTPファイル、３のMySQL）が全てで合ってますか？ 長くてスミマセン。
PHPからMySQLにアクセスし、フォームに入力された特定の数字を指定したレコードから検索する簡易的な検索フォームを制作したいと思っています。企画としては、MySQLとPHPを連携させた簡易的な気象情報サイトの制作を考えています。 開発環境はWindoes7でXAMPPを使用しています。 XAMPPの基本的な初期設定を終えた後、phpMyAdminを用いて以下のような手持ちの気象データ(csvファイル)をインポートさせました。 「fukuokaken.csv year,month,temperature,humidity 2000,1,7,67 2000,2,6.1,56...(月別数十年分)」 このcsvファイルを データベースkishojohoを作り、SQLで 「create table fukuokaken (year1 int,month1 int,temperature varchar(5),humidity int)character set sjis;」 さらにデータベースkishojohoの中で 「LOAD DATA LOCAL INFILE 'C:/Users/djuser/Desktop/fukuokaken.csv' INTO TABLE fukuokaken FIELDS TERMINATED BY ',' IGNORE 1 LINES;」 インポートされたのが データベース kishojoho テーブル fukuokaken year1,month1,temperature,humidity 2000,1,7,67 2000,2,6.1,56...(月別数十年分) ここまでは無事に完了しました。 他にも何県か考えていますが、とりあえずということで福岡でのみ。 続いてホームページの下地を制作し、htdocsフォルダにHTMLファイル等を入れた後、mysql_connect関数を用いてデータベースの一覧を表示させることには成功しました。 以下のような構文です。 「itiran.php」 <?php $db = mysqli_connect('localhost' , 'root' , 'password' , 'fukuokaken') or die(mysqli_conncet_error()); mysqli_set_charset($db, 'sjis'); $recordSet = mysqli_query($db, 'SELECT * FROM fukuokaken') ?> <table border="1"> <tr> <th scope="co1">年</th> <th scope="co1">月</th> <th scope="co1">平均気温(℃)</th> <th scope="co1">平均湿度(%)</th> </tr> <?php while ($table = mysqli_fetch_assoc($recordSet)) { ?> <tr> <td><?php print(htmlspecialchars($table['year1'])); ?></td> <td><?php print(htmlspecialchars($table['month1'])); ?></td> <td><?php print(htmlspecialchars($table['temperature'])); ?></td> <td><?php print(htmlspecialchars($table['humidity'])); ?></td> </tr> <?php } ?> </table> 続いて、データをすべてではなく、ユーザーが年数を指定できる検索フォームを作り、検索ボタンを押すと、その年のデータだけ読み込む、というシステムを作りたいのですが、書籍やインターネットを参考にしても、該当するものが見つけられず、お恥ずかしながらXAMPP入門したての初心者で、応用もできずに、手詰まりで困っています。 どなたかやり方をご教授いただければと思い、此方にて質問させていただきました。 不足している情報等あれば必要に応じて追記させていただきます。 宜しくお願いします。
phpMyAdminでの全データベースのエクスポートのとき「CREATE TABLE コマンドを追加する」にチェックを忘れました。 お世話になります。Windows 7でXamppでMySQLをつかってます。 Xamppをバージョンアップしようと思い、 まず、phpMyAdminで全データベースを一括でエクスポートしました。 （データベース全体をエクスポートしました。） そのときに、画像のExport method:のところを、 簡易 - 最小限のオプションだけ表示を選択しました。 それが原因なのか分からないですが、 Xamppを再インストールして、MySQLのデータベースをphpMyAdminでインポートしようとしたら、 SQL query: ＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿ CREATE TABLE IF NOT EXISTS `wp_commentmeta` ( `meta_id` bigint(20) unsigned NOT NULL, `comment_id` bigint(20) unsigned NOT NULL DEFAULT '0', `meta_key` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL, `meta_value` longtext COLLATE utf8mb4_unicode_ci ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci MySQL のメッセージ: ドキュメント #1046 - No database selected ＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿ というエラーが出ます。 おそらくデータベースがないと言っているのだと思うのですが、 データベースをつくるコマンドがsqlファイル（エクスポートで出力されたファイル）にないということでしょうか？ なんとか、今あるsqlファイル（エクスポートで出力されたファイル）で、復元することはできますでしょうか？？ 黒い画面からコマンドを打ち込む方法でも、WP-CLIを使う方法でもなんでもOKですので、 このsqlファイル（エクスポートで出力されたファイル）で復旧（復元）させる方法がありましたら、教えてくださいませ。 XamppをアンインストールするときC:\xampp\mysql\dataフォルダは消してしまいました。 ご教示くださいませ。 よろしくお願いします
PHPに詳しい方、宜しくお願いします。 ３５万件位のテキストデータ（タブ区切り）項目Ａ、Ｂ，Ｃ，Ｄ，Ｅがあります。ローカル上のmysqlのデータベースにデータを変換したいのですが、どのようにプログラミングしたらよいのでしょうか？ データベースのテーブル（項目Ａ，Ｂ，Ｃ，Ｄ，Ｅ）は作成済みです。 PHPを始めて間もないので宜しくお願いします。
XAMPPの最新版5.6.15利用の方、どのように設定されましたか？設定や導入のサイトを見ると、2015年夏以前のものばかりです。 2015年秋頃に公式サイトの改悪があったようで、XAMPPのインストール後の設定のページが現在は削除されているようで、困っています。 もうXAMPPを新しく導入することは不可能なのでしょうか？
ページングをさせたいのですが、ここから先全く分かりません。恐らくこの下記コードもぐちゃぐちゃだろうかと思いますが、どうしても1ページには10件表示をさせたいのですが、どなたか教えて下さい。while( のところでレコード数$limと$stを記入すればいいのかなと思っているんですが、その記述のコードを教えて下さい。この予想も間違いかも知れませんが。 宜しくお願いします。 $keyword = $IID; $dbh = new PDO($dsn, $user, $password); $dbh->query('SET NAMES utf8'); $dbh->setAttribute(PDO::ATTR_EMULATE_PREPARES, false); $sql = 'SELECT id, date, title, cap, item, target, state, text, photo, process FROM post WHERE date LIKE ?'; $stmt = $dbh->prepare($sql); $stmt->bindValue(1, '%' . $keyword . '%', PDO::PARAM_STR); $stmt->execute(); // データ数 $h=$stmt->rowCount(); // 取り出す最大レコード数 $lim = 10; $allpage = ceil("$h" / "$lim"); // 表示するページ位置を取得する $p = intval(@$_GET["p"]); if ($p < 1) { $p = 1; } // 表示するデータの位置を取得する $st = ($p - 1) * $lim; // 前のページ／次のページのページ番号を取得する $prev = $p - 1; if ($prev < 1) { $prev = 1; } $next = $p + 1; $dbh = null; while($row = $stmt->fetch(PDO::FETCH_ASSOC)){ $id = htmlspecialchars($row['id']); . . .
mysqlについて質問です。 下記の様な複数のテーブル内にある価格の合計や平均を求めて 結果を吐き出すにはどうすればよいのでしょうか？テーブル1 ---------- 品名 |価格 | ----------- リンゴ, 300 みかん, 200 テーブル2 ----------- 品名 | 価格 | ----------- すいか, 500 メロン, 3800
JavaとSQLとCSVの連携プログラムに関する質問(2)です。 あらかじめ,1～1983までのIDを振ったデータを持ったテーブルsyokujiがあります。今度追加しようとしている内容は,(syokuji.csv) 1986,平成27年2月9日,月曜日,朝,豚しゃぶ風味噌汁 1987,平成27年2月9日,月曜日,朝,豚肉生姜焼き … 3967,平成28年2月18日,木曜日,夕,冷やし豚玉ぶっかけうどん 3968,平成28年2月19日,金曜日,朝,お粥 と 1986番スタートのデータなのですが, いざ,以下のプログラムを動かすと, Exception in thread "main" java.lang.ArrayIndexOutOfBoundsException: 4 at syokujinaiyou.ReadCSV.main(ReadCSV.java:76)という例外が発生します。 なぜなのでしょうか？ どなたか,ご教示ください。 public class ReadCSV { public static void main(String[] args) { //まだエラーが出る。 Connection con = null; try { Class.forName("com.mysql.jdbc.Driver"); //DBユーザ名入力用 System.out.println("DB接続用のユーザ名を入力してください。"); BufferedReader br=new BufferedReader(new InputStreamReader(System.in)); String user=br.readLine(); if("".equals(user)){ System.out.println("ユーザ名を入力してください。"); System.exit(0); } //DBパスワード入力用 System.out.println("DB接続用のパスワードを入力してください。"); BufferedReader br2=new BufferedReader(new InputStreamReader(System.in)); String pass=br2.readLine(); if("".equals(pass)){ System.out.println("パスワードを入力してください。"); System.exit(0); } //DB接続 con = DriverManager.getConnection("jdbc:mysql://localhost/syokuji",user,pass); //食事内容の挿入用SQL文 String SQL="insert into syokuji values(?,?,?,?,?)"; // ステートメントオブジェクトを生成 PreparedStatement ps = con.prepareStatement(SQL); //読み込み場所の指定 System.out.println("読み込み場所を指定してください。"); BufferedReader br0=new BufferedReader(new InputStreamReader(System.in)); String buf=br0.readLine(); if("".equals(buf)||" ".equals(buf)){ System.out.println("読み込み場所を入力してください。"); System.exit(0); } File csv = new File(buf); // CSVデータファイル BufferedReader br8 = new BufferedReader(new FileReader(csv)); // 最終行まで読み込む String line; int r = 0; int id=0; while ((line = br8.readLine()) != null) { // 1行をデータの要素に分割 StringTokenizer st = new StringTokenizer(line, ","); while (st.hasMoreTokens()) { System.out.print(st.nextToken() + "\t"); // r+=ps.executeUpdate(); } String[] col=line.split(","); // id=new Integer(col[0]); String date=col[1]; String youbi=col[2]; String zikanntai=col[3]; String syokujinaiyou=col[4]; ps.setInt(1,id); ps.setString(2,date); ps.setString(3,youbi); ps.setString(4,zikanntai); ps.setString(5,syokujinaiyou); r+=ps.executeUpdate(); System.out.println(); } //閉じる br8.close(); if(r!=0){ System.out.println(r+"件挿入しました。"); } ps.close(); con.close(); } catch (FileNotFoundException e) { // Fileオブジェクト生成時の例外捕捉 /*e.printStackTrace();*/ System.out.println("ファイルが見つかりません。"); } catch (IOException e) { // BufferedReaderオブジェクトのクローズ時の例外捕捉 //e.printStackTrace(); System.out.println("入出力エラーが発生しました。"); } catch (SQLException e) { // TODO 自動生成された catch ブロック System.out.println("SQLエラーが発生しました。"); e.printStackTrace(); } catch (ClassNotFoundException e) { // TODO 自動生成された catch ブロック System.out.println("クラスが見つかりません。"); } } }
wordpress：チェックボックスによる検索で配列処理ができなくてこまっています。テーブル名はsample ID,last,first,age,genderと名前や数字が50人分入っています。 ID,(苗字),(名前),(年齢),(性別)という意味です。 現在、以下のようにPHPに記述しているのですが、 思った通りの表示がされません。 <form action="./" method="GET"> <div> 人物名検索 <input type="checkbox" name="search1[]" placeholder="" value="青木" />青木 <input type="checkbox" name="search1[]" placeholder="" value="田中" />田中 <input type="submit" value="検索する" /> </div> </form> <?php global $wpdb; $sql = $wpdb->prepare(" SELECT * FROM $wpdb->sample WHERE last LIKE %s",'%'.$_GET['search1'].'%'); $rows = $wpdb->get_results($sql); if($rows){ foreach ($rows as $row) { echo "<p>".$row->last."さん：".$row->age."歳 性別：".$row->gender."です</p>"; } } ?> 他の記事を参考に配列で取り出すには、nameの末尾に[]を付けると書いてあるので、 その通りにやると、検索結果が表示されなくなってしまいます。 この[]を取ると、青木、田中それぞれの検索はできますが、両方にチェックすると、田中さんしか検索されません。 理想は、両方にチェックをすると、苗字が青木、田中の人物がID順に表示されることです。 また、ここから展開して、複数条件にしたいと思っています。 苗字 □青木 □田中 名前 □智子 □友子 のような感じで条件を２つにし、 青木 or 田中 and 智子 or 友子 で、検索できるようにしたいです。 ご指導の方、よろしくお願いします。
JavaとSQLとCSVの連携プログラムに関する質問です。https://github.com/YOSHINAGATAIKI/dsa/blob/master/ReadCSV.java を実行したところ, ----------------------------------------- ★整理番号: 【1976】 日付: 曜日: 時間帯: 食事内容: ----------------------------------------- のような形で,1件しか挿入されず,データがnullで出力されてしまいます。 CSVファイルがSQLに取り込まれない状況です。 なぜこのようなことが起こるのでしょうか？ よろしくお願いいたします。 *** 作成した時のテーブル名は,create table syokuji(id integer AUTO_INCREMENT,date VARCHAR(15) NOT NULL,day VARCHAR(10) NOT NULL,time VARCHAR(10) NOT NULL,syoku VARCHAR(40) NOT NULL);で, CSVファイルはUTF-8形式で保存してあり, 1,平成27年2月9日,月曜日,朝食,豚しゃぶ風味噌汁 2,平成27年2月9日,月曜日,朝食,豚肉生姜焼き … 1974,平成28年2月16日,火曜日,夕食,鮪刺身 1975,平成28年2月17日,水曜日,朝食,お粥 実行部分のコードは, DB接続用のユーザ名を入力してください。 **** DB接続用のパスワードを入力してください。 *********** … 読み込み場所を指定してください。 C:\USERS\xxxxxxxx\DESKTOP\syokuji.csv 実行結果は, 1 平成27年2月9日 月曜日 朝食 豚しゃぶ風味噌汁 2 平成27年2月9日 月曜日 朝食 豚肉生姜焼き … 1974 平成28年2月16日 火曜日 夕食 鮪刺身 1975 平成28年2月17日 水曜日 朝食 お粥 1件挿入しました。 です。よろしくお願いいたします。 -------------------------- public class ReadCSV { public static void main(String[] args) { Connection con = null; try { Class.forName("com.mysql.jdbc.Driver"); System.out.println("DB接続用のユーザ名を入力してください。"); BufferedReader br=new BufferedReader(new InputStreamReader(System.in)); String user=br.readLine(); if("".equals(user)){ System.out.println("ユーザ名を入力してください。"); System.exit(0); } System.out.println("DB接続用のパスワードを入力してください。"); BufferedReader br2=new BufferedReader(new InputStreamReader(System.in)); String pass=br2.readLine(); if("".equals(pass)){ System.out.println("パスワードを入力してください。"); System.exit(0); } con = DriverManager.getConnection("jdbc:mysql://localhost/syokuji",user,pass); String SQL="insert into syokuji values(?,?,?,?,?)"; PreparedStatement ps = con.prepareStatement(SQL); int num = 0;//ID String date = "";//日付 String youbi = "";//曜日 String zikanntai="";//時間帯 String syokujinaiyou = "";//食事内容 System.out.println("読み込み場所を指定してください。"); BufferedReader br0=new BufferedReader(new InputStreamReader(System.in)); String buf=br0.readLine(); if("".equals(buf)||" ".equals(buf)){ System.out.println("読み込み場所を入力してください。"); System.exit(0); } File csv = new File(buf); BufferedReader br8 = new BufferedReader(new FileReader(csv)); String line = ""; while ((line = br8.readLine()) != null) { StringTokenizer st = new StringTokenizer(line, ","); while (st.hasMoreTokens()) { ps.setInt(1,num); ps.setString(2,date); ps.setString(3,youbi); ps.setString(4,zikanntai); ps.setString(5,syokujinaiyou); System.out.print(st.nextToken() + "\t"); } System.out.println(); } br8.close(); int r=ps.executeUpdate(); if(r!=0){ System.out.println(r+"件挿入しました。"); } ps.close(); con.close(); } }
CentOS+MySQL5.6のチューニングに関する助言を頂けますか。MySQLの設定ファイル my.cnfを編集から max_allowed_packetを追記して詳細設計を行いたいと考えてますが・・・・ 設計を行うにあたり、必要な情報はどのようなものでしょうか？ ネットでは、32MB以上とか最大1GBまで設定可能と記事を見つけますが、 何の根拠をもって32MB以上とか1GBとされているのでしょうか？？ もし、ご存じであれば教えて頂けますか。 よろしくお願いします。
wordpress超初心者です。simple membershipプラグインを日本語しようと、 プラグイン編集から、編集するプラグインsimple membershipを選択し、 languageフォルダを探すのですが、見つかりません。 classes 、js、views などはあるのですが、jsとviewsの間にあるはずのlanguage がありません。 ちなみに、simple membershipはつい先日ダウンロードしたばかりで、最新版のものを使っています。 お教え頂ければ幸いです。
Cygwinからローカルのmysqlサーバーに接続するとログ無しで標準入力待機になり、 一度SQLを実行すると、強制ログアウトしてしまうんですが、クライアントがCygwinではいけないのでしょうか？ちなみCMDからだと通常通りの動作をしますが、コピペが面倒なので、Cygwinを使おうとしています。 インストール先は C:/mysql で、CMDからは cd c:/mysql/bin mysql -u root -p dbname Password:←入力 Enter password: ********** Welcome to the MySQL monitor. Commands end with ; or \g. Your MySQL connection id is 4547 Server version: 5.7.10-log MySQL Community Server (GPL) Copyright (c) 2000, 2015, Oracle and/or its affiliates. All rights reserved. Oracle is a registered trademark of Oracle Corporation and/or its affiliates. Other names may be trademarks of their respective owners. Type 'help;' or '\h' for help. Type '\c' to clear the current input statement. mysql> となりますが、 Cygwinでは cd c:/mysql/bin ./mysql.exe -u root -p dbname ※この状態でログ無しでパス入力待機 パスワード入力後も反応なし。 このままctrl + Cするまで反応がありません。
MySQLとCSVに関しての質問です。LOAD DATA INFILE "c:/syokuji.csv" INTO TABLE syokuji FIELDS TERMINATED BY ',' ENCLOSED BY '"'; にて,テーブル名syokujiに1970件分のデータを挿入することができました。 ですが, mysql> SELECT * FROM syokuji ; を実行すると, +------+-----------------+--------+--------+-----------------------------+ | ID | 日付 | 曜日 | 時間帯 | 食事内容 | +------+-----------------+--------+--------+-----------------------------+ | 27年2月9日 | 月曜日 | 朝食 | 豚しゃぶ風味噌汁 | 2月9日 | 月曜日 | 朝食 | 豚肉生姜焼き | | 月曜日 | 朝食 | 白飯 | | 月曜日 | 昼食 | 白飯 |月9日 | 月曜日 | 昼食 | 麩の味噌汁 | | 平成27年2月9日 | 月曜日 | 昼食 | ちくわの切り干し大根煮 | 2月9日 | 月曜日 | 昼食 | 豚肉生姜焼き |月9日 | 月曜日 | 昼食 | ウィンナー | | 月曜日 | 昼食 | 玉子 |9日 | 月曜日 | 夕食 | 焼うどん | 11 | 平成27年2月9日 | 月曜日 | 夕食 | ベーコンと大根のコンソメ煮 | | 月曜日 | 夕食 | 白飯 |月9日 | 月曜日 | 夕食 | 鮪のたたき | 2月9日 | 月曜日 | 夕食 | 鶏がらスープ | | 火曜日 | 朝食 | パン … +------+-----------------+--------+--------+-----------------------------+ 1970 rows in set (0.00 sec) の様に,表のレイアウト(形)が崩れてしまいます。 テーブルの設計は, create table syokuji(ID INTEGER,日付 VARCHAR(15),曜日 VARCHAR(15),時間帯 VARCHAR(10),食事内容 VARCHAR(40)); で,中身のCSVファイルは, 1,平成27年2月9日,月曜日,朝食,豚しゃぶ風味噌汁 2,平成27年2月9日,月曜日,朝食,豚肉生姜焼き 3,平成27年2月9日,月曜日,朝食,白飯 4,平成27年2月9日,月曜日,昼食,白飯 5,平成27年2月9日,月曜日,昼食,麩の味噌汁 6,平成27年2月9日,月曜日,昼食,ちくわの切り干し大根煮 7,平成27年2月9日,月曜日,昼食,豚肉生姜焼き 8,平成27年2月9日,月曜日,昼食,ウィンナー 9,平成27年2月9日,月曜日,昼食,玉子 10,平成27年2月9日,月曜日,夕食,焼うどん 11,平成27年2月9日,月曜日,夕食,ベーコンと大根のコンソメ煮 12,平成27年2月9日,月曜日,夕食,白飯 13,平成27年2月9日,月曜日,夕食,鮪のたたき 14,平成27年2月9日,月曜日,夕食,鶏がらスープ 15,平成27年2月10日,火曜日,朝食,パン 16,平成27年2月10日,火曜日,朝食,目玉焼き 17,平成27年2月10日,火曜日,朝食,ポタージュ 18,平成27年2月10日,火曜日,昼食,焼き豚炒飯 19,平成27年2月10日,火曜日,昼食,わかめうどん …で1970件あり, テキストエンコードはUTF-8です。 いったいなぜこのような表示になるのでしょうか。 よろしくお願いいたします。
XAMPPをインストールしてるのですが、apacheでエラーがでます。 80と443のポートを何が使ってるのか調べると「httpd.exe」と出ます。 win10使用。設定→システム→アプリと機能→「XAMPP」で検索しアンインストール。 再起動。再インストール。 を5回試していますが、同様のエラーが出ます。 １、上記のアンインストール手順が間違っていますか？（不完全？どこかに残ってる？） ２、（１が不完全かな？と思って→）窓のアイコン→PC→「XAMPP」で検索 …すると、2013年とかにMOファイルとかで出てくるんですが（自分は２０１６年2月に初めてXAMPPをインストールしたつもりだったのですが。）、いったいこれは何！？ こちらもアンインストールしなきゃいけない、とかそういう理由でしょうか？ 解決策、お願いします。もうへとへとっす…
MySQLに関して とあるテーブルに,CSV形式のデータを流し込もうとしたら,以下のようなエラーが出てきました。mysql> LOAD DATA INFILE "c:/syokuji.csv" INTO TABLE syokuji FIELDS TERMINATED BY ',' -> ENCLOSED BY '"'; ERROR 1290 (HY000): The MySQL server is running with the --secure-file-priv option so it cannot execute this statement これはなぜ起こるのでしょうか？ ちなみに,使用しているOSはWindows10です。
MySQLでfrm, ibdなどのファイルからデータベースの復元を行いたいです。先日、WordPressを動かしているサーバーのデータが吹っ飛びました… MySQLに関しては知識が全く無く、手順書に沿ってインストールを行いました。 バックアップはHDDの中身を丸々そのままとっているため、ファイルは全て残っています。 mysqlディレクトリを見ると、内部にwordpressディレクトリがあり、その中にdb.opt, wp_commentmeta.frm,wp_comments.ibdなどのファイルがあります。 これらのファイルから新しい環境にデータベースを復元したいです。 実際のコマンドを用いたやり方を教えて下さい。 OSはCentOSです。 よろしくお願いします。
ORACLE SQL 関数について、初心者から質問です。 District というテーブルに二つのカラムDISTRICTCODEとDISTRICTNAME があります。それぞれのカラムのレコードに 「TK」「TOKYO」「NY」「NEW YORK」など町のコード名と名前が入っています。 district_output.sql というSQL ファイルがあります。以下が今現在僕が書いたコードです。 set heading off set variety off set echo off set feedback off set pagesize 0 spool district-data.sql SELECT 'INSERT INTO DISTRICT VALUES ('''||districtcode||''','''||districtname||''');' FROM DISTRICT; PROMPT commit;; spool off set heading on set verify on set pagesize 20 set linesize 50 set feedback 6 set echo on （''' はシングルクォート３つです） これをexecute するとdistrict-data.sql に INSERT INTO DISTIRCT VALUES ('TK____','TOKYO _______'); INSERT INTO DISTRICT VALUES ('NY____','NEW YORK ________'); .... （＿＿＿＿はスペースです。） というように無駄なスペースが入ってしまいます。この無駄なスペースを消すにはどうしたらよいでしょうか？ 最終的にこういう風にしたいです。 INSERT INTO DISTIRCT VALUES ('TK','TOKYO'); INSERT INTO DISTRICT VALUES ('NY','NEW YORK'); どうか皆さま、このSQL初心者にご教授ください。
SELECT date_format(tbl_A.01,'%Y/%m') AS month,tbl_A.02,tbl_B.02.tbl_B.04,tbl_C.01 FROM tbl_A,tbl_B,tbl_C WHERE tbl_A.03 = tbl_B.03 AND tbl_A.01 = tbl_B.01 AND tbl_A.05 = tbl_C.05 AND tbl_A.03 = 'AAA' HAVING month = '2016/02' 上記のようなSQLで、tbl_A.05 = tbl_C.05の部分ですが、 tbl_A.05 のデータがtbl_C.05に一致するものではなかったときにNULLを返してほしいのですが、レコード自体を返してくれません。 どうすればNULLで埋めてレコードを返してくれるようになるでしょうか？
MySQLのデータベースについて http://516.jp/2827 のサイトを参考にサイトにログイン機能をつけようと思っていますが、なぜか、IDが1つだけしか作成できないです。考えられる原因は何なのでしょうか？ MySQLは、phpMyAdmin を使用しています。
MYSQLのjionについて sql文初心者です。以下のことを実行したいのですが、どのようにしたらよいのでしょうか？テーブル1（送信履歴テーブル） 送信先ID（顧客テーブルID値） 送信元ID（顧客テーブルID値） テーブル2（顧客テーブル） ID 会員ID 名前 表示したいカラム テーブル1の送信先ID、送信元IDを会員IDで表示 以上です。よろしくお願いします。
JavaとSQLの連携プログラムに関する質問です。https://github.com/YOSHINAGATAIKI/dsa/blob/master/YAKUZAISQL.java を実行して, ************************************** 処方日:2015-11-12 調剤薬局名:***クリニック 医療機関名:***クリニック 患者ID:**** 処方医:*****先生 診療科:内科 薬剤名:*****錠２０ｍｇ 薬価:46.4円/錠 1日量:2錠 服用方法:１日２回 朝夕食後服用 処方日数:30日分 薬剤点数:270 ************************************** 処方日:2015-11-12 調剤薬局名:***クリニック 医療機関名:***クリニック 患者ID:**** 処方医:*****先生 診療科:内科 薬剤名:*****錠１０ｍｇ 薬価:16.3円/錠 1日量:3錠 服用方法:１日３回 毎食後服用 処方日数:30日分 薬剤点数:150 ************************************** 処方日:2015-12-09 調剤薬局名:***クリニック 医療機関名:***クリニック 患者ID:**** 処方医:*****先生 診療科:内科 薬剤名:*****錠２０ｍｇ 薬価:46.4円/錠 1日量:2錠 服用方法:１日２回 朝夕食後服用 処方日数:30日分 薬剤点数:270 ************************************** 処方日:2015-12-09 調剤薬局名:***クリニック 医療機関名:***クリニック 患者ID:**** 処方医:*****先生 診療科:内科 薬剤名:*****錠５ｍｇ 薬価:6.4円/錠 1日量:3錠 服用方法:１日３回 毎食後服用 処方日数:30日分 薬剤点数:60 ************************************** … と表示させたいのですが, ************************************** 処方日:2015-11-12 調剤薬局名:***クリニック 医療機関名:***クリニック 患者ID:**** 処方医:*****先生 診療科:内科 薬剤名:*****錠２０ｍｇ 薬価:46.4円/錠 1日量:2錠 服用方法:１日２回 朝夕食後服用 処方日数:30日分 薬剤点数:270 ************************************** 処方日:2015-12-09 調剤薬局名:***クリニック 医療機関名:***クリニック 患者ID:**** 処方医:*****先生 診療科:内科 薬剤名:*****錠２０ｍｇ 薬価:46.4円/錠 1日量:2錠 服用方法:１日２回 朝夕食後服用 処方日数:30日分 薬剤点数:270 ************************************** 処方日:2015-11-12 調剤薬局名:***クリニック 医療機関名:***クリニック 患者ID:**** 処方医:*****先生 診療科:内科 薬剤名:*****錠１０ｍｇ 薬価:16.3円/錠 1日量:3錠 服用方法:１日３回 毎食後服用 処方日数:30日分 薬剤点数:150 ************************************** 処方日:2015-12-09 調剤薬局名:***クリニック 医療機関名:***クリニック 患者ID:**** 処方医:*****先生 診療科:内科 薬剤名:*****錠５ｍｇ 薬価:6.4円/錠 1日量:3錠 服用方法:１日３回 毎食後服用 処方日数:30日分 薬剤点数:60 ************************************** … とこのように交互に表示されてしまいます。 While文の中身が悪いのでしょうか? よく原因がわかりません。 なぜこのようなことが起こるのでしょうか。
SQLについて質問です。 テーブル1 日付 数値 ID テーブル2 ID という条件です。IDでつながっており、 SELECT文で、「ID , 指定した日付までの合計数値 , 全日付の合計数値」 を表示したいのですが、WHEREで日付を絞ってしまうと、 全日付の合計数値も変わってしまい、 色々考えてよくわからない状況に陥っています。 どなたか、助言お願いします(>_<)
PHP+MYSQLでのページ作成。 データベースから一致するデータのリストを持ってきて利用したい。例えば ID|title|rpg|strategy 1|aaa|0|1 2|bbb|1|0 3|ccc|1|1 4|ddd|1|0 のようなデータが有った場合rpgが1のデータを全部取り出してページを生成したいのです。 ーーーーーーーーーーーー 1個目のアイコン|2個目のアイコン 1個目の詳細 2個目の詳細 3個目の詳細 ーーーーーーーーーーーーーー のような感じでデータを使いたいのです。 つまり、アイコンを並べるところは一部データのみ（実際は5件） その下の詳細説明は全てのデータを反映させて作りたいです（イメージ的に10件以上） その際の、MYSQLからのデータの使い方がわかりません。 取り出した配列を一個一個指定する方法があれば簡単に作れそうですが、そのやり方はわからないので、 別の方法として、ネットの情報を継ぎ接ぎして無理やりwhile文の中で完結させようとした結果、現状このようになっています。 ーーーーーーーーーーーーーーーーー <?php try{ $dbh = new PDO(DSN, DB_USER, DB_PWD); $dbh->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION); $sth = $dbh->prepare('SELECT * FROM posts WHERE rpg=?'); $sth->execute(array(1)); ?> <html～～～～～ ～～～～～～</header> <?php while($menu = $sth->fetch(PDO::FETCH_ASSOC)){ echo $menu[title]; echo $menu[title]; } echo "<br />"; while($menu = $sth->fetch(PDO::FETCH_ASSOC)){ echo $menu[c_title1]; echo $menu[c_title2]; } }catch(PDOException $e){ echo 'エラーが発生しました 理由: ' . $e->getMessage(); } $dbh = null; ?> 実験的に２つの場所でデータ出力を試みましたが、実際には最初のwhili文しか機能しませんでした。 それと、上から5件だけ表示させる方法もわかりません。 どうにかして、Mysqlのデータ群を元にページを作る方法は無いでしょうか？
【データベースに文字列がインサート出来ません】 MySQL、PHPMyadminを利用した... 【データベースに文字列がインサート出来ません】MySQL、PHPMyadminを利用したTwitterのツイート取得に関する質問です。 ツイートを取得しDBに書き込み、2分毎にリフレッシュを行うプログラムなのですが、特定のツイートのインサートが出来ません。 以下ソース <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> <html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja" lang="ja"> <head> <!-- ページ自動更新と文字コードセット --> <meta http-equiv="refresh" content="120" content="text/html; charset=UTF-8" > <title>「」ツイート収集プログラム 最終更新：12月23日</title> </head> <body> <?php //MySQL接続処理 $link = mysql_connect('localhost', 'ユーザID', 'パスワード'); if (!$link) { die('接続失敗です。'.mysql_error()); } print('<p>接続に成功しました。</p>'); //データベース選択処理 $db_selected = mysql_select_db('fuel', $link); if (!$db_selected){ die('データベース選択失敗です。'.mysql_error()); } print('<p>fuelデータベースを選択しました。</p>'); mysql_set_charset('utf8'); $result = mysql_query('SELECT name,tweet,time,action,pros FROM 12_23'); if (!$result) { die('SELECTクエリーが失敗しました。'.mysql_error()); } //twitteroauth.phpをインクルード require_once("twitteroauth/twitteroauth.php"); //TwitterAPI開発者ページでご確認下さい。 //Consumer keyの値を格納 $sConsumerKey = ""; //Consumer secretの値を格納 $sConsumerSecret = ""; //Access Tokenの値を格納 $sAccessToken = ""; //Access Token Secretの値を格納 $sAccessTokenSecret = ""; //OAuthオブジェクトを生成する $twObj = new TwitterOAuth($sConsumerKey,$sConsumerSecret,$sAccessToken,$sAccessTokenSecret); // 検索キーワード $andkey = ""; $options = array('q'=>$andkey,'count'=>'100'); $json = $twObj->OAuthRequest( 'https://api.twitter.com/1.1/search/tweets.json', 'GET', $options ); $jset = json_decode($json, true); if(is_array($jset)){ foreach ($jset['statuses'] as $result){ $id = $result['id']; $name = $result['user']['name']; $link = $result['user']['profile_image_url']; $content = $result['text']; $updated = $result['created_at']; $time = $time = date("Y-m-d H:i:s",strtotime($updated)); $sql = "INSERT IGNORE INTO 12_23 (id,name,tweet,time) VALUES ('$id','$name','$content','$time')"; $result_flag = mysql_query($sql); if (!$result_flag) { die('INSERTクエリーが失敗しました。'.mysql_error()); } echo "【ユーザ名】".$name."【ツイート】".$content."【時間】".$time; echo '<br>'; echo '<br>'; } } ?> </body> </html> 実行画面、及びエラーが出た際のエラーメッセージを載せた画像を添付します。 よろしくお願いいたします。
phpからMySQLへの接続についての質問です。<?php $db=mysql_connect('localhost','ユーザ名','パスワード'); if(!$db) die('接続失敗です'.mysql_error()); echo 'データベースに接続しました'; ?> 上記のphpファイルを作成し、FFFTPにアップロード、その後ブラウザを表示すると Warning: mysql_connect() [function.mysql-connect]: Access denied for user 'ユーザ名'@'localhost' (using password: YES) 接続失敗ですAccess denied for user 'ユーザ名'@'localhost' (using password: YES) と表示され、接続することができません。 状況 ・タブには「HTTP 500 内部サーバー エラー」と表示されています ・mySQLは起動している ・phpは適当なエディタに記述(php用のアプリケーションなどはインストールしていません) いろいろ試したのですが、うまくいきませんでした。 よろしくお願いします。
javaでwebアプリケーション開発をしています。 mysqlに直接ひらがな・全角・半角・英数を打ち込むと受け付けてくれるのですが、servlet→jsp→mysqlの流れ（Java）で、情報を入力すると全角と平仮名が文字化けしてしまいます。 そのためmy.iniの変更を [mysql] default-character-set=utf8 ↓↓↓ [mysql] default-character-set=cp932 に変えましたが今だに文字化けしています。原因は何でしょうか・・・？ ご教示お願い致します。
MySQLについて 以下のテーブルがあるとします ①予約テーブル id from(datetime) to(datetime) yoyaku_id(varchar)1 2015-01-01 2015-01-31 1 2 2015-02-01 2015-02-28 1 3 2015-01-01 2015-01-31 2 4 2015-02-01 2015-02-28 2 予約画面には、 予約ID(yoyaku_id) FROM(from) TO(to) があります。 予約IDをキーにFROMとTOがデータと重複しないか確認するSQLを教えてください。 例： 予約ID(yoyaku_id)・ 1 FROM(from) 2015-01-01 TO(to) 2015-01-30 => FROMとTOが重複するのでNG 予約ID(yoyaku_id)・ 1 FROM(from) 2015-01-01 TO(to) 2015-02-01 => FROMが重複するのでNG 予約ID(yoyaku_id)・ 1 FROM(from) 2014-12-31 TO(to) 2015-01-01 => TOと重複するのでNG
MySQL Workbench でカラムのデータ型を指定する時に、TEXTは()が標準で付いてくるのに対し、他のTEXT系は()なしです。つまり選択肢が TINYTEXT, TEXT(), MEDIUMTEXT, LONGTEXT となっています。 TEXTだけ()がついてるのはなぜでしょうか？ 推測でも教えてください。
VPSのCentOS6にwordpressを設置していてphpmyadminを後から設置したが上手くいかない。各バージョンは CentOS 6.2 (Final) Apache 2.2.15 php 5.3.3 です。 VPSにワードプレスを設置して、現状運用しております。 プラグインやSSHからMysqlのバックアップをとっていますが、phpmyadminのUIから色々な 部分を覗きたいと考え、phpmyadminを設置してみました。 しかし ドメイン/phpmyadmin ipアドレス/phpmyadmin としてもリダイレクトがかかってしまい、ワードプレスの404ページが出てしまいます。 もちろんセキュリティリスクがあることは承知しておりますが、phpmyadminを設置して 適宜駆動してアクセスしたいと考えております。 httpd.confを変更すれば可能でしょうか？ 以上、よろしくお願い致します。
INSERTされたい？
PHP/MySQLで文字化けします 開発環境(XAMPP)から本番環境(さくらインターネット)へテーブルをインポートしたら文字化けしします。開発、本番ともにテーブルの文字コード=utf-8なのを確認。 ブラウザ上で文字コードを変更すると、「euc-jp」だと文字化けしませんでした。 よってどこかでeuc-jpになっているうようです。 以下は開発と本番で同じでした。 ・開発環境のテーブルの文字コード ・開発環境のエクスポート(sql)の文字コード ・開発環境のデータベースの文字コード ・本番環境のテーブルの文字コード ・本番環境のデータベースの文字コード ・開発環境の照合順序 ・本番環境の照合順序 他にどこを確認すべきでしょうか？
Accessで学校の友達の身長、体重を入力したらBMIを出力できるようにしたいのですが、例えで完成してフォームで入力が必要なところを入力したらそれをデータとして残るようにテーブルに入力したデータが行くようなそのような事はできるでしょうか？ よろしければ回答していただければ嬉しいです 乱文ですがよろしくお願いします。
Wordpressのテーマ置き換えについて Wordpressの新テーマを直接実装していただきました。本当はテンプレート化してほしいというのが本音だったのですが・・・ （押しが弱いので）妥協してしまいました。 そこで自分でテーマとして抜き出して別のドメインに複製する方法として 次のうちどれが可能ですか？ A・・・wp-content/themes にある新しいテーマをそのままごっそりぬきとる 別のWordpressにテーマとしてzipでアップ（プラグインはあとからつける） B・・・プラグインも実装ずみなので、よく分からないのでそのままごっそり Wordpressのディレクトリごとぬきとって新しいWordpressのディレクトリへ上書き （新しいWordpressはすでにデータベースを設定済みです） C・・・ほかにももっといい方法があるぜ
MySQL 5.5.x(Encode:sjis)へのCSVファイルからのインポートについて質問です。環境:Windows 10 Pro x64, Office 2016 現在のデータベース構造 CREATE TABLE table1( Number INT(3) NOT NULL UNIQUE AUTO_INCREMENT, ID CHAR(13) PRIMARY KEY, ID2 CHAR(3), A VARCHAR(100), #文字列(ここの文字列が特殊で、先頭に=+と入っている箇所があるため、Excelでは当然演算子として認識されています。現在はテキストエディタで文字列置換でなんとかするか、=+を外して通常の文字列にすべて置き換えるかで対応予定です。) B VARCHAR(10), #日付1(20XX/XX/XX)形式 C VARCHAR(10), #日付2(20XX/XX/XX)形式 D VARCHAR(3), #数値(X.X)形式 E VARCHAR(10), #文字列 F VARCHAR(10), #文字列 G VARCHAR(6), #文字列 H VARCHAR(13), #文字列 I VARCHAR(10), #文字列 J VARCHAR(10), #文字列 K VARCHAR(20), #文字列 L VARCHAR(500) #文字列 ); インポートしたいCSVの構造 A B C D E F G H I J K L M N O A:数値(Numberに相当) BとCは日付 D~Fは文字列 Gは小数点付き数値 あと後ろはすべて文字列 ↑のようなCSVをNumberに相当するAをダブルクオーテーションで囲まず、それ以外のところをダブルクオーテーションで囲みNumber以外を文字列としてインポートしたいのですが、 なにか良い方法はないでしょうか。
５００枚です！ SQLの課題なのですが、全くわかりません。どなたか助けてください。。 データベースを設計し、適当な検索等をしなさい。ただし、各表は正規化しなさい。(1) 主キー、外部キー、外部キーが参照する表の表を作成しなさい。（ワープロ等で作成） 添付画像のような表 (2) 各表を定義しなさい。 定義のSQL文を提出 (3) 必要な照会（SELECT文）をしなさい。 自分で、必要そうな照会の課題を考え、そのSQL作成。 例：複数の表を内部結合で結合 よろしくおねがいします。
ＳＱＬ文の課題なのですが全くわかりません... 全てじゃなくてよろしいので、どなたか助けてください。 メダルは５００枚です。TOSYO 表 CREATE TABLE TOSYO( TOSYONO CHAR(4) NOT NULL, SYOMEI TEXT NOT NULL, TYOSYA TEXT NOT NULL, INDEX(TOSYONO), PRIMARY KEY (TOSYONO)) TOSYONO SYOMEI TYOSYA A001 Ｓ大学の真相 専修太郎 A002 ＳＱＬ入門 朽木塔子 B002 神田明神 平将門 C003 無能の人 増相次郎 GAKUSEI表 CREATE TABLE GAKUSEI( GAKUSEINO CHAR(5) NOT NULL, SIMEI TEXT NOT NULL, INDEX(GAKUSEINO), PRIMARY KEY (GAKUSEINO)) GAKUSEINO SIMEI C9601 高石邦生 C9703 吉良上野 D8801 田中桂子 Q8515 大石蔵子 KASIDASI表 CREATE TABLE KASIDASI( KNO CHAR(3) NOT NULL, GAKUSEINO CHAR(5) NOT NULL, TOSYONO CHAR(5) NOT NULL, KIGEN DATE, HENKYAKU INT, INDEX(KNO,GAKUSEINO,TOSYONO), PRIMARY KEY (KNO), FOREIGN KEY (GAKUSEINO) REFERENCES GAKUSEI (GAKUSEINO), 7 FOREIGN KEY (TOSYONO) REFERENCES TOSYO (TOSYONO) ) KNO GAKUSEINO TOSYONO KIGEN HENKYAKU 001 D8801 C003 2014/12/30 1 002 Q8515 A001 2014/12/30 0 003 C9601 B002 2015/01/10 1 004 Q8515 C003 2015/01/12 0 005 Q8515 A002 2015/01/20 0 (HENKYAKU は，1が返却すみ，0が未返却) 次の照会をするSQL文を作成しなさい．回答は，課題1と同様に，テキストまたはワープロファイルに，転記して提出． (1) 大石蔵子さんの貸し出しの状況の一覧（KASIDASI表から作成） (2) まだ，未返却の貸し出しの一覧（KASIDASI表から作成） (3) 期限が12月の貸し出しの一覧（KASIDASI表から作成） (4) 未返却かつ期限が12月の貸し出しの一覧（KASIDASI表から作成） (5) 未返却貸し出しで，貸出期限が古い順に出力するSQL（KASIDASI表から作成） (6) KASIDASI表を基準に3つの表を内部結合し， VKASIDASIという仮想表を作成する． (7) 各図書の貸し出し回数の一覧を表示するSQL文 (8) 各学生の貸し出し回数と一番遅い貸し出し期限を表示するSQL文 （１回も貸し出していない学生は表示しなくてよい）
JavaとSQL連携プログラムに関してです。http://detail.chiebukuro.yahoo.co.jp/qa/question_detail/q1315562052...への回答ありがとうございました。 さて,http://detail.chiebukuro.yahoo.co.jp/qa/question_detail/q1315562052...を修正したところ,きちんと表示されるようになったのですが, 一部,表示ができていないところがあります。 if("分1 朝食後".equals(rs.getString(9))&&rs.getDouble(11)<15&&"1錠".equals(rs.getString(8))){ fp.println("薬剤点数:"+(1*rs.getInt(10))); }else if("分1 就寝前".equals(rs.getString(9))&&rs.getDouble(11)<15&&"1錠".equals(rs.getString(8))){ fp.println("薬剤点数:"+(1*rs.getInt(10))); }else if("分1 朝食後".equals(rs.getString(9))&&rs.getDouble(11)>=15&&"1錠".equals(rs.getString(8))){ double a=Math.round((((rs.getDouble(11)))/10)); fp.println("薬剤点数:"+(int)(rs.getInt(10)*a)); }else if("分1 就寝前".equals(rs.getString(9))&&rs.getDouble(11)>=15&&"1錠".equals(rs.getString(8))){ double a=Math.round((((rs.getDouble(11)))/10)); fp.println("薬剤点数:"+(int)(rs.getInt(10)*a)); }else if("分1 朝食後".equals(rs.getString(9))&&2*rs.getDouble(11)<15&&"2錠".equals(rs.getString(8))){ fp.println("薬剤点数:"+(1*rs.getInt(10))); }else if("分1 就寝前".equals(rs.getString(9))&&2*rs.getDouble(11)<15&&"2錠".equals(rs.getString(8))){ fp.println("薬剤点数:"+(1*rs.getInt(10))); }else if("分1 朝食後".equals(rs.getString(9))&&2*rs.getDouble(11)>=15&&"2錠".equals(rs.getString(8))){ double a=Math.round(2*(((rs.getDouble(11)))/10)); fp.println("薬剤点数:"+(int)(rs.getInt(10)*a)); }else if("分1 就寝前".equals(rs.getString(9))&&2*rs.getDouble(11)>=15&&"2錠".equals(rs.getString(8))){ double a=Math.round(2*(((rs.getDouble(11)))/10)); fp.println("薬剤点数:"+(int)(rs.getInt(10)*a)); }else if("分2 朝食後と夕食後".equals(rs.getString(9))&&2*rs.getDouble(11)<15&&"2錠".equals(rs.getString(8))){ fp.println("薬剤点数:"+(1*rs.getInt(10))); }else if("分2 朝食後と夕食後".equals(rs.getString(9))&&2*rs.getDouble(11)>=15&&"2錠".equals(rs.getString(8))){ double a=Math.round(2*(((rs.getDouble(11)))/10)); fp.println("薬剤点数:"+(int)(rs.getInt(10)*a)); }else if("分3 毎食後".equals(rs.getString(9))&&3*rs.getDouble(11)<15&&"3カプセル".equals(rs.getString(8))){ fp.println("薬剤点数:"+(1*rs.getInt(10))); }else if("分3 朝食後".equals(rs.getString(9))&&3*rs.getDouble(11)>=15&&"3カプセル".equals(rs.getString(8))){ double a=Math.round(3*(((rs.getDouble(11)))/10)); fp.println("薬剤点数:"+(int)(rs.getInt(10)*a)); }else if("分3 毎食後".equals(rs.getString(9))&&3*rs.getDouble(11)<15&&"3錠".equals(rs.getString(8))){ fp.println("薬剤点数:"+(1*rs.getInt(10))); }else if("分3 朝食後".equals(rs.getString(9))&&3*rs.getDouble(11)>=15&&"3錠".equals(rs.getString(8))){ double a=Math.round(3*(((rs.getDouble(11)))/10)); fp.println("薬剤点数:"+(int)(rs.getInt(10)*a)); } の分3 朝食後の部分なのですが,テキストデータに表示できていない状況です。 テキストデータの表示例 ************************************** 処方日:******************* 調剤薬局名:******************* 医療機関名:*******************クリニック 患者ID:******************* 処方医:******************* 先生 診療科:******************* 薬剤名:*******************錠20mg｢**｣ 薬価:12.7円/錠 1日量:2錠 服用方法:分2 朝食後と夕食後服用 処方日数:30日分 薬剤点数:90 ************************************** 処方日:******************* 調剤薬局名:******************* 医療機関名:*******************クリニック 患者ID:******************* 処方医:******************* 先生 診療科:******************* 薬剤名:*******************カプセル 薬価:6.5円/カプセル 1日量:3カプセル 服用方法:分3 毎食後服用 処方日数:30日分 ※ ************************************** ※のところに,分3 毎食後の時の薬価が表示できていない状況です。 なぜこのようなことが起こるのでしょうか。
javaとSQLを連携させたプログラムについて質問があります。import java.io.BufferedWriter; import java.io.FileNotFoundException; import java.io.FileWriter; import java.io.IOException; import java.io.PrintWriter; import java.sql.Connection; import java.sql.DriverManager; import java.sql.PreparedStatement; import java.sql.ResultSet; import java.sql.SQLException; public class YAKUZAISQL { public static void main(String[] args){ Connection con = null; try{ Class.forName("com.mysql.jdbc.Driver"); con = DriverManager.getConnection("jdbc:mysql://localhost/okusuri","root","kyoto947613"); String sql = "select syohounaiyou.A,syohounaiyou.B,syohounaiyou.C,syohounaiyou.D,syohounaiyou.E,syohounaiyou.F,syohounaiyou.G,syohounaiyou.H,syohounaiyou.I,syohounaiyou.J,yakka.C,yakka.D from syohounaiyou,yakka WHERE SYOHOUNAIYOU.G=YAKKA.B"; PreparedStatement ps = con.prepareStatement(sql); System.out.println("データを表示します。"); PrintWriter fp = new PrintWriter(new BufferedWriter(new FileWriter("A:\\yakka.txt"))); ResultSet rs = ps.executeQuery(); //問い合わせSQLの書き出し while(rs.next()){ fp.println("**************************************"); fp.println("処方日:"+rs.getDate(1)); fp.println("調剤薬局名:"+rs.getString(2)); fp.println("医療機関名:"+rs.getString(3)); fp.println("患者ID:"+rs.getInt(4)); fp.println("処方医:"+rs.getString(5)+" 先生"); fp.println("診療科:"+rs.getString(6)); fp.println("薬剤名:"+rs.getString(7)); fp.println("薬価:"+rs.getDouble(11)+"円/"+rs.getString(12)); fp.println("1日量:"+rs.getString(8)); fp.println("服用方法:"+rs.getString(9)+"服用"); fp.println("処方日数:"+rs.getInt(10)+"日分"); //新しい機能の追加(途中段階) if((rs.getString(9)=="分1 朝食後"||rs.getString(9)=="分1 就寝前")&&rs.getDouble(11)<15.0){ fp.println("薬剤点数:"+(1*rs.getInt(10))); }else if((rs.getString(9)=="分1 朝食後"||rs.getString(9)=="分1 就寝前")&&rs.getDouble(11)>=15.0){ // BigDecimal bd = new BigDecimal(((rs.getDouble(11)*1)-15)/10); // BigDecimal bd1=bd.setScale(0, BigDecimal.ROUND_UP); fp.println("薬剤点数:"+Math.round(((rs.getDouble(11)*1)-15)/10)*rs.getInt(10)); } } fp.close(); ps.close(); con.close(); }catch(ClassNotFoundException ee){ ee.printStackTrace(); }catch(SQLException ee){ System.out.println("該当するSQLが存在しません。"); ee.printStackTrace(); } catch (FileNotFoundException e) { System.out.println("ファイルが見つかりません。"); } catch (IOException e) { System.out.println("入出力エラーです。"); } }} と記述しているのにもかかわらず, ************************************** 処方日:2016-01-15 調剤薬局名:****薬局 医療機関名:***クリニック 患者ID:**** 処方医:△△△ 先生 診療科:内科 薬剤名:*********** 薬価:****円/錠 1日量:1錠 服用方法:分1 朝食後服用 処方日数:30日分 ************************************** 分1 朝食後のところや分1 就寝前の箇所に薬剤点数がプリントアウトされません。 なぜこのようなことが起きるのでしょうか？
xamppにおいてコマンドプロンプトでmariaDBのパスワードを変更した後、phpmyadminに入ろうとすると ”MySQL サーバに接続しようとしましたが拒否されました。config.inc.php のホスト、ユーザ名、パスワードが MySQL サーバの管理者から与えられた情報と一致するか確認してください” のように表示されます。ここで\phpmyadmin\config.inc.phpのファイルを編集すればいいのはわかったのですがこのファイルがいくらやっても開けません。何か解決策はありますでしょうか？
NetBeansのエラーがわかる方にお聞きしたいです。 学校の課題でNetBeans Projectを使ったプログラムの作成をしています。大体のところ順調だったのですが、一部で以下のようなエラーが出てしまい、詰まってしまっています。Webで調べてみたものの、なんだかよくわからない検索結果しか得られませんでした。 わかる方いらっしゃいましたら、エラーの内容をわかりやすく教えていただきたく思います。 どうぞよろしくお願いします。 重大: java.sql.SQLException: 列位置'1'は範囲外です。このResultSetに対する列数は'0'です。 at org.apache.derby.client.am.SQLExceptionFactory40.getSQLException(Unknown Source) at org.apache.derby.client.am.SqlException.getSQLException(Unknown Source) at org.apache.derby.client.am.ColumnMetaData.getColumnType(Unknown Source) at org.apache.derby.client.am.PreparedStatement.setString(Unknown Source) at dao.MutterDAO.create(MutterDAO.java:68) at model.PostMutterLogic.execute(PostMutterLogic.java:18) at servlet.Main.doPost(Main.java:118)
SQL文について質問です データが以下のようなとき、 学籍番号0001の学生の受講登録している科目名を求めるSQL文はどのようになりますか？リレーション学生における主キーは学籍番号 リレーション科目における主キーは科目番号 リレーション受講における主キーは受講番号 *印の属性は外部キーを示し、外部キーと主キーの名称は同一とする。 学生(学籍番号、学生氏名、住所) 科目(科目番号、科目名、開講期、単位数) 受講(受講番号、学籍番号*、科目番号*、成績) 私は SELECT 科目名 FROM 受講, 科目 WHERE 受講.学籍番号='0001' このようになると思うのですが、 AND 受講.科目番号=科目.科目番号 は必要でしょうか？ 外部キーが示されているので必要ないと考えたのですがいかがでしょうか？
ワードプレスで作りましたサイトを更新しようとしたところ、パスワードがわからなくなってしまい、PWの再発行をしようとしたら、nginxエラーとなってしまい再発行ができません。エラーの内容は Something has triggered an error on your website. This is the default error page for nginx that is distributed with the Amazon Linux AMI. It is located at /usr/share/nginx/html/50x.html You should customize this error page for your own site or edit the error_page directive in the nginx configuration file /etc/nginx/nginx.conf. となっています。 如何したらいいのかわからず検索してみても解決策が見つからずここで質問させていただいています。 まだ初心者のため質問に質問を重ねてしまうかもしれませんが、なにとぞご教授お願いいたします。
MYSQLサーバファイル.frm、.ibdからの復元方法について伺います MYSQLは初心者の為知識は希薄です。MySQLServerがWindowsの初期化により消えてしまったため再インストールを行いました。再インストール後、D:\ProgramData\MySQL\MySQL Server 5.6\data内に 以前のProgramDataと同じデータをコピーして配置してみましたがテーブルを参照しようとすると。エラーが出ます 復元したファイルの拡張子には テーブル名.frm テーブル名.ibd db.optがあります。 #1146 - Table 'テーブル名' doesn't exist とどのテーブルも表示されるようです。 このデータ（以下画像）から再度テーブルを復元することはできないのでしょうか？ もしでき方法があれば順を追って伺いたいです。 補足ですが D:\ProgramData\MySQL\MySQL Server 5.6\dataには ユーザー名.err ユーザ名.pid ib_logfile0 ib_logfile1 ibdata1 auto.cnf があります D:\ProgramData\MySQL\MySQL Server 5.6には dataフォルダと my.iniファイルがあります。
EC CUBEについて質問です。 先ほど、EC CUBEのインストールでエラーがでてしまうということで質問させていただきました。最近勉強をはじめたばかりで無知なので、勉強も兼ねて今回、EC CUBEをインストールをしているのですが、うまくいきません。 環境は 使用しているサーバー ミニバード PHP5.6.15 MYSQL 5.0.95 です。また、データベースの初期化を実行すると The server encountered an internal error or misconfiguration and was unable to complete your request. Please contact the server administrator, admin@****.com and inform them of the time the error occurred, and anything you might have done that may have caused the error. More information about this error may be available in the server error log. とのことなので、エラーログを確認したところ、 Connection timed out: mod_fcgid: ap_pass_brigade failed in handle_request_ipc function, referer: http://****.com/html/install.php/step5 とのことでした。 この場合はどのような対処が必要なのでしょうか。 お願いいたします。
MySQLを使って在庫管理をしたいと思います。 MySQLは、入力画面になるフォームを作成することができますか?
JavaとSQLの連携について質問です。gakkaテーブルには21行のデータが挿入されていて,コマンドライン ベースであったら,21行データが表示されるのにもかかわらず, 以下のように,テキストデータに書き込みを行うと,20行しか表示されない現象が起きています。 ほかのテーブルで同じようなことをしても,(コマンドラインで表示される行数)-1行のデータしか 書き込まれていません。 なぜ,このようなことが起きるのでしょうか？ package sql; import java.io.BufferedWriter; import java.io.FileNotFoundException; import java.io.FileWriter; import java.io.IOException; import java.io.PrintWriter; import java.sql.Connection; import java.sql.DriverManager; import java.sql.PreparedStatement; import java.sql.ResultSet; import java.sql.SQLException; public class ShowSQLALLDATA { public static void main(String[] args){ Connection con = null; try{ //ドライバの取得 Class.forName("com.mysql.jdbc.Driver"); //データベースへ接続する。 //(URL,ユーザ名,パスワード) con = DriverManager.getConnection("jdbc:mysql://localhost/menkyo","****","*******"); String sql = "select num,date,point,gouhi from gakka"; // ステートメントオブジェクトを生成 PreparedStatement ps = con.prepareStatement(sql); System.out.println("データを表示します。"); PrintWriter fp = new PrintWriter(new BufferedWriter(new FileWriter("C:\\test.txt"))); ResultSet rs = ps.executeQuery(); while(rs.next()) { //問い合わせSQLの書き出し while(rs.next()){ String str="受験番号"+rs.getInt(1)+"|日付"+rs.getInt(2)+"|得点"+rs.getInt(3)+"|合否>>>"+rs.getString(4); fp.println(str); } fp.close(); /******************************* * 現在使用しない,コンソール表示用 System.out.println("受験番号:"+num+"|日付"+date+"|得点"+point+"|合否"+gouhi); *******************************/ } ps.close(); con.close(); }catch(ClassNotFoundException ee){ ee.printStackTrace(); }catch(SQLException ee){ System.out.println("該当するSQLが存在しません。"); } catch (FileNotFoundException e) { System.out.println("ファイルが見つかりません。"); } catch (IOException e) { System.out.println("入出力エラーです。"); } } }
Mysql SELECT構文実行時に返り値が空と表示されます。table名 kmeans sql文 SELECT * FROM kmeans WHERE 商品名=' アンアースリーインペリアルIPA(アメリカ) ' table詳細 商品番号(int) ,商品名(text), id(text) 1, スルガベイインペリアルIPA(日本), a 2 ,スモーク＆オーク(アメリカ) ,a 3 ,アンアースリーインペリアルIPA(アメリカ), a 以上の条件で実行したところ、返り値が空と言われてしまいます。 照合順序等はSHIFT-JISで設定しており特に文字化け等は起きておりません。 なぜ返り値が空なのでしょうか？ よろしくお願いします。
PHPとMySqlを使ったWEBフォームによる登録システムを作りました。問題は複数の人が登録後のデータが編集できるので 例えばAさんがデータを編集するのに編集フォームを開いてる時に Bさんも同じデータを編集して完了、その後Aさんが編集完了すると Bさんが編集したデータはAさんのデータで上書きされてしまいます。 個人的に考えた対策方法は Aさんが編集フォームを開いた際に、その時点の 日時をパラメータとして保存して、編集完了画面にて すでに登録されている更新日時と比較して その日時パラメータが古い場合は、すでにだれかが 更新しているとして、エラーメッセージを表示するというものです。 これでも対策になると考えられますがもう少し 良い方法や他の方法があれば教えていただければ幸いです。
さくらのスタンダードプランはMySQLが使えて2週間無料ということで登録しました. 試しにデータベースを動かしてみようと思い,http://www.futurism.ws/server/phpMyAdmin/sample001.html サイトのとおりにカウンターを置いてみたのですが, データベースには接続可能なのですが, while ($row = mysql_fetch_array($counterInt)) { $num = $row["countinc"]; } ここでデータベースに作成したテーブルから値を読みだすことができません... なので, echo ("<center>あなたは <b>$num</b> 番目のお客さまです。</center>"); の部分がいくらたっても更新されないのです… 原因は何が上げられるでしょうか, ご教授願えると幸いです.
javaでmysqlを使用しプログラム制作をしたいのですがプログラム制作ができる環境作りまでの方法が分かりません。 ※Javaとmysqlの環境は整っています。プログラム制作の環境が整う方法を教えてください。 宜しくお願いします。
Notice: Undefined offset: 0 in C:\Users\xxxxxxx\Desktop\xxxxxxx\wordpress\wp-content\plugins\auto-set-category\auto-set-category.php on line 35 wordpress4.4.1で以下のコードのプラグインを使用したら上記のエラーがでるようになってしまいました これはどのように改善したらいいのでしょうか？ <?php /* Plugin Name:Auto Set Category Plugin URI:http://milkveil.com/ Description:本文中にカテゴリーと同じ文字列があった場合、そのカテゴリーをセットするプラグイン。 Version:1.0 Author:taku-k Author URI:http://milkveil.com/ */ function auto_set_category ( $post_id ) { global $post; $new_post = get_post( $post_id ); $content = $new_post->post_content; /* ループ開始 全てのカテゴリーを１つ１つ調べる */ $cat_all = get_terms( "category", "fields=all&get=all" ); foreach($cat_all as $value): /* もし本文にカテゴリーと同じ文字列があれば（デフォのカテゴリーを外してから）カテゴリーを付ける */ if ( stripos( $content, $value->name ) !== false ) { wp_remove_object_terms( $post_id, 1, 'category' ); wp_add_object_terms( $post_id, $value->name, 'category' ); } /* もし本文にカテゴリーと同じ文字列が無い時はカテゴリーを外す */ else { wp_remove_object_terms( $post_id, $value->name, 'category' ); } endforeach; /* ループ終了 全てのカテゴリーを１つ１つ調べる */ /* もしカテゴリーが１つも無かったらエラーになるからデフォのカテゴリーを付ける */ $catcheck = get_the_category($post_id); if ( is_array($catcheck) && is_null($catcheck[0]) ) { wp_add_object_terms( $post_id, 1, 'category' ); } } add_action( 'save_post', 'auto_set_category' );
質問：Wordpressの検索条件について急募です。現在index.phpの下に「category_a.php」、「category_b.php」、「category_c.php」と複数のcategory.phpがあります。index.phpでは検索結果で全て出るのですが、「category_a.php」に入った状態で「b」に関する検索を出すと引っかかりません。 どのページからでも全ての検索条件にするにはどうしたらよいでしょうか？
空間データ SQLを使用して、ポイントからマルチポイントに変換したいのですが、どの関数でどういう構成文をかけばいいのでしょうか。
XAMPP 1.7.7 (PHP 5.3.8) を使っていますが、PHPからのMｙSQLコマンドでエラーとなります。MySQL接続には、mysql接続方式を利用していて、都合上PDOなどに変更できません。 現在動いている部分は、 $db = mysql_connect($server,$id,$password) or die('Error'); mysql_select_db($dbn,$db); mysql_query("SET NAMES utf8",$db); //クエリの文字コードを設定 ここまでで、 $rs = mysql_query("select* from t_table", $db); if( ! $rs ) die ( mysql_error() ); ここでエラーとなります。 php.ini などの設定変更は可能で、接続方法の部分を除けば、コード修正も可能なので、何か方法はありませんか？
Mysqlからデータを持ってきて格納したいのですが、今日一日調べて格闘していましたが、結局作れませんでした。テーブルに、カラム（項目（横の列のやつ））が30個ほど有り、縦にそのデータが入っています。 PHPでページを作っているのですが、IDカラムで検索をかけて一致したIDの横の列を全て配列に格納したいのです。 つまり、仮に 1 ああ いい うう ええ おお 2525 1212 2 いあ いい いう いえ いお 1414 4545 というMYSQLデータがあって（一番最初のカラムがID） 最初のIDで１に一致するやつを選んで $id = $_GET['id']; $result = mysql_query("SELECT * FROM `posts` WHERE `ID` = '$id' "); それからどうしたら良いかわかりません。 while($row = mysql_fetch_array($result)){ $menu[]=$row; } ではダメなようですし、ない頭絞っていろいろ試しましたがどうにもなりませんでした。 どなたか助けて下さい。 IDに応じていろんな情報をデータベースから引っ張ってきて、動的にサイトを作っちゃうワードプレスみたいなことをさせたいんです。
自分で作ったExcel2013のシートの形式にダウンロードしてきたCSVを自動で並び替える方法はありますか？例えば、Excel2013の列を、 名前|電話番号|都道府県|性別 ------------------------- 山田|44341123|神奈川県|男性 佐藤|56732381|鹿児島県|女性 という風にしていて、 CSVの列の並び順が 電話番号|性別|都道府県|名前 ------------------------- 12345678|男性|北海道 |鈴木 21213434|女性|東京都 |吉田 43929212|男性|福岡県 |佐川 だった場合に、佐藤さんの下に鈴木さんの情報、鈴木さんの下に吉田さんの情報、その下に佐川さんの情報というように列名を合わせて追加していきたいと思っています。 ご教示お願い致します。
みなさん教えて下さい。データウェアハウスを用いてデータマイニングを行うとき、例えば「大学生がバイトの給料日後に大型ショッピングセンターでショッピングする時に、よく一見関連のない2つの商品を購入するとする。さて、何と何を購入するか？」 なぜそれとそれにしたのか理由を教えて頂ければ幸いです。
vbaの速度向上について 以下のエクセルvba内で、「シート★」のＡ列（項目名：条件）にある値に該当するデータのみを、抽出するというSQLを書いているのですが、その速度を速めたいです。時間が掛かる部分は、SELECT句のところで、Ａ列の条件を参照するのが、上から一つ一つになるためと分かっています。。。 何とか速度を速めることはできないでしょうか？お知恵を貸してください。 ※Ａ列の条件が入力されている値の数（行数）は、変動します。 最小で50、最大で200となります。 ◆以下、VBA（一部）－－－－－－－－－－－－－－ Dim mySQL AS String Dim i n = Cells(Rows.Count, 1).End(xlUp).Row For i = 2 to n mySQL = "SELECT * FROM [シート★$] WHERE 条件 = Cells(n, 1) " ※この下に、上記SQLから別シートにデータを出力するSQLを記載 ーーーーーーーーーーーーーーーーーーーーーーーーーーーーーー 以上
MySQLについての質問です。 こんな感じのテーブルがあったとします。(かなり適当です) id---名前------数値---X----Y 1.----あああ----58----3----1 2.----ききき----78----4----2 3.----くくく----60----5----3 4.----けけけ----62----6----4 5.----こここ----87----7----5 この場合に数値60の+-5の範囲内にあるレコードのxとyを取得したい場合はどのようなSELECT文を書けばよいのでしょうか？ (この例の場合だと1,3,4のxとyのみを結果として出力したい) どうか宜しくお願い致します。
XAMPP（ver.5.6.8.0）を使っているのですが、２週間に１度くらいapacheが落ちます。 いったい何が起きたのか？原因解析ができず困っております。 画面にて、Apacheが落ちた旨のダイアログを閉じたら、復旧しました。 その時のApacheのエラーログが以下になります。 どなたか助けて下さい（＞＜） [Wed Nov 18 17:35:35.662928 2015] [mpm_winnt:notice] [pid 732:tid 392] AH00428: Parent: child process 3360 exited with status 3221225477 -- Restarting. [Wed Nov 18 17:35:39.569235 2015] [ssl:warn] [pid 732:tid 392] AH01909: www.example.com:443:0 server certificate does NOT include an ID which matches the server name [Wed Nov 18 17:35:40.538016 2015] [mpm_winnt:notice] [pid 732:tid 392] AH00455: Apache/2.4.12 (Win32) OpenSSL/1.0.1l PHP/5.6.8 configured -- resuming normal operations [Wed Nov 18 17:35:40.538016 2015] [mpm_winnt:notice] [pid 732:tid 392] AH00456: Apache Lounge VC11 Server built: Jan 28 2015 16:48:40 [Wed Nov 18 17:35:40.538016 2015] [core:notice] [pid 732:tid 392] AH00094: Command line: 'c:\\xampp\\apache\\bin\\httpd.exe -d C:/xampp/apache' [Wed Nov 18 17:35:40.616150 2015] [mpm_winnt:notice] [pid 732:tid 392] AH00418: Parent: Created child process 2404 [Wed Nov 18 17:35:41.084882 2015] [ssl:warn] [pid 2404:tid 400] AH01909: www.example.com:443:0 server certificate does NOT include an ID which matches the server name [Wed Nov 18 17:35:41.163006 2015] [ssl:warn] [pid 2404:tid 400] AH01909: www.example.com:443:0 server certificate does NOT include an ID which matches the server name [Wed Nov 18 17:35:41.256848 2015] [mpm_winnt:notice] [pid 2404:tid 400] AH00354: Child: Starting 150 worker threads. [Wed Nov 18 17:35:41.272386 2015] [mpm_winnt:error] [pid 2404:tid 3024] AH00326: Server ran out of threads to serve requests. Consider raising the ThreadsPerChild setting
MySQLの検索の高速化方法について お世話になります。 MySQLで２つのテーブルを結合し検索を行ったところ、私のPCで検索結果が得られるまで136秒もかかってしまい、非常に困っています。これを1～2秒程度に納めたいのですが、どこを改善していいのかご教示いただけないでしょうか。 検索でやりたいことは、 検索キーと一致するNAMEを検索し、これに対応するFILE_IDに対応づけられているすべてのCLASSとNAMEの組み合わせを検索し、 得られたCLASSとNAMEの組み合わせの検索数をその組み合わせごとに集計し、 検索数の多い順に、CLASSとNAMEの組み合わせを出力する、 というものです。 例えば、結合テーブルが次のような場合に検索キーを与えたときは、次のような結果を得るものです。 FILE_ID GOODS_ID CLASS NAME 1 1 1 商品A 1 2 1 商品B 2 1 1 商品A 2 2 1 商品B 2 3 2 商品C 3 1 1 商品A 3 3 2 商品C 検索キー「商品A」の場合の検索結果： CLASS NAME NUMBER 1 商品A 3 1 商品B 2 2 商品C 2 検索キー「商品B」の場合の検索結果： CLASS NAME NUMBER 1 商品A 2 1 商品B 2 1 商品C 1 検索キー「商品C」の場合の検索結果： CLASS NAME NUMBER 1 商品A 2 1 商品C 2 1 商品B 1 （１）RELATION_GOODSテーブルの構造 CREATE TABLE IF NOT EXISTS RELATION_GOODS( FILE_ID INT NOT NULL, GOODS_ID INT NOT NULL, PRIMARY KEY(FILE_ID, GOODS_ID), INDEX FILE_ID(FILE_ID) USING BTREE, INDEX GOODS_ID(GOODS_ID) USING BTREE) （２）GOODSのテーブルの構造 CREATE TABLE IF NOT EXISTS GOODS( GOODS_ID INT NOT NULL, CLASS INT NOT NULL, NAME VARCHAR(1000) NOT NULL, PRIMARY KEY(GOODS_ID), INDEX CLASS_GOODS(CLASS, NAME(255)) USING BTREE, INDEX GOODS(NAME(255)) USING BTREE, INDEX CLASS(CLASS) USING BTREE) （３）検索式 SELECT B.CLASS, B.NAME, COUNT(*) AS NUMBER FROM RELATION_GOODS AS A INNER JOIN GOODS AS B ON(A.GOODS_ID = B.GOODS_ID) WHERE A.FILE_ID IN( SELECT A.FILE_ID FROM RELATION_GOODS AS A INNER JOIN GOODS AS B ON(A.GOODS_ID = B.GOODS_ID) WHERE B.NAME LIKE 'DVD' ) GROUP BY B.CLASS, B.NAME ORDER BY NUMBER DESC （４）諸情報 テーブル名 レコード数 データ型 照合順序 サイズ オーバーヘッド GOODS 612,750 InnoDB utf8_general_ci 69.6 MiB -- RELATION_GOODS 12,352,490 InnoDB utf8_general_ci 485 MiB -- バージョン： MySQL5.6.24 （３）の実行時間：Showing rows 0 - 24 (30181 total, Query took 136.2325 seconds.)
mysqlに関する質問です。contentsというテーブルのcreated(datetime)というカラムがあり、 createdが昨日のものの場合1と返し、それ以外の場合は0と返すsqlはどのように書けば実現できますでしょうか。 詳しい方、ご教示ください。よろしくお願いいたします。
sqlの質問です。テーブル1とテーブル2の内部結合に関して テーブル１ user_id login 105 10:00:00 105 11:10:00 106 13:00:00 テーブル2 user_id payment 105 1000 105 2000 105 3000 106 1000 107 500 これらのものをuser_idで結合した場合どのようなテーブルが返ってくるのでしょうか？
【slimstatに係るエラーについて】 お世話になっております。 現在運用中のワードプレスにおいて、wp_slimstatなるプラグインを使用中です。これが最近になってログを取らなくなりました。そこで、当該プラグインのメンテナンスタブにおいてSQLデバッグボタンを押すと、下記メッセージが表示されました。 そこからいろいろ調べたのですが、mysqlについては初心者ということもあり、万策尽きました。 そこでもし解決法をご存知のかたがいらっしゃればと思い、投稿させて頂いた次第です。 何卒よろしくお願い致します。 (デバッグの内容) SELECT * FROM wp_slim_stats WHERE 1=1 AND dt BETWEEN 1451606400 AND 1451904965 ORDER BY dt DESC LIMIT 0, 1000
MySQLを学ぶためにLinux(Lubuntuを使っています)にインストールしてMySQLサービスを起動したら、次のメッセージが出てエラーになります。 ↓ ディレクトリがありません。HOME= / としてログインします。..................[info]MySQL Community Server 5.7.10 did not start. Please Check logs for more details. connect to server at ' localhost' failed error: Can't connect to local MySQL server through socket ' /var/run/mysqld/mysqld.sock (2) ' Check that mysqld is running and that the socket : ' /var/run/mysqld/mysqld.sock ' exists! です。 どういう事をすれば良いのか途方に暮れています。 どなたか知識と経験のある方、アドバイスを頂けませんでしょうか？ 素人質問で申し訳ないのですが、ディレクトリがありません。というエラーの意味、(インストールしただけでは足りないのか？なんのディレクトリなのか？) もわかりません。 何卒、宜しくお願い致します。！
mysqlについて updateをselectの結果を用いて行いたいのですがやり方がわかりません 具体的にいうとSELECT se_id FROM ticket WHERE price is NULL →ticketテーブルの中のpriceがNULLのse_id SELECT se_id FROM seat WHERE se_name = "内野S" →seatテーブルの中のse_nameが「内野S」のse_id この二つのSELECT文を用いて、 ticketテーブルの中のpriceがNULLのse_idを seatテーブルの中のse_nameが「内野S」のse_idに アップデートしたいのです。 どのようにupdate文を書けばいいでしょうか
MySQLについてです。 次のようなテーブルが有るとします。tdaytime datetime NOT NULL COMMENT '取引日時', oprice decimal(7,4) NOT NULL COMMENT '始値', hprice decimal(7,4) NOT NULL COMMENT '高値', lprice decimal(7,4) NOT NULL COMMENT '安値', cprice decimal(7,4) NOT NULL COMMENT '終値', volume decimal(10,0) NOT NULL COMMENT '出来高', テーブルの先頭からデータを取り出しながら、取引日時にセットされている シカゴ時間のデータを日本時間に変換して取り出す、ということは容易なのでしょうか。 夏時間か冬時間かを自分で判断し、14時間足したり15時間足して 取り出すしか無いのでしょうか。 ご存じの方教えてください！
Apacheについて教えてください。 データベースについて勉強するため、入門書を買いました。指示にしたがって、windowsの入ったパソコンにxamppをインストールすることで、phpとmyspl、Apache等のソフトウェアをインストールしたいと思っています。 その中で、特にapacheの事がよくわからないのです。Webサーバソフトウェアの一つとのことですが、webサーバーというと、データをweb上に公開するためのものですよね？自分のパソコンにインストールしてしまうと、自分のパソコンの中身が、WEBに公開されたりするのでしょうか？ またインストールしても、webサーバー専用pcとはならず、これまで通り、ワードやエクセルなどを使うパソコンとして、使用できるのですよね？
mysql create server mysql create server ABCSERVER ~以下省略mysql のcreate server で ABCSERVER という サーバーの名前を作成して、 その作成したサーバー名を確認したい場合のコマンド が分かりません。 データベースを確認した場合だと show databases; テーブルを確認した場合だと show tables; みたいな感じで 作成したサーバーの名前を調べたです。 どなかた、ご存知の方知りませんか？？
mysqlを使ってホームページを作成したいのですが、どうしたらいいのですか？phpとmysqlを勉強して、数週間ですが質問させてください。 現在、価格.comのようなサイトを作ろうと考えており、基礎からのphpと基礎からのmysqlを買って読み込んでいますが、困ってます。 自分の作ろうと目指している物は 商品のテンプレを作成(名前、価格等は空白) ↓ 各商品の情報（名前、価格、買える場所等）をmysqlで作成 ↓ 仮に商品Aのリンクを踏んだ時に、Aの名前、価格、場所等のデータを取得し、その結果を商品のテンプレに出力する です そこで、質問です。 1．上記のサイトを作成したい場合には、phpとmysqlだけの学習（html,css,は除く）でいいのか？ 2．上記のようなサイトの作成方法を調べたい場合、なんて検索すればいいのか？ 『データベース ホームページ』や「mysql php ホームページ」などのワード検索しても、知りたい情報が手に入りませんでした。 文章が長くなりましたが、お付き合いして頂ければありがたいです。 よろしくお願いします。
macOSXでMySQLを動かしたく、サイトで調べていたら、MAMPというものを使ったほうがいいと書いてあったので設定していたのですが、うまくいかず調べていたところ、MAMPはべつに使わなくてもいいとのことだったので、ゴミ箱に入れましたが、MySQLが下のエラーになりました。 いろいろいじってみてもうまくいかず。 ターミナルを初期化してみてもうまくいかず、MySQLを初期化することは調べてみてもうまく見つからなく。 手詰まりです。 素人なので、細かく説明していただけるとありがたいです。 ↓エラー内容 ＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝ ERROR 2002 (HY000): Can't connect to local MySQL server through socket '/Applications/MAMP/tmp/mysql/mysql.sock' (2) logout [プロセスが完了しました] ＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝
word press のバックアップVaultPressについてです。 クレジットの情報の入力は完了して、登録キーも メールで返信がありました。ただ、登録キー入力画面にどうしても 進めません。どのようにすればよいでしょう 尚、VaultPressはインストールされています。 どうも手持ちの書籍によればVaultPressの状態を確認する画面になっているようです 初心者のため平易に解説頂ければ助かります
複数のワードプレスを簡単に自動でバックアップする方法はありますか？10個ほどのワードブログを運営しています。 更新頻度はまちまちですが、結構な頻度で更新しています。 毎日手動でバックアップするのは非常に面倒です。 そこで、自動でバックアップデータをftpなどに保存してくれる方法を探しています。 BackWPupというプラグインが良いと聞いたのですが、15個いちいちインストールするのは大変だし、プラグインを入れれば入れるほど、メモリの消費量が増えたり、競合があるかもしれないと聞きました。 何か良い案がありましたらお願いいたします。
OpenPNE3.8.14の設定を手探りでしています。 プロフィール項目登録にて項目名と説明の入力欄が何をしても表示されません。手嶋屋ブログのSNSの設定の記事にある並び順の変更などもできません。 なにか書き換えなければならない部分などがあるのでしょうか？ 回答よろしくお願いいたします。 利用サーバーはさくらインターネットです
MySQLからODBC接続でAccessのテーブルに、(コーディング的に）楽にインポートをしたいです。Access2013 Runtime。以下の希望に合う、VBAのコードをお示しいただければ幸いです。よろしくお願いします。 --- MySQLでは集約関数を使います。 strSQL = "select count(*) as c_jisseki,shohincd,shopcd from jisseki group by shohincd, shopcd;" 運用するPCに、ODBCドライバーはインストールしますが、DSNは作成しません。ODBC接続文字列(パスワード含む)は、Access VBAのコード中に保存します。Accdeにすることで、VBAのコードが保護されることを期待します。 strCon = "ODBC; Driver={MySQL ODBC 5.3 Unicode Driver};Server=<接続先サーバ>;...(略)...;Pwd=<パスワード>" Accessのテーブルはあらかじめ、型とフィールド名を合わせて作成済みです。 create table t_result (c_jisseki int,shohincd int, shopcd int); rs.AddNewをして１カラムずつ代入しrs.Update を行数ぶん繰り返すのではなく、インポート元のレコードセットと、インポート先のテーブルt_resultを指定するだけで、インポートが完了することを期待します。 この質問は、以下の質問からの派生です。 http://detail.chiebukuro.yahoo.co.jp/qa/question_detail/q1415503717...
SQLのおすすめ教科書 PHPを使って掲示板を作ってみたいので、MySQLとSQL文について勉強をしてみようと思ってます。 おすすめの教科書はありますか？ よくわからないのですが、集約関数ってのについても学べる奴がいいです。 僕的に「基礎からのMySQL 改訂版」 がいいのかなって思ってます。
leftjoinで上手く表示できません。 joinする前は表示するのですが、leftjoinすると表示されなくて困っています。 プレースホルダーを使ってないから表示されてないんだと思います。ご教授ください。 ■■■■■■■ コード ■■■■■■■■ $st = $pdo->prepare("SELECT * FROM cast left JOIN cast_add ON cast.id = cast_add.id"); $st->execute(array($id)); while ($row = $st->fetch()) { $detail_name = htmlspecialchars($row['detail_name']); $height = htmlspecialchars($row['height']); } } catch (PDOException $e) { // 例外が発生した場合はここでキャッチしてエラーメッセージを取得する $error = $e->getMessage(); echo $error; } <head> 省略</head> <body> <?= $height; ?> <?=$detail_name; ?></body> ■■■■■■■■■■■■■ $st = $pdo->prepare("SELECT * FROM cast left JOIN cast_add ON cast.id = cast_add.id"); ここの部分を $st = $pdo->prepare("SELECT * FROM cast WHERE id=?"); こちらに変えるとちゃんと表示されます。
MySQLを学ぶことのメリット 自分で掲示板を作ってみたいので、MySQLを本とか読んで学んでみようと思っています。 でも僕は大学生なので、MySQLとかよりはjavaとかのプログラミングを勉強すべきなのかなとも思います。 MySQLを理解していることって就活にどれ程のメリットがあるんでしょうか？ 新人ってプログラミングばっかりで、サーバーとかそういう話は上の人がやるっていう印象です。(あくまで現場を知らない学生の勝手な印象です。) やっぱ自分で掲示板をアップロードとかしないで、プログラミングの勉強しとくべきなんですかね？
プログミング歴一年未満の者です。 本題ですが、 現在わたしはjavaでcsvを読み込み、それをデータベースにインサートする機能を作成しております。 csvで読み込むにあたり、CLをcallして読み込むようにと指示がありました。 csvを読み込むのであればCLを使わなくともできそうな気もするので、なぜCLをcallするのかがいまいちわかりません。 理由がわかる方、または考えられるケースが浮かぶ方、お教え願えませんか？
会員ポイントサイトの保有ポイントの表示について 保有ポイントについて表示する場合、会員テーブルに保有ポイントカラムとして持ったものを表示すべきなのでしょうか。それとも、ポイントの出入りの合計として表示するべきなのでしょうか？ 以上です。アドバイスよろしくお願いします。
MySQLの集計の仕方が分かりません。 約150万レコードあるテーブル test の中で、2つのカラム id, user と type があります。インデックスは (id, user) の複合インデックスです。type は整数の 0, 1, 2 のいずれかが入ります。 このとき、typeが0になっているidのうち、最も多い順からランキングを作りたいと思い、 SELECT id, COUNT(*) AS count FROM test WHERE type=0 GROUP BY id ORDER BY count DESC という文を実行したところ、0.5秒とかなり遅い結果になってしまいました(とても頻繁に見られるページに掲載したいため、この処理時間では実用になりません)。 一方で、 SELECT id, COUNT(*) AS count FROM test WHERE type=0 GROUP BY id 自体は0.0004秒で終了します。ユニークなidの数はおおよそ70000個程度です。 COUNTの数自体でソートしたい場合はこの結果を受け入れるしかないのでしょうか。 あるいは、もっと早くできる書き方が存在するのかを知りたいです。 なお当方レンタルサーバーのため、MySQL自体の設定を変更することはできません。
【PHP】見積もりサイトのようなものを作りたい例としてこちら→ http://www.pc-koubou.jp/pc/php/customize_main.php?btoid=1186543こんなに色々な情報は入れませんが 簡単にカテゴリーごとに選択肢があってそれを選択したものが 最終的に対応した画像で表示 みたいにしたいのですが まだPHP習いたてでいまいち制作の手順が分かっていません このような見積もりサイトを場合は会員登録みたいな感じで 入力（選択）された値をほかの「○○.php」に飛ばしてそこで それに対応した画像でまとめて表示 のような流れでよろしいのでしょうか？ また、データベースを使った方がいいですか？ お手数ではありますが 軽くでいいので「こんな感じ」みたいなソースや詳しく乗ってるサイトなど を教えて下さると助かります。 よろしくお願いします。
さくらのスタンダードプランはMySQLが使えて2週間無料ということで登録しました. さくらのスタンダードプランはMySQLが使えて2週間無料ということで登録しました.MySQLの勉強をしようと思い, 以下のサイトのソースコードの動作を確かめました.http://utility.sakura.ne.jp/mw/technical_content_pages/php0004.html しかし, データベース自体への接続はでき, 「接続成功 db選択成功」 と表示されるのですが, 自分自身の作成したテーブル(テーブル名：data)へは接続できず 「SQL失敗」 と表示されてしまいます... 全て正しい情報を入力していることを確認したのですが原因が特定できずに困っています… 問題解決方法をご教授願えると幸いです.
現在PHPによるログイン機能を作成していますが、問題点として一回目にログインしたときにクッキーに値が入りません。どうしてでしょうか？（二回目以降はログイン時にクッキーの値を保持できます。） 以下ソース↓ /************************************************************/ ＜login.php＞ <?php ini_set('default_charset', 'Shift_JIS'); define('Charset', 'Shift_JIS'); $err=""; if(!empty($_POST['id']) && !empty($_POST['pass'])){ $con = new mysqli('mysql.hostinger.jp', 'u857383969_yuto', 'taku1113', 'u857383969_akutu'); //DBのオープンに成功したかの検査 if ($con->connect_error) { die('データベースへ接続できませんでした。'); } //文字コードの設定 if (!$con->set_charset('sjis')) { die('データーベースへの文字コードのセットに失敗しました。'); } $stmt = $con->prepare('select name1, name2 from kanja where kanjaid = ? and pass = ?'); $stmt->bind_param('ii', $_POST['id'], $_POST['pass']);//入力した値を実体化 $stmt->execute(); $stmt->bind_result($name,$name2); if($stmt->fetch()){ $name = $name . $name2; setcookie('id_cookie', $_POST['id'],time() + 60 * 60 * 24); setcookie('name_cookie', $name,time() + 60 * 60 * 24); header('Location: http://localhost/web/mypage.php');//サーバー利用時はURL変更 exit; } else { $err = "IDもしくはPASSが間違っています。"; } } elseif(isset($_POST['id']) || isset($_POST['pass'])) {//関数宣言の確認 $err = "IDもしくはパスワードが入力されてません。"; } ?> /************************************************************/ ＜mypage.php＞ <?php $id=$_COOKIE['name_cookie']; $id2=$_COOKIE['id_cookie']; var_dump($id); var_dump($id2); ?> （↑$idと$id2に値が入りません） /************************************************************/
ec-cubeの受注管理でcsv出力する際に、通常の設定項目だけでなく商品名と商品IDも出力する方法がわかりません。ttp://xoops.ec-cube.net/modules/newbb/viewtopic.php?topic_id=8508&forum=11 こちらの方法で高度なcsv設定を試してはみたのですが、書き出した際に中身が空になっています。おそらく注文を受けた受注データが紐付けされていないのが原因だと思うのですが、プログラム等の知識がないため、どのような設定を実際にすればいいのかわからない状態です。 ご教授お願いいたします。
グループごとに数値の平均を計算してUPDATEしたい。 MySQL5.6です。 グループと数値が設定されています。 それに対してグループごとの平均数値を計算してUPDATEしたいです。NO｜グループ｜数値｜平均数値 1_｜1＿＿＿_｜10＿｜ 2_｜1＿＿＿_｜20＿｜ 3_｜1＿＿＿_｜30＿｜ 4_｜2＿＿＿_｜40＿｜ 5_｜2＿＿＿_｜60＿｜ 6_｜3＿＿＿_｜10＿｜ 7_｜3＿＿＿_｜20＿｜ 8_｜3＿＿＿_｜30＿｜ 9_｜3＿＿＿_｜40＿｜ というテーブルがあったときに、以下のように平均数値をUPDATEしたいです。 NO｜グループ｜数値｜平均数値 1_｜1＿＿＿_｜10＿｜20 2_｜1＿＿＿_｜20＿｜20 3_｜1＿＿＿_｜30＿｜20 4_｜2＿＿＿_｜40＿｜50 5_｜2＿＿＿_｜60＿｜50 6_｜3＿＿＿_｜10＿｜25 7_｜3＿＿＿_｜20＿｜25 8_｜3＿＿＿_｜30＿｜25 9_｜3＿＿＿_｜40＿｜25 このデータは他のシステムで使用しますので、変なデータの持ち方です。 SELECTは分かるのですが、UPDATEが構文エラーばかり出てうまくいきません。 よろしくお願いします。
SQLサーバーについて データ型のcharとncharの違いってなんですか？
SQLサーバーマネージメントスタジオについてSampleテーブルの2行目(番号)のデータ「0132418」をWHEREで絞り込んで1つのレコードを消す方法がありますが、ちょっとわからないことがあります。 番号 １ 1132418 ２ 0132418 -------------------------------------------------------- SQL文 -------------------------------------------------------- /* パターン１ */ DELETE FROM Sample WHERE 番号 = 132418 ; /* パターン２ */ DELETE FROM Sample WHERE 番号 = 0132418 ; /* パターン３ */ DELETE FROM Sample WHERE 番号 = 32418 ; -------------------------------------------------------- パターン３の場合は消えません、その訳がわかりますか？ 仕様なのか、何か意味があるのか教えてください。
PostgreSQLについてお知恵をお貸しいただけないでしょうか。 customerというテーブルに購入者ID、購入日時、購入商品名が入っています。このテーブルのデータを使って下記のようなデータを出したいと思っています。 ━━━━━━━━━━━━ 購入者IDと、その購入者が初回に購入した商品名。 また、その購入者が二回目、三回目、四回目・・・・十回目に購入した商品名。 ━━━━━━━━━━━━ 最終的にはこのデータを使って下記のようなグラフを描画しようと思っています。 ━━━━━━━━━━━━ ◆縦軸：購入者数 ◆横軸：何度目の購入だったか（例：初回、二回目、三回目、四回目・・・・十回目） ※最大十回まで ◆棒グラフ：商品名 ━━━━━━━━━━━━ このグラフを見て、「初回は◯◯が良く売れるが、3回目くらいからは△△が良く売れるようになる」 といったデータを確認したいです。 BIツールを使ってビジュアル化しようと思うので、SQLでは下記の要素を抽出したいです。 ・購入者ID ・購入商品名 ・購入番号（first,second,third...tenth） この、購入番号をどうやって出せばよいかわからず困っております。 どのようにクエリを書けばよいでしょうか？ 何卒よろしくお願いします。
MySQLで各テーブルの1レコードの最大バイト数はどうやってもとめればいいでしょうか。 例えば、「テスト」というテーブルのフィールドが、カラム1(varchar(20)),カラム2(char(5)),カラム3(text),カラム4(bigint(24))だとした場合1レコードに格納できるデータの最大バイト数を求めるにはどんなsql文をかけばいいんでしょうか。sql文でなくてもPHPMyAdminで確認する方法とかありますか？ 調べても調べ方が悪いのか方法が見つかりませんでした…もしご存知の方いらっしゃいましたら教えていただけないでしょうか。
PHPに関する質問です。 内容は特にシンプルで添付した画像をみていただければわかるのですが 表示されているプログラムを次のように間隔をあけた状態で表示したいのです。1 1 2015-12-11 20 2 2 2015-12-14 40 3 3 2015-11-16 90 4 5 2015-12-16 70 そしてその問題のプログラムがこちらです <?php //================================================================= // ■: 7-4 クラスでのMySQLへ接続 - データベースの選択 - データの表示 //================================================================= //------------------------------------------ // ■ MySQLクラスファイルの取り込み //------------------------------------------ require_once("mysql_c1.php"); ?> <html> <head> <meta http-equiv="Content-type" content="text/html; charset=euc-jp"> <title>7-4 MySQLクラスでデータの表示</title> </head> <body> <?php //------------------------------------------- // □： MySQLクラスを使って表示 //------------------------------------------- $mysql = new MySQL_c1; $sql ="SELECT * FROM c1"; $mysql->query($sql); while($row = $mysql->fetch()) { echo $row["k_no"] ; echo $row["k_sho"] ; echo $row["k_days"]; echo $row["k_suu"]; echo "<br>"; } ?> </body> </html>
xamppでローカルホストをつかっているのですが、数日前から「Admin」のボタンを押して「localhost」にアクセスしても、 Not Found--------------------------------------------- HTTP Error 404. The requested resource is not found. と表示され、進まないのです。 元々、「wordpress」を使うのが目的で、ネットの情報で四苦八苦した末に、何とか使えたという感じなのでアンインストールとヴァージョンの変更程度の対処しかできません。 そのどちらも、上述エラーを出して自分ではお手上げです。 一体何が原因で、どういう風に対処すれば良いのでしょうか?
OS X上でのMySQLのエラー(plugin is not loaded)について現在OS X 10.10(Yosemite)でmysql 5.7.10を.pkgからインストールしているのですが、mysql -u rootで接続しようとすると先ほどから ERROR 1524 (HY000): Plugin '*2470C0C06DEE42FD1618BB99005ADCA2EC9D1E19' is not loaded というエラーがでてくるようになりました。 homebrewからインストールしたmysqlも同様のエラーが突如発生してきたので、brewのほうは綺麗にアンインストールし、現在はパッケージからインストールしたもののみになります。 mysqlとだけ打つと正常に接続できるので、おそらくユーザーの何かかと思われるのですが。。 どうしたらいいんでしょうか・・・・
phpmyadminを使ってMySQLの勉強をしています。参考書(基礎からのMySQL)を読みながらphpmyadminの「SQL」ボタンを押してSQL文を入力し実行していろいろ試しているのですが、トランザクションがうまくいきません。 まず「start transaction;」を入力し実行ボタンを押すと「返り値が空でした 」と表示されます。背景が黄緑色なのでエラーではないと思います。次に「SQL」ボタンを押し、 「delete from tb where bang='test';」 と入力しbang='test'の行を削除しようとします。 「表示」ボタンを押すと「1 行削除しました。」という結果が表示されます。 次にまた「SQL」ボタンを押し、 「rollback;」 と入力し実行ボタンを押すと、「返り値が空でした 」と表示されます。これも背景が黄緑なのでエラーではないと思います。その結果、先ほど削除したはずのbang='test'の行は消えてなくて元のまま、というのがトランザクションだと思うのですが、実際「rollback;」を実行して、「表示」ボタンを押してみると、やっぱりbang='test'の行は消えています。 本の通りやっていると思うのですが、何か勘違いしているでしょうか？どうすればトランザクションができるでしょうか？ 本では「MySQLモニタ」というプログラムでMySQLを操作する、と書いているのですが、 MySQLモニタでやってないからダメなんでしょうか？
SQLサーバーマネージメントスタジオでchar型の列でデータをID項目に0001とデータを追加したのですが 実行して見た際に以下の画像のように「000」が表示されておらず「1」となっておりますなぜ「0001」と表示されないのでしょうか？ 教えてください、また解決策をお教えください
MySQLで一部の文字列だけを一括して変更したいのですが可能でしょうか？例えばNameというカラムの中の『田中』という文字列を検索して『中田』にしたいのですが そのNameの中には色んな名前がカンマ区切りで入っていて、『田中』だけを全て変更したいです。 ID | Name 1 | 山田,田中,大田,阿部 2 | 後藤,佐藤,田中 これを↓のように一括で変更したい。 ID | Name 1 | 山田,中田,大田,阿部 2 | 後藤,佐藤,中田 このような場合どのような構文を 宜しくお願い致します。
SQLサーバーマネージメントスタジオについて質問です 外部キー【テーブルB】 と 主キー【テーブルA】 をつなぎ合わせる為には どうしたらよろしいのでしょうか？例えば 【テーブルA】 ID 名前 荷物コード(外部キー) ０１ 太郎 ０００１ ０２ 花子 ０００２ (テーブルB) 荷物コード(主キー) 荷物名 ０００１ ドライバー ０００２ ハンマー このようにしたい場合どうしたらよろしいのでしょうか？ 教えてください
MySQLやOracleなどのデータベースはファイルのようにドラッグアンドドロップで簡単に移動できないのは何故でしょうか？常識として知っているのですが、言われると何故か答えられませんでした。 データ部分が実ファイルとして保存されているのは知っていますが、それを移動するだけじゃデータベースを移行したことにはなりませんよね。 具体的に理由がわかる方、教えていただけると嬉しいです。
検索結果を8件ごとページング処理をしたいのですが、2ページ目の内容が表示されません。例えば10件の検索結果があるとして、1ページ目には1～8が表示されますが、2ページ目は残りの二件が消えてしまってます。 var_dump ($stmt);で確認すると、 1ページ目 object(PDOStatement)#2 (1) { ["queryString"]=> string(48) "SELECT * FROM sample_01 WHERE area = 1 LIMIT 0,8" } 2ページ目 object(PDOStatement)#2 (1) { ["queryString"]=> string(48) "SELECT * FROM sample_01 WHERE area = 0 LIMIT 8,8" } になっていました。"検索条件を満たす物件は見当たりません。"も表示されてしまいます。 2ページ目のリミットを9,16、3ページ目を17,24に自動で出来るようにしたいのですが、2日格闘しましたが自力ではどうにもならず知恵袋に泣きついております（涙） PHP、mysqlにお詳しい方、どうか助けて下さい。 以下現在のソースです。問題点、解決策等ご教示下さいませ。 <?php function h($str){ return htmlspecialchars($str,ENT_QUOTES,"UTF-8");} require_once 'db.php'; if(preg_match('/^[1-9][0-9]*$/', $_GET['page'])){ $page = (int)$_GET['page']; }else{$page = 1;} $area = (int)$_POST['area']; error_reporting(E_ALL & ~E_NOTICE); try{ $pdo = new PDO($dsn, $user, $pass); } catch (PDOException $e) { echo "接続エラー: " . $e->getMessage(); exit; } $pageCount = 8; $offset = $pageCount * ($page-1); $total = $pdo->query("SELECT COUNT(*) FROM sample_01 WHERE area = $area")->fetchColumn(); $totalPage = ceil($total / $pageCount); $stmt = $pdo->query("SELECT * FROM sample_01 WHERE area = $area LIMIT ".$offset.",".$pageCount); $property = $stmt->fetchAll(PDO::FETCH_ASSOC); var_dump ($stmt); ?> <div id="wrapper"> <div id="contents"> <p>検索結果</p> <?php if($total == 0):?> <p>検索条件を満たす物件は見当たりません。</p> <?php else: ?> <?php echo $total. "件見つかりました。"; echo '<ul class="property_list">'; foreach($property as $row){ echo "<p>".$row['title']."</p>\n"; echo "<p>".$row['area']."</p>\n";} ?> </ul> <?php endif; ?> <ul class="pager"> <?php if($total>$pageCount): ?> <?php for ($i = 1; $i <= $totalPage; $i++) : ?> <?php if($page ==$i): ?> <a href="?page=<?php echo $i; ?>" class="active"><li><?php echo $i; ?></li></a> <?php else: ?> <a href="?page=<?php echo $i; ?>"><li><?php echo $i; ?></li></a> <?php endif; ?> <?php endfor; ?> <?php endif; ?> </ul> <div> <a href="list.php">全件に戻る</a> </div> </div></div>
貴女のsqlは何を持っていますか？
phpmyadminでやるよりmysqlコマンドでやったほうが 業務スピードは早くなるのでしょうか?
PHPとMySQL、2つのカテゴリが選択できるようなので2箇所に質問いたします。 HP作成初心者です、宜しくお願いいたします。月別選択をしたときに400文字ほどの文章を出したくブルダウンメニューで下記のように作成しました。 例えば12月を選択した場合、下記のような内容をトップページにもってきたいのです。 「12月 これから乾燥肌のは辛い時期・・・どうしても乾燥するようならまたワセリンを使用する予定です」 ※こちらの文章は短めです。 ============================================================================= <form method="post" action="***.php"> <select name="select"> <option>選択してください</option> <option value="2015年5月">2015年5月</option> <option value="2015年6月">2015年6月</option> <option value="2015年7月">2015年7月</option> <option value="2015年8月">2015年8月</option> <option value="2015年9月">2015年9月</option> <option value="2015年10月">2015年10月</option> <option value="2015年11月">2015年11月</option> <option value="2015年12月">2015年12月</option> </select> <input type="submit" name="Submit" value="選択"> </form> ============================================================================= ここから質問です。 ブルダウンメニューは作成しましたが、400文字の文章をトップに表示するために、何に保存し、どのように取り出したら良いのでしょうか?、よくわかりません。 何冊かの本を購入したのですが、ブルダウンメニューにて都道府県を選ぶ操作方法は記載ありますが、上記のような方法は記載ありませんでした・・・。 (PHP・mysqlなど勉強中です。何で作成したら良いのかよく分かりません) ご教授いただけますと助かります。
【MySQL】PHPでソートの際の最初の画面【並び替え】 最後に一番最初に○○.phpに接続したときに 最初はid昇順で標示されていてソートのボタンをクリックしたら並び変わるようにしたいのですが このようなときはif文やswitch文を使うのでしょうか？ 現在は○○.phpに最初にアクセスすると何も表示されない状態となってしまっています。 // SQLを送信する $sql = "SELECT * FROM {$db} ORDER BY id"; $sql = "SELECT * FROM {$db} ORDER BY {$id} {$order}"; $sql = "SELECT * FROM {$db} ORDER BY {$sort} {$order}"; $res = mysql_query($sql,$link); $result = mysql_query($sql, $link) or die("クエリの送信に失敗しました！<br />SQL:".$sql); 今はこんな感じでただ書いているのですが なんでダメかはだいたいわかっているのですが どのように改善したらいいかわかりません！ localhost内だけでやっているのでとりあえず SQLインジェクションなどの脅威を考慮していただかなくて大丈夫です よろしくお願いします。 jammer_of_loveさん何回も申し訳ありません
MYSQLのORDER BY についての質問です。 テーブル項目として「商品コード」、「個数」があります。 一覧表示で商品コード順で表示をさせますが個数が0個のレコードは一覧の最後に表示させたい。このときのOrderByの記述方法がわかりません。 宜しくお願いします。 - 例）商品コード順で表示する。但し、個数が０個のレコードは最後に表示する。 商品コード01、個数100 商品コード03、個数200 商品コード04、個数100 商品コード02、個数0 商品コード05、個数0
MySQL で TIMESTAMP 型のデータに対して時間帯で括る条件を指定して集計データを取り出したいときはどのようなSELECT文をかけば宜しい？例えば、テーブルが 2015-12-10 01:10:23 任意のデータ 2015-12-14 20:51:12 任意のデータ 2015-12-14 23:24:56 任意のデータ 2015-12-14 23:28:00 任意のデータ 2016-01-04 08:40:03 任意のデータ とした場合、 2015-12-14のデータを、１時間毎に集計した件数を取得したい。 結果として、 2015-12-14 20:50分代のデータは１件 2015-12-14 23:20分代のデータは２件 が欲しい。 できれば、列方向に24時間分が並んだほうがいいけど、多分理解するのに１ランク上がってしまうので、とりあえず今回は行方向で取得できればいい。 独学でホームページ作る様になって、PHPを勉強して、MySQLも覚えて、簡単なSQL文は書けるようになって、１ランクステップアップしようと思って、実際にあり得るだろう集計的なデータの取得を考えてみたら、まったくどうやっていいか分かりませんです。 テーブルにどんどんデータが書き込まれて、それをどんな時間帯での書き込みが多いか？みたいなのをSQL文で取り出す事を想定してみました。 よろしくです。
勤怠のデータをSQLでセレクトしたいのですが、 出力結果として出勤と退勤を日付ごとにグループ化して出したいのですが、うまくいきません。現在ではidと名前でグループ化しているので、出勤と退勤ごとワンセットでなく名前ごとになってしまっています。 SQLで不可能であるならば、javaでどうにかしたいのですが、おたすけください。 テーブル項目が 4つあり、 date（日付）, name（名前）, id（ID）, act(出勤in、退出out)になります。 SELECT r_in.id, r_in.name, r_in.in, r_out.out FROM (SELECT id, name, max(date) As in FROM kintai where act = 'in' GROUP BY id,name ORDER BY id ) r_in JOIN (SELECT id, name, min(date) As out FROM kintai where act = 'out' GROUP BY id,name ORDER BY id ) r_out ON r_in.id = r_out.id;
【MySQL】PHPでデータベースをソートする方法について・・・【並び替え】 流れとしてはもともと「id」の昇順で表示されているものをブラウザ上のボタンをクリックすると価格の昇順にソートされ ブラウザ上の表示を変えられるようにしたいのですが 「ORDER BY」を使うにしてもそのボタンにどのように仕組んだらいいのか 分かりません。 //-------------------------------------------------------------------------- <?php $url = "localhost"; $user = "root"; $pass = ""; //rootのパスワードは未設定 $db = "shouhin_mst"; // MySQLへ接続する $link = mysql_connect($url,$user,$pass,$db); // データベースを選択する $sdb = mysql_select_db($db,$link) or die("データベースの選択に失敗しました。"); // SQLを送信する $sql = "SELECT * FROM $db ORDER BY id"; $res = mysql_query($sql,$link); $result = mysql_query($sql, $link) or die("クエリの送信に失敗しました。<br />SQL:".$sql); ?> <center> <table border="1"> <tr> <td width="300">ID</td> <td width="300">価格</td> <td width="300">メーカー</td> </tr> <?php while($row = mysql_fetch_array($res,MYSQL_ASSOC)) { echo "<tr>"; echo "<td>".'<img width="300" height="210"src="image/'.$row['id'].'.JPG">'."</td>"; echo "<td>".$row["price"]."円"."</td>"; echo "<td>".$row["name"]."</td>"; echo "</tr>"; } ?> </table> </center> <?php // MySQLへの接続を閉じる mysql_close($link) or die("MySQL切断に失敗しました。"); ?> //-------------------------------------------------------------------------- 現在のソースはこんな感じなのですが 「// SQLを送信する」の下に書けばよろしいのでしょうか？ 仮にそうだとして配置されているボタンにSQL文を仕込む方法もよくわかりませんでした よろしくお願いします
【MySQL】PHPで並び替えする方法を教えてください！【ソート】 ブラウザ上にボタンを配置してそれをクリックすると並び替えするようにしたいのですが調べてもいまいち分かりませんでした<table border=″1″> <tr> <td>ID</td> <td>価格</td> <td> メーカー </td&gt; </tr> <?php while($row = mysql_fetch_array($res,MYSQL_ASSOC)) { echo … ?> 今携帯しかなくソースが途中になってしまって申し訳ございません。 お手数ではございますが雰囲気でいいので ソースを書いて提示してもらえると助かります お願いいたします
PHPでのソートについて… http://m.chiebukuro.yahoo.co.jp/detail/q14154291234 こちらの質問をしたものなのですが PHPで価格の高い順などボタンをクリックしたらページはそのままでソートさせるようにしたいのですが具体的にどのように記述したらよろしいのでしょうか？ よろしくお願いいたします。 ソースは前の質問(上記のURL)からなにも変わっていません
mysqlで下記の条件で検索したいのですが、思った挙動になりません。絶対条件 ①wp_posts.post_status = 'publish' ②wp_posts.post_type = 'hoge' 取得したい複数条件 ①指定のidを複数取得し、新しい日付順でidを取得したい。 ②指定id→新しい日付順に並べたい 例：テーブルにid1～400が存在し、idが大きい方が日付が新しい。 指定id 384,388,390 件数5件 理想の並び順 384,388,390,400,399 上記のように取得したいです。 SELECT wp_posts.id FROM wp_posts WHERE wp_posts.post_status = 'publish' AND wp_posts.post_type = 'hoge' AND (wp_posts.id in(384,388,390) OR wp_posts.post_date < NOW() ) ORDER BY wp_posts.id DESC, wp_posts.post_date DESC LIMIT 5; そもそも根本の書き方が違うのか、できないのか、できるなら書き方を教えていただけると助かります。 よろしくお願いします。
mysqlでエラーが出ます。 よろしければ教えてください。id int(11) AUTO_INCREMENT プライマリー name varchar(255) kana_name varchar(255) appeal varchar(255) img_top varchar(255) up_data datetime del_data datetime INSERT INTO db_name.teable_name (id, name, kana_name, appeal, img_top, up_data) VALUES (null, ああ, カナ, ああ, doradora.jpeg, '2015-12-13 16:12:59') MySQL のメッセージ: ドキュメント #1054 -
MySQLに関して、テーブルデータのエクスポートについての質問です！ ただいまMySQLを勉強中の者です。 あるレンタルサーバーのデータベースからテーブルを「CSV形式」でエクスポートしたいのですが上手くいきません。現在試した方法は以下の3点です。 ①レンタルサーバーのコンパネからエクスポート 文字化けしてしまいます。 ②outfile を使う方法 select * from tablename into outfile 'path/filename' fields terminated by ',' ; →Access denied ③mysqldumpを使う方法 mysqldump -h databasehost -u username -p password --tab=path/filename --fields-termianted-by=',' database.table →Access denied ②、③に関して、 Access denied for user 'ユーザー名' (using password: YES) や Got error: Access denied for user 'ユーザ名' to database 'パスワード' when selecting the database といったエラーが出てしまいできません。 個人的に調べて、管理者権限の問題だということはわかったのですが、 grant file on *.* to ユーザー名@ホスト名; といった、クエリを実行してみても、このクエリ自体にAccess deniedが出てしまい困っています。 何か解決策はないものでしょうか？ よろしくお願い致します。
SQL ORDER BY で複数条件で並び替えたいです 調べてみると、フィールドの並び替えに優先度をつけることはSELECT id,name,time FROM sample ORDER BY name,time; (＊例１とさせて頂きます) とすることで、name順にソートされた後にtime順にソートされる方法を見つけたのですが、 これに、checkフィールドがtrueだった場合、check[true]のレコードを(例1)の条件でソートした後に、check[flase]のレコードを(例1)の条件でソートするようなことはできないでしょうか？
【画像】PHPとMySQLを使って一覧を表示したい【ソート】 一覧を表示する際に「id」の所を対応した画像で表示したいのですが調べたのですがいまいち理解することがてきず質問させていただきました。 <table border=″1″> <tr> <td>ID</td> <td>価格</td> <td> メーカー </td> </tr> <?php while($row = mysql_fetch_array($res,MYSQL_ASSOC)) { echo … ?> 訳ありで携帯からしか投稿出来ずソースが画像になってしまって申し訳ありません 追加でこれに価格順などのソートをするボタンをつける場合はどのようにしたらいいのでしょうか？ 色々曖昧で申し訳ございません。 よろしくお願いいたします。
MySQLのこのエラー→「Incorrect table definition; there can be only one auto column and it must be defined asa key」について質問です。 現在、とあるテーブルを作成し、 最初のNumberはINT[2]、 次のIDは固定長なのでchar[13]、 他のはvarcharにしています。 ここで、最初はNumberにprimary key, auto incrementをつけていました。 しかし、IDにPKをつけるため、一旦 「drop table if exists テーブル名」でテーブル自体を消去し、また最初からcreate tableで Numberにはauto incrementを、IDにはPKを設定しやっているのですが、最初に書いたエラーを修正できずに困っています。 （あまりSQLを触ったことがなく、ぐぐってとりあえず試しているのですが、なかなかうまくいきません、、、）
MySQLにて以下のテーブルAがあります。ID | name | data | status | data2 | status2 | regist_date ----------------------------------------------------------------- 1 | AA | 1111 | 5 | aaaa | 3 | 2015/12/01 00:00:00 ----------------------------------------------------------------- 2 | BB | 2222 | 3 | bbbb | 4 | 2015/12/02 00:00:00 ----------------------------------------------------------------- 3 | CC | 3333 | 4 | cccc | 5 | 2015/12/03 00:00:00 ----------------------------------------------------------------- 4 | AA | 4444 | 1 | dddd | 2 | 2015/12/04 00:00:00 ----------------------------------------------------------------- 5 | BB | 5555 | 0 | eeee | 3 | 2015/12/05 00:00:00 ----------------------------------------------------------------- 6 | CC | 6666 | 2 | ffff | 0 | 2015/12/06 00:00:00 ----------------------------------------------------------------- 7 | AA | 7777 | 0 | gggg | 1 | 2015/12/07 00:00:00 ----------------------------------------------------------------- 8 | BB | 8888 | 0 | hhhh | 0 | 2015/12/08 00:00:00 ----------------------------------------------------------------- 9 | CC | 9999 | 6 | iiii | 0 | 2015/12/09 00:00:00 IDとStatusとstatus2はINT、nameとdataとdata2はvarchar、registはdatetimeです。 バイト数とかは今回特に気にしないで下さい。 各名前（name）別に最新のデータを取得するのですが、 statusとstatus1に関してのみ、0を除く最新のデータを取得したいと考えています。 つまり、結果としては以下のイメージが希望です。 ID | name | data | status | data2 | status2 | regist_date ----------------------------------------------------------------- 7 | AA | 7777 | 1 | gggg | 1 | 2015/12/07 00:00:00 ----------------------------------------------------------------- 8 | BB | 8888 | 3 | hhhh | 3 | 2015/12/08 00:00:00 ----------------------------------------------------------------- 9 | CC | 9999 | 6 | iiii | 5 | 2015/12/09 00:00:00 これをSQLで出来る限り短く負荷が少ない形でまとめたいのですが、 良い方法ありますでしょうか？ だいぶ簡略化していますが、 本番ではstatusは10程度存在します。 よろしくお願いいたします。
MySQLのphpMyAdmin画面について、質問させてください。 phpMyAdmin画面のデータベースの状態について確認したところ、(データベース・SQL・状態と続くタブの状態のページです。)”クエリ統計: 起動時から数えて 588,686,806 個のクエリをサーバに送信しました”とあります。 MySQLの起動後１１日しか経過しておらず、このMySQLを利用しているサイトは閲覧ユーザーが日に3０人ほどのサイト２つしか運用していません。ページビューも一人平均６ページほどです。 ユーザー数から考えてクエリの問い合わせ回数が多すぎるように思います。 （"状態"再描画を押すと万単位で起動時から数えて～個の数が増えます。） これはPHPからMYSQLに指示を出す部分で無限ループが起こっているような可能性を考えた方がよろしいのでしょうか？ しかしながら統計ではSelect文の呼び出し割合は90%程度なので(insertが2%)、無限ループがあるならばSELECTの割合が突出しているはずとも思います。 初歩的な質問で申し訳ないですが、よろしくお願いします。 サーバーはdreamhostを利用しています。 XAMPPでテスト環境を作ってみたのですが、phpMyAdmin画面ではバージョンが違うためか”クエリ統計: 起動時から数えて”の項目がありませんでした。
レンタルサーバのデータベースで抽出を行っているのですが、停止や再起動はどうやるんですか？
Mysqlでcsvファイルをテーブルにインポートできないです。 importtest.csvファイルをコピーし所有者を変更しようとしているのですが、上手くいきません。この原因と解決はどのようなものになるのでしょうか？ student@ubuntu14:〜$ cp import test.csv tmp ＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿ と入力しますが、 ＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿ cp : 通常ファイル '/tmp/importtest.csv' 通常ファイル を作成できません:許可がありません ＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿ と表示されます。
PHP,MySQLのPDOについてご教授をお願いしたいです。 PDOステートメントを一度保持するとスクリプトが終了した際に破棄されると思います。この間に意図的ではない状況でPDOが破棄されることはあるのでしょうか？
java,mySQLを利用した辞書機能の作成について。 初めてアプリ開発にチャレンジしている初心者です。 開発環境はeclipse,言語はjavaを使用しております。現在Android用アプリの開発をしているのですが、その機能の1つとして 入力した文字の意味を表示する辞書的な機能をmySQLで作成しようとしているのですが そのようなオープンソース、または参考になるソースを教えていただけないでしょうか？ イメージとしては、テキストバーに文字を入力し、辞書ボタンを押すと その文字についての意味などが表示されるものを考えております。 既にに出来上がったスクリプトでなくても、プログラム構造の概要だけでもご提示いただけると助かります。 よろしくお願いいたします。
初期化と新しい値を設定するのに、どのような更新処理が効率よいでしょうか？SQLのパフォーマンスをあげる処理で悩んでいることがあります。 あるフラグを管理しているAテーブルがあります。 Aテーブルには、個別ID、親ID、フラグ等々のカラムが設定されています(他にもカラムは設定されていますが、今回の処理と関係ないため省略)。 Aテーブルのフラグには既に値が入っているのですが、不要なデータをなくすため、バッチ処理時に全件のフラグの値を初期値に設定します。 次に、親IDを管理しているBテーブルと結合するAテーブルのレコードにあるフラグをUPDATE構文で設定する処理をします。 SQLにすると、前者は「UPDATE Aテーブル SETflg = 初期値」 後者は「UPDATE Aテーブル SET flg = 新規値 WHERE 条件式」にあります。 この時、Aテーブルには例えば1万件以上のレコードがあり、Bテーブルと結合するレコードが9000件以上ある場合、 前者の初期化の処理と重なる部分が多すぎて、バッチ処理全体を遅延させています。 そこで、SQLのパフォーマンスをあげるため、 全件更新→結合するレコードのみ値を設定する方法から、 結合するレコードに新しい値を設定→結合しないレコードに初期値を設定という流れに変更しようと考えました。 SQLにすると、「UPDATE Aテーブル SET flg = 新規値 WHERE 条件式」と 「UPDATE Aテーブル SET flg = 初期値 WHERE NOT 条件式」になります。 しかし、このやり方だと、全件検索が生じること、SQLを2回起動させていることから、負荷が期待したよりも下がらないのではという指摘をうけました。 そこで、2つの処理を混ぜるような形として、UPDATE処理に分岐を設けるほうがいいといわれました。 SQLにすると、 「UPDATE Aテーブル SET CASE WHEN 条件式 THEN flg = 新規値 ELSE flg = 初期値 FROM ～省略～；」になるかと思います。 効率を上げるとしたら、どちらの方が効率がよいでしょうか？
JavaでRSSをMySQLにデータベースとして格納する方法はありますか？JavaでRSSをを取得し、その習得したものをmysqlにデータベースとして格納したいのですが、方法としてはどんなものがあるのでしょうか・・・？
MySQLを使ったデータベースに蓄積したデータを並び替えなどをしてから出力させることはできますか？出力したテキストをMicrosoft Accessで編集すればいいと助言をもらったのですが、出力時点で編集されていれば都合が良いと思いました。
MySQLでユーザーを削除したいと思っています。 REVOKEを利用することは分かったのですが、書き方が分かりません。分かる方がいたら教えたください。なお、下記の内容で回答をお願い致します。データベース：D1 ユーザー名：U1 パスワード：AN ※回答の際、別に必要な項目がある場合は何を入れるか追記して回答をお願い致します。
phpでエラーで今で８時間、進まずにいきずまっております（ ; ; ） だれか助けてください。。。教本（やさしいphp 第3版）を読んで、書いてあるコードをそのまま記述したのですがエラーが出てしまいます。 具体的には、phpでデータベースを作成する際に $db->exec("CREATE TABLE product(id INTEGER primary key, name text, price INTEGER)"); と入力するのですがエラーが出てしまいます。。。エラーの内容は "#1064 - You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'Table 'product' already exists' at line 1" です。エラーがでても表示はするのですが、 product テーブルにphp sqlmyadminでsqlから直接下の文章を実行すると INSERT INTO product (name, price) VALUES('鉛筆', 80), INSERT INTO product (name, price) VALUES('消しゴム', 50), INSERT INTO product (name, price) VALUES('定規', 200), INSERT INTO product (name, price) VALUES('コンパス', 300), INSERT INTO product (name, price) VALUES('ボールペン', 100); 下のエラーが出て配列がでます。 ブラウザで確認すると一行しか表示しません。。。 #1064 - You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'INSERT INTO product (name, price) VALUES('消しゴム', 50), INSERT INTO produc' at line 2 本当に頭が禿げ上がりそうです。。。 このままだと多分、窓開けて「hello world !!!!!!!!!!!!!!!!!!!!!!って発狂することになるかと思います。 だれか助けてください！！！ 実家に住んでいるので叫んで家族に頭がおかしくなったと思われたくありません。。。 コードを全文下に載せておきますのでご参考お願いいたします。 お手数ですがご回答のほどよろしくお願いいたします。 <html> <head> <meta charset="UTF-8"> </head> <body> <?php $dbname = 'mysql:dbname=xxxxxxxx;host=xxxxxxxx.lan'; $username = 'xxxxx'; $psword = 'xxxxx'; $db = new PDO($dbname, $username, $psword); $db->exec("DROP TABLE IF EXISTS product"); $db->exec("CREATE TABLE product(id INTEGER primary key, name text, price INTEGER)"); $qry = array( "INSERT INTO product (name, price) VALUES('鉛筆', 80)", "INSERT INTO product (name, price) VALUES('消しゴム', 50)", "INSERT INTO product (name, price) VALUES('定規', 200)", "INSERT INTO product (name, price) VALUES('コンパス', 300)", "INSERT INTO product (name, price) VALUES('ボールペン', 100)" ); foreach($qry as $value){ $db->exec($value); } $qry = "SELECT * FROM product"; $data = $db->query($qry); ?> <table border="2"> <tr bgcolor="#AAAAAA"> <th>番号</th> <th>商品名</th> <th>単価</th> </tr> <?php while($value = $data->fetch()){ $id = $value["id"]; $name = $value["name"]; $price = $value["price"]; print "<tr><td>{$id}</td><td>{$name}</td><td>{$price}</td></tr>\n"; } $db = null; ?> </table> </body> </html>
MySQLで、１レコードのサイズ制限はありますか？
MYSQLで以下テーブルをSELECT文１行にしたいんですが、誰か分かる方教えてください（＞＜）AAAテーブル----------------------------------------------------------------------+ | seller | product | id | name | +-----------+----------+-------+--------------------------------------+ | ituwagift | am-10000 | 38211 | ゲーム | | ituwagift | am-10000 | 39151 | おもちゃ | | ituwagift | am-10000 | 40991 | テレビゲーム | | ituwagift | am-10000 | 40992 | PS Vita | | ituwagift | am-10000 | 40994 | 周辺機器 | +-----------+----------+-------+----------------------------------------+ 上記の様な５行のデータが入ったAAAテーブルを、下記の様に１行にしたいのですが、MySQLで 可能だったりしますか？AAAテーブルid とname をSELECT文で1行にしたいんですが・・・ --------------------------------------------------------------------------------------------------------+ | seller | product | id1 | name1 | id2 | name2 | id3 | name3 | id4 | name4 | id5 | name5 | +-----------+----------+-------+------------------------------------------------------------------------+ | ituwagift | am-10000 | 38211 | ゲーム |39151|おもちゃ|40991|テレビゲーム|40992|PS Vita|40994|周辺機器 | +-----------+----------+-------+------------------------------------------------------------------------+ 誰かわかる方、教えてください（＞＜） テーブル見にくくてすみません。（＞＜） テキストエディタにはりつけると、整います。（＞＜）
自宅データベースサーバーを立てようと考えてますが どういう用途で使ったらいいですかね。 自宅サーバー運用してる方いらっしゃいましたら 参考までに教えて下さい。なお、OSはLinuxかFreebsdでmysqlかpostgresqlを 使いたいです。
【MySQL】大量データで LIMIT と OFFSET を使うと遅い？質問1 LIMIT OFFSET は ORDER BYでなんらかのキーでソートしないとテーブルフルスキャン(ALL)となり遅くなるということですが、ORDER BYでなんらかのキーでソートすれば遅くならないのでしょうか？ 質問2 もし、ORDER BYでソートすれば遅くないとして、ソートするカラムが複数で優先順位の1番目がキー項目ではなく(Indexは作成しています)、2番目以降がキー項目の場合、テーブルフルスキャン(ALL)になりますか？なりませんか？ 前提としてシリアル番号やIDのようなユニークキーは使えないものとして考えてください。 よろしくお願いいたします。 【参考】 http://d.hatena.ne.jp/pospome/20130827/1377592854 ここの記事で上記に触れています。 コメントされている方が、「order by id をつけてあげればよいでしょう。」と回答されているのですが、その真偽と、質問2のようにキーではないカラムも含めてソートした場合の結果がどうなるか解らなかったので、質問させていただきました。
登録情報の最新５件を並び替えて表示するSQL文を教えてください。 練習に本の貸出管理画面を作っています、Top画面には新しく登録された本の最新５件を表示したいです。select * from テーブル order by 登録日 desc limit 5; これで最新５件は取り出せたのですが、上から新しい順になってしまいます。 最新５件を、一番下が一番新しいように並び替えて取り出したいのですがどうすればいいですか？
SQL文 テーブルの結合について。 LEFT JOINなどでテーブルを複数結合するとき、重複するフィールド名をまとめるにはどのような記述をすればよいでしょうか？
MYSQLで質問です。CREATE TABLE構文で文末に、 「ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT="****"」 とあるのですが、ENGINEの隣の項目のDEFAULTの意味がよくわかりません…。 どなたかご教授頂ければ幸いです。
あるテーブルでselectした結果を別のテーブルにinsertするsql文の質問です。 DBはmysql使用です。 Aのテーブルでselectした結果をBのテーブルにinsertする一文を書いたのですが、Aのテーブルでselectした結果が0件だった場合、insertされず、Warningのエラーが出ると聞きました。 そこで質問です。 あるテーブルからselectした結果を別のテーブルにinsertする場合、 selectした結果が1件以上なら勿論insertされるべきですが、 selectした結果が0件でもエラーを吐かずにinsert件数が0件で完了するsql文を書くことができますか？
ECCUBEを使ったサイトでMysqlからPostgresqlに移行したいと思っております。会社のECCUBEサイトの表示速度が遅いので、いろいろ原因を調べたところMysqlがよろしくないとの結論にいたり、私が担当することになってしまいました。 http://ameblo.jp/umi-web/entry-10281014316.html いろいろ調べたのですが、Webデザイナーなのでいまいちわからず、困っております。 わかりやすく教えていただけますととても助かります。 http://www.otts.jp/?p=474 http://halgai.blog76.fc2.com/blog-entry-53.html バージョン：2.13.2 サーバー：さくらサーバー 情報が足りたいことがあると思いますが、教えていただけましたら幸いです。 何卒よろしくお願いいたします。
MySQLサーバ2台による準同期レプリ+GTIDのマルチマスタ構成で WEBサイトを運用することは、現実的ではないのしょうか？もし実際に運用された方や研究・検討された方がいらっしゃれば、 ご意見いただけないでしょうか。この件ずっと気になっていました。 単純に考えると、検索系の性能は2台に分散できるので良くなり、 書込系の性能は準同期レプリしてるので低下しますが、 レプリ先データの信頼が上がるのかと思っています。 しかし色々問題があって通常の1方向の準同期レプリにした。という ことであれば、どんなことがあったのかが知りたいです。
MYＳＱＬについて質問です。ON DUPLICATE KEY UPDATEを使ったとき、同じ数値が入っているカラムは更新しない、または ON DUPLICATE KEY UPDATEで更新されたレコードのみ更新日時を更新という処理はできるのでしょうか？ タイムスタンプを使わない形でお願いします。
サーバーのPHPのバージョンがあがり、エラー表示が出るようになりました。mysqlを mysqliに書き換えたいのですが、良くわかりません。$sql = 'select * from rei0 order by bukken'; $result = mysql_query($sql,$connect); $row = mysql_num_rows($result); for ($r = 0; $r < $row; $r++){ $bukken = mysql_result($result,$r,0); $ensen1 = mysql_result($result,$r,1); $eki1 = mysql_result($result,$r,2); $toho1 = mysql_result($result,$r,3); $ensen2 = mysql_result($result,$r,4); $nmonth = date("Y-m-d",strtotime("$torokubi +3 week")); 特に mysql_result($result,$r,0); に代わる書き方を教えてください。 よろしくお願いします。
SQL文 サブクエリの使い方 FIN 組番 表示順 1 154 1 1 154 2 1 154 3 1 154 4 1 154 5 1 154 6 1 154 71 155 1 1 155 2 1 155 3 0 155 4 0 155 5 0 155 6 0 155 7 1 156 1 1 156 2 1 156 3 1 156 4 0 157 1 0 157 2 0 157 3 0 157 4 0 157 5 0 157 6 0 157 7 上記の様なテーブルがあったとして、各組番が作業が完了しているのか、途中なのか未着手なのかを調べるＳＱＬ文が判りません。お手数ですが、ご教授をお願い致します。 組番ごとのレコード件数は一定ではありません。１レコードごと作業が完了したらFIN欄を０から１へ更新します。 例では、組番１５４は７レコードあり、その全てが１になっていますので作業完了とします 組番１５５は７レコードあり、４レコードが０ですので、作業中となります 組番１５６は４レコードあり全てが１になっていますので作業完了とします 組番１５７は７レコードあり全てが０ですので未着手となります。 当方は先ず、組番毎のレコード件数を配列に代入して、LOOPで組番毎のFIN=1の件数を求め 最初に代入した件数とFIN=1の件数が同じであれば作業完了と考えましたが、約２０万レコードを この手順でやっていたのでは、時間がかかり過ぎて使い物にならず、知恵袋へ投稿させて頂きました。 何卒宜しくお願い致します。
mysql 大容量のレンタルサーバー知りませんか？mysqlの「数」が無制限のサーバーはよくありますが、1つのmysqlの容量が大きなものを探しています。 X2でもこのくらいです。 http://www.xtwo.ne.jp/support/faq/service_database.php （↑の2問目） 500MBでは足りない状態です。不具合が出始めました。 現在使用中のツール（アクセス解析50サイト以上2年分以上の記録のデータ量）では、軽く500MBを超えます。複数のサイトというような感じではなく、1つのツールなのでmysqlを分けることもできません。 ならどのくらいの容量が必要なの？と聞かれれば、どのくらいのがあるのかわからなかったので、500MBを超えるものがあればなんでも知りたいです。 共用のレンタルサーバーでなくても、専用のサーバーでもよいです。 （できれば費用を考えて良いレンタルサーバーがあればとは思っています。） よろしくお願いします。
dreamweaverを使用したチェックボックス検索の作り方 お世話になっております。php初心者です。独学で作っていてわからないことがありましたため、ご質問させてください。[作りたいもの] フリーワード検索 +チェックボックス検索 （手始めに、「白」というボックスを作って、チェックを入れて検索を押すと検索結果が出るようにしたい） [出来ているもの] フリーワード検索は（http://w.builwing.info/category/dreamweaver/）を参考に作成できた [わからない箇所] チェックボックス検索もほぼ同じ手順(＊１)で作成しようとした →「検索」ボタンを押しても検索結果が表示されない [Mysql] dataの中に name/price/grade/weight/colorという５つのフィールドがあり、 名前や色名などのデータが入っている。 (＊１) ①search.phpにチェックボックスの挿入 <form id="form1" name="form1" method="get" action="search_result.php"> <td><label for="color"></label> <input name="color" type="checkbox" id="白" />白 <input type="submit" name="button" id="button" value="検索" /></td> ②search_result.phpにレコードセットの挿入 レコードセット（クエリー） テーブル：data 列：全て フィルター：color／を含む／URLパラメーター／color ③search_result.phpに検索結果表示テーブルの作成 テーブル作成 結果を表示させたいところに「レコードセット→color,nameなど」からドラッグ コードを全て貼付けるのが無理であったため、手順のみになってしまい、申し訳ありません。 どうかご教示のほどお願い致します。
ＰＨＰ Mysql Myadmin エラー？？phpを勉強中のものですがＤＢエラーに関しての質問をさせていただきます。 「商品情報入力」→「商品情報入力チェック」→「商品情報登録」 「登録商品一覧」→「商品詳細情報」 この商品詳細情報でその商品に対するコメントを入れるのですが 「商品詳細情報のコメント欄にコメント入力」→「コメントチェック」→「コメントをＤＢに登録」 商品情報は登録できるのですが、コメントをＤＢに登録する際エラーが出ます。 ＤＢのパスワードなどに間違いはないはずです。 試しに２つ無料レンタルサーバを貸り試してみましたが2つともやはりコメントを登録するところでエラーが出ます。 解決方法その他アドバイスありましたら教えていただきたいです。 エラーは下記になります Internal Server Error The server encountered an internal error or misconfiguration and was unable to complete your request. Please contact the server administrator at admin@main-hosting.eu to inform them of the time this error occurred, and the actions you performed just before this error. More information about this error may be available in the server error log.
Mysqlでエラーが出ました。 Error Code: 1111. Invalid use of group function と言われているのですが原因がわからなかったので質問しました。use db1; select *from tb_u; select *from tb_u where uria>=50; select bang,avg(uria) FROM tb_u where bang in (select bang from tb where avg(uria) >=120) group by bang order by avg(uria) desc; やりたいこととして、uria の平均が50以上で、bang毎のuriaの平均で120以上のものだけを平均の多い順から表示させたいです。 回答お願いします。
苦学生です。 PDOを使ってMYSQLの条件式を上手に書く方法を教えて下さい。↓こんな感じで if(isset($_GET['id'])){ $id = intval($_GET['id']); }else{ $id = "全てのデータを出す書き方";//ここがわかりません } $sql = "SELECT * FROM hoge WHERE id = :id"; $stmt = $dbh->prepare($sql); $stmt->bindValue(':id', $id, PDO::PARAM_INT); MYSQLでWHERE句がありながら、全ての条件に合致さえる方法ってありますか？ idはautoincrementなんで"IS NOT NULL"で出せるのかな～なんて思ってやってみたんですが駄目でした。で、調べても解りませんでした。 MYSQL文で一発で出せるなら楽なんですが、「そんなのないよ！」ってなら別の分岐にしようと思います。
いつもお世話になります 不一致クエリで教えて下さいAテーブルとBテーブルのすべてのフィールドを比較して、一致しない値が一つでもあれば表示するという不一致クエリを作りたいのですが、空白をデータに持つレコードは抽出されな いようにしたいです ID____フィールド１____フィールド２____フィールド３ 1____ あいうえお ____ ____さしすせそ 2____ たちつてと ____なにぬねの ____はひふへほ 3____ まみむめも ____やいゆえよ ____わいうえお 4____ ____がぎぐげご ____ざじずぜぞ 5____ らりるれろ ____わをん ____ ID____フィールド１____フィールド２____フィールド３ 1____ あいうえお ____ ____さしすせそ 2____ たちつてと ____なにぬねの ____はひふへほ 3____ まみむめも ____やゆよ ____わいうえお 4____ ____がぎぐげご ____ざずぞ 5____ らりるれろ ____わをん ____ クエリA-1: SELECT テーブルA.ID, IIf(IsNull([フィールド1]),Null,[フィールド1]) AS 式1, IIf(IsNull([フィールド2]),Null,[フィールド2]) AS 式2, IIf(IsNull([フィールド 3]),Null,[フィールド3]) AS 式3 FROM テーブルA; クエリB-1: SELECT テーブルB.ID, IIf(IsNull([フィールド1]),Null,[フィールド1]) AS 式1, IIf(IsNull([フィールド2]),Null,[フィールド2]) AS 式2, IIf(IsNull([フィールド 3]),Null,[フィールド3]) AS 式3 FROM テーブルB; クエリA SELECT [クエリA-1].* FROM [クエリA-1] LEFT JOIN [クエリB-1] ON ([クエリA-1].式3 = [クエリB-1].式 3) AND ([クエリA-1].式2 = [クエリB-1].式2) AND ([クエリA-1].式1 = [クエリ B-1].式1) AND ([クエリA-1].ID = [クエリB-1].ID) WHERE ((([クエリB-1].ID) Is Null)); 展開するとこうなります ID____フィールド１____フィールド２____フィールド３ 1____ あいうえお ____ ____さしすせそ 3____ まみむめも ____やゆよ ____わいうえお 4____ ____がぎぐげご ____ざじずぜぞ 5____ らりるれろ ____わをん ____ うまくいきません 自分としては下記のようになってほしいのですが・・・ ID____フィールド１____フィールド２____フィールド３ 3____ まみむめも ____やいゆえよ ____わいうえお 4____ ____がぎぐげご ____ざじずぜぞ あ、空白あっても不一致データあったら表示させたいです ご教示よろしくお願いします
SQLについての質問です。大学で出題された課題なのですが、なんの説明もなく出された課題なのでなにをすればいいのかわかりませんでした。use db1; create table shokiti_renzoku(bang INT AUTO_INCREMENT PRIMARY KEY,niti VARCHAR(10)); alter table shokiti_renzoku AUTO_INCREMENT=0; 自分なりに調べてここまで書けたのですが、ここから何をしていいのかわかりません。課題内容は写真を載せるので、それの解答、解説をお願いします。
sentOS上にインストールしたMySQLがどうしても起動しません。 原因を教えてください。
現在PHPでデータバックアップのソースを作成（CSVファイル）しているのですが、 参照したデータベースの値が二回書き込まれてしまいます。 何が原因なのでしょうか、アドバイスをお願いいたします。現在）kanjaID,kanjaID,pass,pass,name,name 作成したい物）kanjaID,pass,name 以下ソース↓ //SQLを実行 $sql = "select * from kanja"; $rst = mysql_query($sql); //抽出したデータを一件ずつ配列の最後に格納していく while($row = mysql_fetch_array($rst)) { array_push($_hogehoge,$row); }
データ分析に関して質問です！ アンケート調査を行いました。 ある刺激を加える前後での変化を見たいと考えており、データは集まりました。次にエクセルへのデータ入力をしようとしているのですが、刺激前後で比較する場合のデータ入力方法が分かりません。刺激前と刺激後でシートを変えて入力をするのでしょうか。やり方を教えていただけると大変ありがたいです。
XAMPPを使用したローカル環境時の、住所.jpのSQLファイルインポートについて上記の件、PHP+MySQLを使用した住所関係の動きを確認したくローカル（Windows7 64bit）にXAMPPをインストールしました。 それぞれ、 Apache 2.4.16 PHP 5.6.12 MySQL 5.6.26 です。 この状態のXAMPPをローカルにインストールし、ほぼデフォルト状態で住所.jpのsql_kantou.zipをphpmyadmin上でインポートしようとすると、以下のエラーが出ます。 SQL query: OP TABLE IF EXISTS `ad_address`; MySQL のメッセージ: ドキュメント #1064 - You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'OP TABLE IF EXISTS `ad_address`' at line 1 上記の「OP TABLE IF EXISTS」のOPはOPENの略なのか、ググって見ましたがOPに関する明確な記述を発見できませんでした。 なお、普段使っているレンタルサーバーに試しにインポートしてみたところそちらは無事にインポートができました。 これはローカルの各設定の問題なのだと思いますが、何が原因なのでしょうか？ 大変お手数ではございますが、原因と対策をご教示下さい。
XAMPPに詳しい方に質問です。 XAMPPを起動させようとしてApacheとMySQLのスタートボタンを押したんですが、次のようなエラーが出てきてしまい、MｙSQLのボタンが起動しません。どうしたらいいでしょうか。 パソコンは windowsを使っています。 ＜エラーの文章＞ [mysql] Error: MySQL shutdown unexpectedly. [mysql] This may be due to a blocked port, missing dependencies, [mysql] improper privileges, a crash, or a shutdown by another method. [mysql] Press the Logs button to view error logs and check [mysql] the Windows Event Viewer for more clues [mysql] If you need more help, copy and post this [mysql] entire log window on the forums
iPhoneで使えるデータベースアプリを探しています。 CSVをインポートできるiPhoneアプリを探しています。出来ればローカルにデータベースを持ちたいのですが、無ければサーバへ接続するタイプでも構いません。これまでにネスタポケットというアプリは使いましたが、これは検索に余計なステップをかけさせられるので使いにくく、呼び出したデータも見づらいのであまり使いやすいと思えませんでした。mysql query dbクライアントという評価の高いアプリはありますが、これはサーバへのアクセス方法がわかりません。何か使いやすいデータベースアプリはないでしょうか
php上でmysqlを使い、データベースのデータをcsvとして出力したいと思っています。http://onlineconsultant.jp/pukiwiki/?PHP%20%E3%83%87%E3%83%BC%E3%82... 以上のページを参考にしてコードを組み込みましたが、掃き出しファイルにエラーが書き込まれてしまいます。 改善策をご教授願います。 【コード】 <?php $csv_output_sql= "SELECT tbl01.flag AS 承認,tbl01.day AS 日付,tbl01.id AS ID,tbl02.name AS 案件名,tbl03.name AS クライアント名,tbl04.name AS 派遣元 FROM tbl01 LEFT JOIN tbl02 ON tbl01.useid = tbl02.number LEFT JOIN tbl03 ON tbl02.client_id = tbl03.number LEFT JOIN tbl04 ON tbl01.d_id = tbl04.number WHERE tbl01.day BETWEEN '" .$_POST['start_day'] ."' AND '" .$_POST['end_day'] ."'"; $datas = $mysqli->query($csv_output_sql); $file = '稼働表.csv'; file_put_contents($file, $datas); header('Content-Disposition: attachment; filename="'. $file . '"'); header('Content-Type: text/csv;'); $field_names = array_keys($datas); $converted_field_names = make_csv_line($field_names); print $converted_field_names; foreach ($datas as $each_data) { $data= make_csv_line($each_data); $data_converted=mb_convert_encoding($data, "SJIS", "UTF-8"); print $data_converted; } mb_http_output(); function make_csv_line($values){ foreach($values as $i =>$value){ if ((strpos($value, ',') !== false) || (strpos($value, '"') !== false) || (strpos($value, ' ') !== false) || (strpos($value, "\t") !== false) || (strpos($value, "\n") !== false) || (strpos($value, "\r") !== false)) { $values[$i] = '"' . str_replace('"', '""', $value) . '"'; } } return implode(',',$values)."\n"; } ?> 【書き出しファイル】 <b>Warning</b>: array_keys() expects parameter 1 to be array object given in <b>/home/reyou-s/www/system/web_output/shift_output.php</b> on line <b>12</b><br /> <br /> <b>Warning</b>: Invalid argument supplied for foreach() in <b>/home/reyou-s/www/system/web_output/shift_output.php</b> on line <b>28</b><br /> <br /> <b>Warning</b>: implode(): Invalid arguments passed in <b>/home/reyou-s/www/system/web_output/shift_output.php</b> on line <b>38</b><br /> （ここからタイトル行無でデータがはじまります。） （データ自体はきちんと抽出できています。） （データ行が終わると、PHPファイル後半にあるHTMLがすべて描画されています……）
DBのViewについて。例えば下記のようなテーブルがあったとして、 ID Price ----------- 01 100 02 200 03 500 04 250 ここで上記テーブルを元に「Priceが200以上しか表示しない」Viewを作ったとします。 このViewに対して「ID: 05, Price: 150」のInsertは →行える。Viewには表示されないが、元のテーブルは更新される。 このViewに対して上で作ったID:05のDELETEは →行えない。エラーにはならないが、テーブルのデータは削除されない。 という認識です。（MySQLにて実機確認しました） この2通つの違いは何でしょうか？なんとなく「あ～、そうなるかもな～」という感覚はありますが、論理的に説明できないので、ご教授願いたいです。 よろしくお願いします。
phpMyAdmin インストールについて 公式サイトから最新バージョンを落とし、 サクラサーバーに設定しようと思っています。setup などは正常に行くのですが... config.ini.php を移動したら ４０４になります。 なぜでしょうか？
多読王国というサイトを使っているのですが、MYSQLの接続に失敗しましたと出てどのサイト内のページも開けません。解決法を教えてください。
MySQLのインポートについて さくらのレンタルサーバからミニバードへワードプレスサイトの移行を行っているのですが、MySQLをインポートしようとしても以下の画像のようなエラーメッセージがでて、インポートができません。 この場合、どのようにすれば、インポートが可能になりますでしょうか。 宜しくお願い致します。
SQL文の記述についての問題なのですが、1：8桁の学生番号と8文字の氏名を入力できるフィールドを持つ学生テーブルと、8桁の学生番号と4桁の科目番号と3桁の得点を入力できるフィールドを持つ試験テーブルと、4桁の科目番号と4文字の科目を入力できるフィールドを持つ科目名テーブルを作成する。この時、主キーや外部キーの設定が重要になるため、キーがわかるようにSQLを記述せよ。 これについての問題が解けないので、わかる方いましたら、教えてください。 それに加え、此方の問題についてもご答えできるようでありましたらよろしくお願いします。 2: 学生番号・氏名・住所・電話番号・学生ＩＤ・学年をフィールドとして持ち、学生番号は主キー、氏名は空欄を認めない（この空欄を認めないという点がわからない・続く）学生IDは学科テーブルの主キーを参照するような外部キーで、学年は1～5とするような学生テーブルと、学科IDと学科名称をフィールドとして持ち、学科ＩＤを主キー、学科名称は空欄を認めないような学科テーブルを名簿内に作成する。 という物です。質問攻めになってしまい、本当に申し訳ないのですが 知恵袋なら簡単に質問できますし、幅広く色々な人に出会うこともできると思い、このような質問をさせていただいてます。 答えるのには時間を費やしてしまうと思いますが、どうかよろしくお願いします。
MySQL 複数フィルタについて コンビニの売上実績テーブルがあり、 商品名、売れた日付、売れた数量 という3列があるとします。お客さんがレジを通過し、支払いをした時に商品ごとにインサートされるような想定です。 （コンビニで異なる複数商品を買う人は同時に複数列が挿入されるようなイメージです。） Q. 商品「A」と「B」を同時にもってレジに向かったお客さんがいたときの日付を列挙したいのですがどのようなSQLを書けばよいでしょうか。 商品「A」のみであれば、 SELECT hiduke FROM zisseki WHERE name like 'A' ORDRE BY hiduke ASC; というSQLで取得することができました。 商品「A」と「B」の場合は、 SELECT hiduke FROM zisseki WHERE name IN('A', 'B') ORDRE BY hiduke ASC; と書いたのですが、A1つ、またはB1つが売れた日付も含まれてしまっていました。
EclipseからMySQLに接続できない できなくて困っています．ローカルホストで使用です． MySQLはこのサイトの通りにインストールしました．https://creativeweb.jp/personal-site/mysql/ JDBCはこのサイトの通りに取得しました． http://www.javadrive.jp/servlet/database/index1.html Eclipseには外部ライブラリーも追加してますし．．． いろいろ調べてみて，ファイヤーウォールの設定もポート番号3306を通すようにもしました． 環境変数も設定をしました． アプリケーションからの接続タイムアウトも考えられるみたいだったので，コマンドプロンプトから set global wait_timeout = 60; と設定しました． コマンドプロンプトからはちゃんとデータベースを確認できます． しかし，mysql> show variables like ‘port';を打ってポート番号を確認したところport 0 と表示されました． またプログラムを実行するとこのエラーがでます． com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server. at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) at java.lang.reflect.Constructor.newInstance(Constructor.java:422) at com.mysql.jdbc.Util.handleNewInstance(Util.java:400) at com.mysql.jdbc.SQLError.createCommunicationsException(SQLError.java:1038) at com.mysql.jdbc.MysqlIO.<init>(MysqlIO.java:339) at com.mysql.jdbc.ConnectionImpl.coreConnect(ConnectionImpl.java:2247) at com.mysql.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:2280) at com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2079) at com.mysql.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:794) at com.mysql.jdbc.JDBC4Connection.<init>(JDBC4Connection.java:44) at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) at java.lang.reflect.Constructor.newInstance(Constructor.java:422) at com.mysql.jdbc.Util.handleNewInstance(Util.java:400) at com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:399) at com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:325) at java.sql.DriverManager.getConnection(DriverManager.java:664) at java.sql.DriverManager.getConnection(DriverManager.java:247) at Sizengengo2.Sagyou2.main(Sagyou2.java:23) Caused by: java.net.ConnectException: Connection refused: connect at java.net.DualStackPlainSocketImpl.connect0(Native Method) at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:79) at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) at java.net.Socket.connect(Socket.java:589) at com.mysql.jdbc.StandardSocketFactory.connect(StandardSocketFactory.java:214) at com.mysql.jdbc.MysqlIO.<init>(MysqlIO.java:298) ... 15 more 調べてもこのエラーだけでは原因が特定できなくて困っています．
<!doctype html> <html> <head> <meta charset="utf-8"> <titleチャットの超基本形</title> </head> <body> <?php if(isset($_POST['fHandle'])) $sHandle=$_POST['fHandle']; else $sHandle=""; //ハンドルネームを受け取る。 if(isset($_POST['fMsg'])) $sMsg=$_POST['fMsg']; else $sMsg=""; //メッセージを受け取る。 if(isset($_POST['fIn'])) $sIn=$_POST['fIn']; else $sIn=""; //最初のログイン時のパラメータ「logIn」を受け取る。 if(isset($_POST['fSub2'])) $sSub2=$_POST['fSub2']; else $sSub2=""; //退室ボタンの情報を受け取る。 ?> <div>チャットの超基本形 <form name="form1" method="post" action="chat.php"> メッセージ：<input name="fMsg" type="text" size="100"> <input name="fHandle" type="hidden" value=<?= $sHandle ?>> <!-- 発言のたびにハンドルネームを送信しています。 --> <input type="submit" name="fSub1" value="発言"> <input type="submit" name="fSub2" value="退室"> </form> </div> <div style="color:blue;">メッセージ：</div> <hr> <?php $conn=mysqli_connect('localhost','******','******') or die("データベース接続に失敗しました。"); mysqli_select_db($conn,'chat_db') or die("指定されたデータベースは存在しません。"); //入室時のメッセージを設定しています。 if($sIn=="logIn"){ $sMsg="{$sHandle}さんが入室されました。"; } //退室時のメッセージを設定しています。 if($sSub2=="退室"){ $sMsg="{$sHandle}さんが退室されました。"; } //チャットデータの書き込み $sql="insert into chat_tbl values(null,'{$sHandle}','{$sMsg}',null);"; if(!mysqli_query($conn,$sql)){ echo "チャットデータの書き込みに失敗しました。<br>\n"; exit(); } //メッセージの表示。 $sql="select * from chat_tbl order by dateTime desc;"; //データベースのレコードを後ろから前に向かって読み込んでいます。 if($result=mysqli_query($conn,$sql)){ while($row=mysqli_fetch_array($result,MYSQL_ASSOC)){ echo "<span style=\"color:pink;\">{$row['handle']}</span><span style=\"color:red;\">＞</span>\n <span style=\"color:black;\">{$row['message']}</span><span style=\"color:red;\">：</span>\n <span style=\"color:yellow;\">{$row['dateTime']}</span>\n <hr>\n"; } } else{ echo "チャットデータの抽出に失敗しました<br>\n"; } mysqli_close($conn); ?> </body> </html> チャットシステムを作ろうと思ったのですが、なかなか上手くいきません！何処が間違っているのか教えていただきたいです！
html、php、mysqlを使用してwebサイトを作成しています。個別に与えられたユーザー名とパスワードを入力して会員専用ページにログインし、Formのcheckboxを変更する操作をした際、同時にログインしている別のユーザーにも変更がリアルタイムで反映されるシステムを作成したいのですが、うまくいきません。 checkboxの状態はmysqlに格納しています。 クライアント側から一定時間ごとにデータベースを見に行く、サーバー側から変更があった時点でクライアント側に通知が行く、など考えられると思うのですが、正しい方法がわかりません。 よろしくお願いします。
Wordpress素人です。Wordpressをダウンロードしてmysqlをダウンロードしたまではいいのですが、mysqlのインストールができません。phpはどこでダウンロードできるのでしょうか？通常のphpレンタルサーバーでも大丈夫なのでしょうか？ 急速にお願い致します。
XAMPPの中に入っているMySQLと、オフィシャルサイトからダウンロードできるMySQLは、同じものでしょうか？それとも、XAMPPの方は、簡易版だったり、設定が簡易的なものになっているのでしょうか？
php while分からの全件表示について。<?php $pdo = new PDO($dsn, $user, $password, $options); $st = $pdo->query("SELECT * FROM table_A LEFT JOIN table_B on table_A.id = ctable_B.id "); while ($row = $st->fetch()) { $table_A1 = h($row['table_A1']); $table_A2 = h($row['table_A2']); $table_B1 = h($row['JOIN table_B1']); } ?> <body> <?= $table_A1 ?> <?= $table_A2 ?> <table> <?php foreach ($st as $row): ?> <tr> <td><?= $table_B1 ?></td> </tr> <?php endforeach; ?> </table> </body> -----------上記を表示させると とまと・・・（$table_A1） 50円・・・（$table_B） 100円・・・（$table_B） 200円・・・（$table_B） ----------- この様な形になるのが理想です。 tableAは問題なく表示出来ます。 この様にtableBを表示させたいのですが出来ません。 echoで表示させて確認した所、50円100円200円と表示されるので、ちゃんとテーブルの結合は上手く出来てるみたいです。 <?php foreach ($st as $row): ?> この部分が間違ってるのかなと思ってるのですが。。 ご教授を是非よろしくお願いします。
OpenPNE3.8をロリポップに設置したのですが、プラグインが入れられずに困っています。 WinSCPで作業をしています。 入れたいプラグインはopDiaryPluginです。http://plugins.openpne.jp/release/516 OpenPNE3.8自体は正しく動いているようですが、インストールしようとするとinstallation failedになります。 （サーバー名は***で隠してあります） OpenPNE3フォルダ内で ./symfony opPlugin:install opDiaryPlugin -r 1.5.1を入力 /home/users/2/lolipop.jp-5***/web/OpenPNE3$ ./symfony opPlugin:install opDiaryPlugin -r 1.5.1 >> plugin installing plugin "opDiaryPlugin" >> sfPearFrontendPlugin downloading opDiaryPlugin-1.5.1.tgz ... >> sfPearFrontendPlugin Starting to download opDiaryPlugin-1.5.1.tgz (78,808 bytes) >> sfPearFrontendPlugin . 中略 >> sfPearFrontendPlugin ...done: 78,808 bytes >> sfPearFrontendPlugin could not extract the package.xml file from >> sfPearFrontendPlugin "/home/users/2/lolipop.jp-5***/web/OpenPNE3/cache/.pear/opDiaryPlugin-1.5.1.tgz" >> sfPearFrontendPlugin Download of "http://get.openpne.jp/opDiaryPlugin-1.5.1.tgz" >> sfPearFrontendPlugin succeeded, but it is not a valid package archive >> sfPearFrontendPlugin Invalid or missing remote package file Plugin "opDiaryPlugin" installation failed: installation failedのままですが、とりあえず ./symfony openpne:migrate --target=opDiaryPlugin と入れてみたのですが以下のように出たあと、特にプラグインは追加されていません。 /home/users/2/lolipop.jp-5***/web/OpenPNE3$ ./symfony openpne:migrate --target=opDiaryPlugin >> file- /home/users/2/lolipop.jp-***.../glob_enable_plugin_path/45.php >> file- /home/users/2/lolipop.jp-***.../glob_enable_plugin_path/f1.php 中略 >> chmod 666 /home/users/2/lolipop.jp-5***...d3e/web/OpenPNE3/log/.gitignore >> chmod 777 /home/users/2/lolipop.jp-5***/web/OpenPNE3/web/cache Failed to download plugin list. >> doctrine generating model classes >> file+ /tmp/doctrine_schema_60190.yml >> tokens /home/users/2/lolipop.jp-55251a...se/BaseBannerUseImage.class.php 中略 >> chmod 777 /home/users/2/lolipop.jp-5***/web/OpenPNE3/web/cache >> migrate opDiaryPlugin is not supporting migration. >> plugin Configuring plugin - opAuthMailAddressPlugin >> plugin Configuring plugin - opSkinBasicPlugin >> plugin Configuring plugin - sfDoctrinePlugin >> plugin Configuring plugin - sfFormExtraPlugin >> plugin Configuring plugin - sfImageHandlerPlugin >> plugin Configuring plugin - sfProtoculousPlugin >> plugin Configuring plugin - sfSymfonyTemplatingViewPlugin 何が悪いんでしょうか？ pluginsフォルダ内には opSkinBasicPlugin/ opAuthMailAddressPlugin/ opDiaryPlugin-1.5.1.gz が入っています。 圧縮されたままなのが駄目なのでしょうか？ tar zxvf opDiaryPlugin-1.5.1.gz で解凍してみました。 pluginsフォルダ内は opSkinBasicPlugin/ opAuthMailAddressPlugin/ opDiaryPlugin-1.5.1/ opDiaryPlugin-1.5.1.gz package.xml が入っています。 OpenPNE3フォルダに戻り ./symfony opPlugin:install opDiaryPlugin -r 1.5.1 --force-license と入力 /home/users/2/lolipop.jp-5***/web/OpenPNE3$ ./symfony opPlugin:install opDiaryPlugin -r 1.5.1 --force-license >> plugin installing plugin "opDiaryPlugin" >> sfPearFrontendPlugin downloading opDiaryPlugin-1.5.1.tgz ... >> sfPearFrontendPlugin Starting to download opDiaryPlugin-1.5.1.tgz (78,808 bytes) >> sfPearFrontendPlugin . 中略 >> sfPearFrontendPlugin ...done: 78,808 bytes >> sfPearFrontendPlugin could not extract the package.xml file from >> sfPearFrontendPlugin "/home/users/2/lolipop.jp-5***/web/OpenPNE3/cache/.pear/opDiaryPlugin-1.5.1.tgz" >> sfPearFrontendPlugin Download of "http://get.openpne.jp/opDiaryPlugin-1.5.1.tgz" >> sfPearFrontendPlugin succeeded, but it is not a valid package archive >> sfPearFrontendPlugin Invalid or missing remote package file Plugin "opDiaryPlugin" installation failed: 他のプラグインも入りませんし、OpenPNE3.6のプラグイン同梱版を入れてみたのですが、ことごとくinstallation failedになります。 ロリポップでOpnePNE3.8を稼動させられる方、ご教授のほどよろしくお願いします。
MySQLのインポートについて さくらのレンタルサーバからミニバードへワードプレスサイトの移行を行っているのですが、MySQLをインポートしようとしても以下の画像のようなエラーメッセージがでて、インポートができません。 この場合、どのようにすれば、インポートが可能になりますでしょうか。 宜しくお願い致します。
MySQL初心者です。 画像の様にIDの列が2の時、数を-1したいのですが、やり方が分かりません。 下の様なUPDATE文で列を指定して数を-1したいと考えています。ご教授宜しくお願い致します。 UPDATE テーブル名 SET ID = 2
かなり初歩的な質問で申し訳ないのですが、MySQLを自分のWEBサイトで利用しようと思ったら、商業利用の場合は、オープンソース化しないと金を払わないといけないんですか？Twitterとかは、一々金を払って使っているのでしょうか？教えてください。
MySQLでのcaseとwhereについて質問です。 以下のようなテーブルがります。project_id|item_id|value 1 |67 |5 1 |68 |5 2 |67 |6 2 |68 |6 item_idが67が5以上かつitem_id68が５以上のproject_idを求める SQLで困ってます。 以下のようにcase文で縦持ちを横にします。 SELECT project_id, MIN(CASE item_id WHEN 67 THEN value END) AS 'c67', MIN(CASE item_id WHEN 68 THEN value END) AS 'c68' FROM results 上記で以下が取れます。 project_id|c67|c68 1 |5 |5 2 |6 |6 上記のSQLをサブクエリにすれば取れると思い以下のSQLを書きました。 SELECT * FROM (SELECT project_id, MIN(CASE item_id WHEN 67 THEN value END) AS 'c67', MIN(CASE item_id WHEN 68 THEN value END) AS 'c68' FROM results GROUP BY project_id) AS temp WHERE 'c67' >= 5 AND 'c68' >= 5 しかし、０件になってしまいます。 case文を使ったカラムには条件を指定できないのでしょうか？ よろしくお願いします。
SQL文を記録したい phpとMySQLを使用しています。 phpから投げたSQL文を、別のテーブルにログとして、時刻、アクセス元IP、操作したアカウント(MySQLのではなく、当該phpプログラムのログインアカウント)と共に記録したいと考えています。 が、 それらをINSERTしようとすると、MySQLのsyntax errorになってしまいます。 INSERTしようとしている文字列をSQL文として解釈しようとしているようなので、適切にエスケープしてあげればいいのかなと思いましたが、うまくいきません。 次善の策としてSELECT＝SEL INSERT＝INS など、適宜置換して登録し、読み出した後にでも再置換して復元すればいいようにも思いますが、、、あまりスマートではないのかなと。 何か上手い方法はないものでしょうか？
MySQLでMEDIUMTEXTとTEXTでパフォーマンスは変わりますか？ InnoDBの予定ですがMyISAMも使うかもしれません。
MySQLの移行について Wordpressを移行をしたいと思いDBをインストールしようとしたら容量オーバーになってしますのでBigDump というのをつかってインストールしようとしましたがエラーがでます インストールは開始されるのですが、インストール完了直後(100%になったと思った時)以下のようなメッセージが表示されます Error at the line 9792005: (20318, 18740, 0); Query: INSERT INTO `wp630357term_relationships` (`object_id`, `term_taxonomy_id`, `term_order`) VALUES (20318, 18740, 0) MySQL: Duplicate entry '20318-18740' for key 'PRIMARY' 元のサーバーからPHPMyadminでエクスポートする時に、50000位だった数値を100に小さくしました(大きすぎるとエラーが起きるらしいので) なぜ失敗するのか見当がつきませんでした。。エラーメッセージの意味を読み取れる方がいらっしゃいましたらアドバイスをいただけないでしょうか。。。
教えてください。 タクシーのデジタル無線のDBに使われている 文字コードは何ですか？utf-8/Unicode/Shift-Jis/Euc-jp/Sjis/Shift-jis(IOS-2022)/shift-jis(kana)/932-shift-jis 以上はためしました、以外で可能性がある文字コードを教えてください。 お願いします。
mysqlで勉強していますが、以下の命令を入力しても日本語入力が対応してなくてエラーが出ます。 どうすれば日本入力に対応できますか？create table member (id int primary key auto_increment, nam varchar(255) not null, sex char(1) default '男', old int not null, enter date not null, memo varchar(255) default null); ERROR 1067 (42000): Invalid default value for 'sex'
PHP・MYSQLでのUPDATE文が上手く動きません。SQLSTATE[HY000] [2002] No such file or directory とエラーを吐きますがどうしたらいいでしょうか。 自分で調べたのですが、もしかしたらiniファイルを弄らなければいけないのでしょうか？ もしiniファイルの変更でサーバーはさくらサーバーを使用しているのでiniファイルのいじり方を合わせて教えてくれると嬉しいです。 以下ソースになります。 <?php // htmlspecialcharsラッパー関数 function h($str) { return htmlspecialchars($str, ENT_QUOTES, 'UTF-8'); } $id = h($_POST['id']); $detail_name = h($_POST['detail_name']); $height = $_POST['height']; // Try～Catch try { // DB接続設定 $dsn = 'mysql:dbname = test_datebase; host = mytest.ne.jp; charset = utf8'; // ここでエンコーディングも指定する $user = 'testuser'; $password = 'testpass'; $options = array( PDO::ATTR_ERRMODE => PDO::ERRMODE_EXCEPTION, // SQL実行失敗時にも例外を投げるようにする PDO::ATTR_DEFAULT_FETCH_MODE => PDO::FETCH_ASSOC, // デフォルトフェッチモードを連想配列に設定 ); // DB接続してPDOインスタンス生成 $pdo = new PDO($dsn, $user, $password, $options); //SQL実行 $st = $pdo->prepare("UPDATE cast SET detail_name=?,height=? where id=?"); $st->execute(array($_POST['detail_name'], $_POST['height'], $_post['id'])); } catch (PDOException $e) { // エラーメッセージ取得する $error = $e->getMessage(); echo $error; } ////切断//// $dbh = null; ?>
phpmyadminで複数のCSVをインポートしました。 初心者ですので分かり辛かったら申し訳ありません。テーブル１ id name Ａ Ｂ Ｃ Ｄ 1 田中 ○ × × ○ 2 山田 × ○ × ○ 3 佐藤 × × ○ ○ 4 木村 ○ ○ ○ × テーブル２ id name Ａ Ｂ Ｃ Ｄ 1 田中 × × × × 2 山田 ○ ○ ○ ○ 3 佐藤 × × × × 4 木村 ○ ○ ○ ○ この２つのテーブルから、テーブル１のカラムＡとテーブル２のカラムＡのどちらかが○であれば表示して、できればid順に並べたいです。 両方○でも表示したいです。idとnameは全てのCSV共通です。 ↓最終的にこうしたい id name １Ａ ２Ａ 1 田中 ○ × 2 佐藤 × ○ 4 木村 ○ ○ <table> <tr><th>ID</th><th>名前</th><th>１Ａ</th><th>２Ａ</th></tr> <?php define('DB_DATABASE', 'test'); define('DB_USERNAME', 'root'); define('DB_PASSWORD', ''); define('PDO_DSN', 'mysql:dbhost=localhost;dbname=' . DB_DATABASE); try{ $db = new PDO(PDO_DSN, DB_USERNAME, DB_PASSWORD); $db->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION); $stmt = $db->prepare("select * from テーブル１,テーブル２ where テーブル１.Ａ like ? and テーブル２.Ａ like ?"); $stmt->execute(['○' , '○']); showAllMySQLData($stmt); }catch (PDOException $e){ echo "ERROR: " .$e->getMessage(); } $pdo = null; function showAllMySQLData($stmt){ while($row = $stmt->fetch(PDO::FETCH_ASSOC))){ $id = $row['id']; $name = $row['name']; $a1 = $row['テーブル１.Ａ']; $a2 = $row['テーブル２.Ａ']; echo "<tr><td>" . $id . "</td>"; echo "<td>" . $name . "</td>"; echo "<td>" . $a1 . "</td>"; echo "<td>" . $a2 . "</td></tr>\n"; } echo "</table>"; echo $stmt->rowCount() . "件見つかりました。"; } ?> 実際はテーブルが５つあり、全てカラム数も100を超えているのですが、５つのテーブルからそれぞれ指定したカラムの内どれか１つでも○のものを表示したいのです。 １つでも○があれば、×があっても×を表示したいです。 テーブル１のカラムＡが○のものだけを抽出するのはできたのですが、テーブルが複数になると書き方がさっぱりです・・・。 初心者すぎて全然違うことをしているかもしれませんが、ちっともうまくいきません。 エラーの文を見ると、 $id = $row['id']; $name = $row['name']; $a1 = $row['テーブル１.Ａ']; $a2 = $row['テーブル２.Ａ']; この部分が間違っているようなのですが、どなたか助けてください・・・。
MySQLについて質問です。 先ほど、手違いで以下のようなクエリを実行してしまったところエラーが出ずに完了のようになりました。alter table AAA type text; AAAはテーブル名です。AAAテーブルには以下のようなカラムがあり、4つレコードが挿入されていました。 | ano | int(11) | NO | PRI | NULL | auto_increment | | bno | int(11) | YES | MUL | NULL | | | utime | int(20) | YES | | NULL | | | cno | int(11) | YES | | NULL | | alter table AAA type text; を実行したのは間違いだったのですが、以下のような完了のようなメッセージが。。。 Query OK, 3 rows affected, 2 warnings (0.08 sec) Records: 3 Duplicates: 0 Warnings: 0 いったい何が行われたのでしょうか？ 推測ができる方お返事お願いします。
初めまして、下記の内容が分かる方がいましたらご教授願いします。 MySql + PHP (Smarty) データベースに以下の内容が登録されています。`time_added` varchar(20) default NULL, `date_added` date NOT NULL default '0000-00-00', `active` char(1) NOT NULL default '', `last_viewed` varchar(20) NOT NULL default '', 日付の取得はできるのですが時間を取得しようとしたら数字の羅列が表示され意味が分かりません。 初心者なので馬鹿な質問かと思われる方もいると思いますが、ご教授頂ければ幸いです。 AM 00:00 と分かりやすい形式で表示させたいので、どうかよろしくお願いします。
【SQL文法】 DELETE FROM Employees WHERE EmployeeID NOT IN ( SELECT EmployeeID FROM SalesGROUP BY EmployeeID HAVING COUNT (*) > 5 ) ; という文と DELETE FROM Employees WHERE EmployeeID IN ( SELECT EmployeeID FROM Sales GROUP BY EmployeeID HAVING COUNT (*) <= 5 ) ; というSQL文は同じ結果を返すと思ったのですが、 結果が異なりました(下の方が行数が多い) 理由を考えてみてもよくわかりません。 分かる方がいらっしゃったらご回答お願いいたします。 参考 問題「テーブルEmployeesから売上実績5件以下のデータを削除しなさい。」 employeesテーブル employeeid /integer /isnullはfalse salesテーブル employeeid / integer / isnullはtrue
SQLファイルをリモートのMySQLに読ませたい CentOSリモートサーバーに、Windows7のTera TermからSSHログインしています。いま、 手元のCドライブ 直下にSQL文が記述されたファイル work.sql を保存しています。 これをリモートサーバーで稼動するMySQLで実行させたいのですが、どのようにコマンドを入力すればよいでしょうか。
コアサーバーにwordpressを複数設置しました。サーバー内のpublic_htmlの中にアップロードしたのですが、このpublic _htmlを同じサーバー内にもう一つ作成する事は可能ですか？ 増やしたい理由としては、ドメイン設定時にpublic_htmlと特定ドメインを紐付けてしまった為、同じサーバー内で別ドメインでの運営が困難になってしまった為です。 よろしくお願いします。
重複分をなくしてSQLで抜き出したいです。例： id | name | sports 1 | 田中 | 野球 2 | 田代 | サッカー 3 | 佐藤 | 卓球 4 | 後藤 | サッカー 5 | 山田 | サッカー 上記例のような場合で、全てのスポーツの種類を抜き出したいのですが 重複しているサッカーは１つだけあればよくて 野球,サッカー,卓球 という結果を得てページで使いたいです。 phpなども組み合わせてできますか？ 宜しくお願いします。
MySQLでdecimal(22,11)のようなデータ型の時に3.14を入れると 3.14000000000のようになります。 0を付けないようにする方法はありませんか？また、0000000000000000000003.14000000000のようにならないのはなぜでしょう？
Smartyを利用してtplファイルに添付画像のようなテーブルを作成したいのですが、 折り返しがうまくいかず行き詰まっています。現在は PHP //オプションデータ $sqlGetView_shop_pay_data = "SELECT * FROM option_pay_data WHERE option_pay_item_id = '$item_id'"; $result_shop_pay_data = $dbh->query($sqlGetView_shop_pay_data); $op_pay_data_vals = $result_shop_pay_data->fetchAll(); $smarty->assign("option_pay_data", $op_pay_data_vals ); //オプション項目 $sqlGetView_shop_op_pay = "SELECT * FROM option_pay WHERE option_pay_id ORDER BY option_pay_sort ASC"; $result_shop_op_pay = $dbh->query($sqlGetView_shop_op_pay); $cate_op_pay_vals = $result_shop_op_pay->fetchAll(); $smarty->assign("option_pay", $cate_op_pay_vals ); //オプションマーク $sqlGetView_shop_op_mark = "SELECT * FROM option_mark WHERE option_mark_id ORDER BY option_mark_id ASC"; $result_shop_op_mark = $dbh->query($sqlGetView_shop_op_mark); $cate_op_mark_vals = $result_shop_op_mark->fetchAll(); $smarty->assign("option_mark", $cate_op_mark_vals ); HTML <table width="400px" class="option"> {%section name=option_pay loop=$option_pay nocache%} <tr> <th class="{cycle name=bgcolor values='odd,even'}">{%$option_pay[option_pay].option_pay_name%} </th> <td class="{cycle name=bgcolor values='odd,even'}"> {%section name=option_mark loop=$option_mark nocache%} {%section name=option_pay_data loop=$option_pay_data%} {%if $option_pay_data[option_pay_data].option_pay_option_pay_id eq $option_pay[option_pay].option_pay_id%} {%if $option_pay_data[option_pay_data].option_pay_mark eq $option_mark[option_mark].option_mark_id%} {%$option_mark[option_mark].option_mark_type%} {%$option_mark[option_mark].option_mark_text%} {%/if%} {%/if%} {%/section%} {%/section%} </td> </tr> {%/section%} </table> このようにしてるのですが、 これでは行一列に並んでしまいます。 画像のように配列させ、交互に色を変えるにはどうすればよいのでしょうか？？ お助けください。
phpstormを用いて仮想サーバーに作ったデータベースにアクセスできません。 以下のようなエラーメッセージが表示されてしまうのですが、これはどういう意味でしょうか？Connection to MySQL - db1@localhost failed: SSH: Auth fail
MYSQLに関連して いつも以下のミスをしてしまいます。①create table で AとBのフィールドを作成 ②no(Primary KEY)となるべきカラムを作成し忘れる ③後からAlter table name ADD no INTで no カラムは全てNullで作成できる ④レコードの上から順にそれぞれのno に連番を付せないため、Primary Keyを設定できない 初心者の質問で大変恐縮ですが、 ここで④の連番を付すSQL文をご教示願えますでしょうか。 それとも、no フィールドを作成すると同時に連番を付してこれをPrimary Keyとするような（③④を同時にこなせる）SQL文もあったりするのでしょうか？ 宜しくお願い申し上げます。
mysqlWorkbenchで、バッチ処理で複数のテーブルに対して処理を行えますか？
CPI（KDD）のシェアードプランACE01にてowncloudを動かす方法を教えて下さい。（又は動かす方法が記載されている参考URLを教えて下さい） ※他社VPSよりサーバー移転を行い、他のCMS等は移動できたのですがowncloudのみ移転できない状況です。 参考URL CPI：http://www.cpi.ad.jp/shared/ 参考URL owncloud:https://owncloud.org/
DB2 V8.1のインスタンスメモリーの確認方法を教えてください。ネットではdb2pd -dbptnmemで確認できると記載されておりますが、どうやらそのオプションは V8.1では使えないということがわかりました。 そこで、上記コマンドを使わなくてもインスタンスメモリーが確認できる方法を教えてください。 宜しくお願い致します。 以上です。
SQLについて質問です。 SQLｻｰﾊﾞｰということではなくﾋﾞｭｰｱｰｿﾌﾄなんですがそのｿﾌﾄがSQLしか対応していません。 そこで下記のような条件の時、構文がわからず手詰まりの状態です。A | B 予定 5/5 | 6/5 変更 5/15 | 6/1 実績 5/30 | - 上図のような表があり、"-"は空白です。 1.Aの実績とBの実績に日付が入っていれば大きいほうを表示する。 2.Aに日付が入っており、かつBの実績が"-"の時、Aの実績とBの予定を比べる。 1のほうは問題なくできるのですが、2のほうを実行するために構文をつらつらと長く書かないといけないのでしょうか？ 比較的短い構文で済むものを教えいただけませんか？ 宜しくお願い致します。
ワードプレスを導入してGoogleアドセンスを始めようと思ってます。最初から収益あるかわからないので、なるべく安くて初心者にも使いやすいレンタル・サーバーを探しています。 Googleアドセンスやっている方のオススメを教えてください！
人は死んだらどうなるんですか？
関係データベース管理システムにおける「スキーマ」とは何か、 簡単に教えてください。よろしくお願いします。
バックアップファイルとジャーナルファイルの違いを教えてください。
データベースの「主キー」とは何ですか？
概念データモデルによく使われる「E-Rモデル（E-R図）」とは どのようなものですか？
関係データベースの「射影」とは何ですか？
データベースについて質問です。 「タプル」とは何ですか？
エクセルVBA処理速アップについて 以下のエクセルVBAを組んでいるのですが、処理の速度をあげたいです。 無駄な記述があると思うのですが、調べても試行錯誤しても、上手くいきません。処理速度をあげる記述をご教示願います。よろしくお願い申し上げます。 ※別ファイルのAccessファイルをデータベースとして、「今年」テーブルと、「前年」テーブルそれぞれから条件抽出して、受注数量を合計させるものです。 ※SQLのVBAです。なお、実際ファイルのVBAは、以下記述の５倍量あります（内容は、セル範囲が違うだけで同じ。現在速度：約３０秒）。 ※「配列」というのを活用すれば速くなるようなのですが、理解できませんでした。。。 ーーーー【以下、VBA】－－－－－－－－－－－ Sub DSUM集計() Application.ScreenUpdating = False Dim db As ADODB.Connection Dim rs As ADODB.Recordset Dim mySQL As String Dim cmd As ADODB.Command Dim AA As Variant AA = "AND 営業箇所" & Range("C13") & " AND 拒 IS NULL AND 販売伝票 <" & Range("D13") & " AND 品名 " & Range("E13") & " AND 得意先名 " & Range("F13") & " AND 請求先名 " & Range("G13") & " AND 出荷先名 " & Range("H13") Set db = New ADODB.Connection db.Provider = "Microsoft.Ace.OLEDB.12.0" db.Open "\\▲▲▲\ACCESS.accdb" With Worksheets("補助計算") mySQL = " SELECT SUM(受注数量) FROM 今年 " mySQL = mySQL & "WHERE 納入期日=" & Range("B13") & AA Set rs = New ADODB.Recordset Set cmd = New ADODB.Command Set cmd.ActiveConnection = db cmd.CommandText = mySQL Set rs = cmd.Execute Range("I13").CopyFromRecordset rs mySQL = " SELECT SUM(受注数量) FROM 今年 " mySQL = mySQL & "WHERE 納入期日=" & Range("B14") & AA Set rs = New ADODB.Recordset Set cmd = New ADODB.Command Set cmd.ActiveConnection = db cmd.CommandText = mySQL Set rs = cmd.Execute Range("I14").CopyFromRecordset rs mySQL = " SELECT SUM(受注数量) FROM 前年 " mySQL = mySQL & "WHERE 納入期日=" & Range("K14") & AA Set rs = New ADODB.Recordset Set cmd = New ADODB.Command Set cmd.ActiveConnection = db cmd.CommandText = mySQL Set rs = cmd.Execute Range("M14").CopyFromRecordset rs mySQL = " SELECT SUM(受注数量) FROM 前年 " mySQL = mySQL & "WHERE 納入期日=" & Range("K15") & AA Set rs = New ADODB.Recordset Set cmd = New ADODB.Command Set cmd.ActiveConnection = db cmd.CommandText = mySQL Set rs = cmd.Execute Range("M15").CopyFromRecordset rs rs.Close Set rs = Nothing Set db = Nothing Application.ScreenUpdating = True End With End Sub ーーーーーーーーーーーーーーーーーーーー 以上
質問です。 MySQLのデータベースに画像データが入っているファイルの保存先アドレスを格納する 型はBLOB 型でいいですか？
SQLについて質問です。 GROUP BY命令は、グループ化したものを足して出力する、と思っていいですか？ よろしくお願いいたします。
linuxのMysql起動に関しての質問です。 ShellにてMysqlの再起動を行いたいのですが、権限の問題なのかわからないのですが、mysqlを停止するものの起動させることが出来ません。以下がshell内に書いて試しました内容です。 /etc/rc.d/init.d/mysqld restart /etc/init.d/mysqld restart sudo /etc/init.d/mysqld restart どのようにすればShellにてMysqlの再起動が出来るようになるのか何かお気づきの事がありましたらご教授頂ければと思います。
エクセルからVBAを利用してMySQLを参照する際の質問です。以下の公式サイトのサンプルにあるようにADOを利用して５Gバイト程のテーブルデータを参照しようとすると 「my sql client ran out of memory」というエラーが出てしまいます。 Dim conn As ADODB.Connection Dim rs As ADODB.Recordset Dim fld As ADODB.Field Dim sql As String 'connect to MySQL server using MySQL ODBC 3.51 Driver Set conn = New ADODB.Connection conn.ConnectionString = "DRIVER={MySQL ODBC 5.3 ANSI Driver};" & _ "SERVER=localhost;" & _ "PORT=3306;" & _ "DATABASE=test;" & _ "UID=root;" & _ "PASSWORD=pass;" & _ "OPTION=16427" conn.Open rs.Open "SELECT * FROM table", conn 上記の「＠rs.Open」の部分でエラーとなります。 おそらく参照しようとするテーブルが５Gバイトと大きな容量のためメモリがエラーになってしまうのかと思っています。 ウェブで検索すると「quick オプション」というのを利用するように 推奨されるのですが、いまいち使い方がわからず前に進めなくなってしまいました。 非常に初歩的な質問で恐縮なのですが、もし解決方法をお分かりになる方がいらっしゃいましたら、やり方を教えていただけると幸いです。 どうぞよろしくお願い致します。
ファンが投稿した内容をニュースのように表示するクエリ についてテーブル構造を含めた形で質問させていただきたいと思います。MySQLにおいて、テーブルの構造が A,アカウントテーブル(account) CREATE TABLE account( account_id INT NOT NULL AUTO_INCREMENT, nickname VARCHAR(255) NOT NULL, email ・・・・ passwordsalt ・・・・ ・・・・・ PRIMARY KEY(id), ・・・ )ENGINE=InnoDB; B,写真格納テーブル(photo) CREATE TABLE photo( photo_id INT NOT NULL AUTO_INCREMENT, title VARCHAR(255) NOT NULL, regi_date datetime NOT NULL, img midiumblob NOT NULL, ・・・・・ ・・・・・ status INT NOT NULL, PRIMARY KEY(id), ・・・ )ENGINE=InnoDB; ※statusが1の時、公開状態を表す C,ファンテーブル(fun) CREATE TABLE fun( fun_id INT NOT NULL AUTO_INCREMENT, playier_id INT NOT NULL, friend_id INT NOT NULL, status TINYINT NOT NULL, PRIMARY_KEY(fun_id) )ENGINE=InnoDB; ※status が 1の時、fun状態を指すこととします。 の3つあったとします。 質問１ ファンになっている写真記事を10件表示したい場合、どのようなクエリを発行すればよいでしょうか？ 友達の[ニックネーム]さんが[photo_id]の[タイトル]を投稿しました。的な内容を取得するためのクエリを書きたいのです。 SELECT * FROM photo WERE id = '2' OR id = 4 OR id = 10・・・ とやっていけば 確かに取得できますが、非効率な気がします。 またphpでPDOの場合クエリが固定されることが多いのでWHERE以降つなげていけないと思います。 質問２ また、このようなテーブル構造ではダメな場合、どのようにテーブルを設計すればいいでしょうか？ 宜しくお願い致します。
phpMyAdminでデーターベースのディスク使用量のオーバーヘッドを最適化するには？phpMyAdminでデーターベース内の「ディスク使用量欄」のオーバーヘッドを最適化したいと考えています。 以下のようなサイトに最適化の方法が記載されているのですが、 phpMyAdmin内で「オーバーヘッド検査」のリンクを見つけることができず困っています。 http://mbnk.blog120.fc2.com/blog-entry-34.html 具体的にどこに「オーバーヘッド検査」のリンクがあるか教えて頂きたいと思います。 または他にオーバーヘッドの最適化方法をご存知の方はご教示頂ければ幸いです。 よろしくお願い致します。
mySQLについて質問です。 今仕事でPHP、mySQLを扱っているのですが、 わからないことがあったので、ご教授いただけたらと思います。下記のようなテーブルがあるとしたとき まず、ID別で日付が新しいもの、さらに日付が同じ場合は時間が新しいもの というような条件で抽出をしようと考えています。 ID別で日付の最新のものをとることはできるのですが、 そこからさらにとなると抽出することができません。 また、最新日付、時間が取れればいいわけではなく、 レコードのすべてを表示したいと思っています。 **TBL** 主キー ｜ ID ｜ 日付 ｜ 時間 ｜ TEXT ――――――――――――――――――――――――― １ ｜ A ｜ 2015/07/05 ｜ 22:00 ｜ あああ ２ ｜ B ｜ 2015/07/06 ｜ 08:30 ｜ いいい ３ ｜ C ｜ 2015/07/09 ｜ 10:00 ｜ ううう ４ ｜ C ｜ 2015/07/09 ｜ 09:00 ｜ えええ ５ ｜ B ｜ 2015/07/11 ｜ 05:00 ｜ おおお ６ ｜ B ｜ 2015/07/11 ｜ 11:00 ｜ かかか **結果** 主キー ｜ ID ｜ 日付 ｜ 時間 ｜ TEXT ――――――――――――――――――――――――― １ ｜ A ｜ 2015/07/05 ｜ 22:00 ｜ あああ ３ ｜ C ｜ 2015/07/09 ｜ 10:00 ｜ ううう ６ ｜ B ｜ 2015/07/11 ｜ 11:00 ｜ かかか 結果が上記のようにするにはどのようにすればいいでしょうか？ ※カラムは他に10ほどありますが、省略… 本来は使っているバージョンなど書く必要があると思いますが、 用意してもらったものを使っているためわかりません… この抽出をしてからさらにほかのテーブルと結合をし、 いろいろな条件を加えていくことになるので、 できるだけ簡潔なもの、処理が速いものをご教授お願いしたいです。 わかる方お力添えをよろしくお願いいたします。
mysqlで2つのテーブルをロックする場合について TBL_A id grp 除外 -------------------- A1 XX 1A2 XX A3 YY A4 YYA5 ZZ TBL_B grp 除外 --------- XX 1 YY ZZ TBL_Aからid順に１つずつレコードを抽出することが目的です。 ただしTBL_Aの 除外=1 は除きます。これは一度取得した事を示す除外フラグです。 TBL_Bは取得しないグループを定義しており、グループ内のidが取得されたら、 ある一定期間同じグループのものを取得しないよう、これにも除外フラグを立てます。 （TBL_Bのフラグは数分おきに解除されます） この例で次に取得するのは、A3です。 (A1はTBL_1に除外フラグあり、A2もTBL_BのXXに除外フラグあるので） 取得したら、TBL_AにもTBL_Bにも除外フラグを立てないといけません。 TBL_Aから適切な次のレコードをロック付きで取るには from TBL_A a where a.除外 is null and not exists( from TBL_B b where b.除外 is not null a.grp = b.grp) のようにすれば取れると思いますが、TBL_Bのロックはその後になります。 しかし、TBL_AロックとTBL_Bロックの間に、 TBL_Bが別プロセスによって除外=1されてしまう可能性はありますから、 TBL_Bのロック時に、除外 is not null で取れなければ失敗として、 もう一度TBL_Aの取得からやり直すという方法を取るつもりです。 質問なのですが、こうするしか方法はないのでしょうか？ ２つのテーブルを割り込まれないよう一気にロックしたり、もっとスマートな実装はありませんか？
MySQLで特定のカラムだけ表示結果を取り除くクエリを書きたい。 全カラム取得の場合 SELECT * FROM Table_name;ということは把握できています。カラムを数件加算的に取得したい場合は SELECT id,col1,col3,col4 FROM Table_name; という風にできることも把握しています。 質問１ では、減算的に特定のカラムを取り除く方法はどうすればよいのでしょうか？ 利用用途で考えていることは、バイナリデータを保存してあるフィールドにおいて、 バイナリデータが大きい場合にわざわざそのバイナリーデータのカラムのデータを取得したくはないのです。 DESC table;の情報は id col1 col2 col3 col4 だとし、 col2だけ取り除く場合、どうすればよいのでしょうか？ 質問２ そもそもこのように除外するクエリを書くのであれば、別テーブルを作り、結合する方法を選んだほうがいいのでしょうか？
MySQLの接続方法に関して教えてください。 MySQLをインストールしました。 Win8です。net start MySQL5.6でサービスを開始した後、 mysql -u root -pを試しましたが「mysqlは内部コマンドまたは外部コマンド、操作可能な プログラムまたはバッチファイルとして認識されていません。」とでます。 mysql.exeファイルのあるPATHは登録済みです。 どうすれば接続できますか？
Mysqlについて質問です。 最近授業でxamppを学び初めまして いまMySQLでアドレス帳を作る、ということをしています。が、講師がまったく教えてくれず 1から手探りで調べています。 しかし、何分知識がないので全くわかりませんん。 どなたか教えてください。ヒントでもいいので
データベースの設計について質問です。 ツイッターのフォローの仕組みを設計したいと思っているのですが、 どのように管理すれば良いでしょうか？以下のようにfollowテーブルを作成してUserテーブルと紐ずけてfollowの度にレコードを増やしていくやり方で合っていますでしょうか？ followテーブル ｜自分のユーザー名又はID ｜ フォロー相手のユーザー名又はID | これだと各ユーザーがフォローした分だけ大量にfollowreレコードができてしまう事になり引っかかっています。 効率の良いやり方があれば教えていただけると幸いです。 よろしくお願いします。
MySQLのユーザー権限で、「データベースの作成はできるが、自分が作ったデータベースしか更新できない」 というユーザの設定はできないものでしょうか。ファイル管理の権限とは異なると知りましたが、 データベースの作成、テーブルの作成などひと通りの練習をする環境を 作って練習をさせたいと思いました。 この場合、管理者が、練習用のデータベースを作って、その中ではなんでもできる権限を 与えることになりますか？ データベースを作るとこは別にして、 テーブルを作るところから、挿入、検索、更新と操作はできますから、 それなりに学習環境は作成できると思いました。 なにか他に練習用のユーザを設定する方法があれば教えて下さい。
MySQL複数一致検索について 以下のテーブルを想定しています。ttps://ideone.com/gD6E0U SELECT * FROM `test` WHERE card1_id=10 AND card2_id=20 AND card3_id=30; とした場合、card1_id, card2_id, card3_idがそれぞれ10, 20, 30の場合一致します。 しかし、このcard1, 2, 3の順番を気にせず、 10, 30, 20や 20, 30, 10といったように3つそれぞれが入れ替わっても検索結果としてヒットするようにしたいです。 ORでくくるとすごくSQLが長くなり、可読性も悪くなります。 おそらくパフォーマンスも落ちると思います。 何かいい方法はありませんでしょうか？ テーブルの構造はもう実用段階になっているのでできれば変更したくありません。
phpmyadminを使ってMySQLの勉強をしています。参考書(基礎からのMySQL)を読みながらphpmyadminの「SQL」ボタンを押してSQL文を入力し実行していろいろ試しているのですが、トランザクションがうまくいきません。 まず「start transaction;」を入力し実行ボタンを押すと「返り値が空でした 」と表示されます。背景が黄緑色なのでエラーではないと思います。次に「SQL」ボタンを押し、 「delete from tb where bang='test';」 と入力しbang='test'の行を削除しようとします。 「表示」ボタンを押すと「1 行削除しました。」という結果が表示されます。 次にまた「SQL」ボタンを押し、 「rollback;」 と入力し実行ボタンを押すと、「返り値が空でした 」と表示されます。これも背景が黄緑なのでエラーではないと思います。その結果、先ほど削除したはずのbang='test'の行は消えてなくて元のまま、というのがトランザクションだと思うのですが、実際「rollback;」を実行して、「表示」ボタンを押してみると、やっぱりbang='test'の行は消えています。 本の通りやっていると思うのですが、何か勘違いしているでしょうか？どうすればトランザクションができるでしょうか？ 本では「MySQLモニタ」というプログラムでMySQLを操作する、と書いているのですが、 MySQLモニタでやってないからダメなんでしょうか？ 使っているDBの種類はinnoDBです。
PHPで上手くmyphpadminのデータを全件表示できません。 SQLに入ってるデータをFOR文で繰り返し、全件取得したいのですが、一件しか表示できません。全件表示させたいのですが、どうしたらいいでしょうか？ 以下現在のPHPになります。 <?php define('DB_HOST', 'mysql○○.db.sakura.ne.jp'); define('DB_USER', 'user'); define('DB_PASS', 'pass'); define('DB_NAME', 'dbname'); $con = mysql_connect(DB_HOST, DB_USER, DB_PASS); if (!$con) { exit('データベースに接続できませんでした。'); } $result = mysql_select_db(DB_NAME, $con); if (!$result) { exit('データベースを選択できませんでした。'); } $result = mysql_query('SET NAMES utf8', $con); if (!$result) { exit('文字コードを指定できませんでした。'); } $result = mysql_query('SELECT * FROM cast', $con); while ($data = mysql_fetch_array($result)) { $no = $data['id']; $name = $data['detail_name']; } $rows = mysql_num_rows($result); $con = mysql_close($con); if (!$con) { exit('データベースとの接続を閉じられませんでした。'); } ?> <!DOCTYPE html> <head> <meta charset="UTF-8"> </head> <body> <table> <?php for ($i = 0; $i < count($rows); $i++) { ?> <tr> <td><?php print $no ?></td> <td><?php print $name ?></td> <td>登録日</td> <td>メモ</td> </tr> <?php }; ?> </table> </body>
また、SQLではじかれてしまいます。今回は、テーブルの追加までは上手に言ったのですが、 insest into がうまくいきませんどなたかよろしくお願いします。create database 鉄道; use 鉄道; /*最大横文字は８０文字* / /*会社情報*/ CREATE TABLE 会社情報 ( 列車会社ID CHAR(3), 列車所属会社 CHAR(10), 主に使われているところ CHAR(10), PRIMARY KEY (列車会社ID) ); /*駆動制御情報系*/ CREATE TABLE 駆動制御方式 ( さまざまな制御システム CHAR(20), システムID CHAR(3) , PRIMARY KEY (システムID) ); /*時速情報*/ CREATE TABLE 時速情報 ( 鉄道車両ID CHAR(8), 最高時速 CHAR(7), 起動加速度 CHAR(7), 制御システムID char(30), 車両 CHAR(6), PRIMARY KEY(鉄道車両ID), FOREIGN KEY (制御システムID) References 駆動制御方式 (システムID) ); /*保安情報*/ CREATE TABLE 保安情報 ( 制動方法ID CHAR(20), 保安装置 CHAR(7), 制動方法 CHAR(20), PRIMARY KEY (制動方法ID) ); /*鉄道情報の表*/ CREATE TABLE 総合情報 ( 列車ID CHAR(8), 制御方法ID CHAR(20), 車両ID char(8), 会社ID char(3), Primary key (列車ID), FOREIGN KEY (会社ID) References 会社情報(列車会社ID), FOREIGN KEY (車両ID) References 時速情報(鉄道車両ID), FOREIGN KEY (制御方法ID) References 保安情報(制動方法ID) ); は上手に行きましたが、 insert into 会社情報 values('001','京成電鉄','京成本線'),('002','営団地下鉄','都営浅草線'),('003','京浜急行電鉄','京急本線'),('004','JR東日本','JR東日本エリア内'),('005','JR東海','JR東海エリア内') ,('006','JR西日本','ＪＲ西日本エリア内') insert into 駆動制御方式 values('VVVFインバータ駆動方式','001'),('つりかけカルダン駆動','002'),('カルダン駆動','003'),('つりかけ駆動','004'); insert into 時速情報 valuse ( '001-001','160','3.4','001','AE100', ); の制御駆動方式から下でエラーが出てしまいます。 スイマセンがどなたかよろしくお願いします。
DB(MySQL)のロックの方法を解説したサイトはありませんか？Webサービスを作成しています。 Webで情報収集しています。 Web上にあるサンプルのコードで、ファイルの読み書きだとロックをしているものがほとんどなのですが、DBになるとほとんどのサンプルでロックをしていません。 なぜでしょうか？
他のセッションを指定してSQL_TRACEをしようとしていますが 処理事態はエラーとかでる訳でもなく実行できます。 しかし、実行した後のトレースが出力されません。普通に、トレースしたいユーザーでログインをして「alter session set SQ_TRACE=TRUE;」を 実行するとトレースファイルができるのは確認しました。 DBMS_SYSTEM.SET_SQL_TRACE_IN_SESSIONを使う上で他に設定する必要が あるものがあれば教えてください。 宜しくお願いします。 --接続する sqlplus /nolog connect testuser/password@ORAORADB --自分自身のSIDを確認する SELECT USERENV('SID') FROM DUAL; --SID、SIRIAL#を取得する select sid,serial# from v$session where sid=261 --特定ユーザのセッションでトレースを開始する connect system/password@ORAORADB show parametr user_dump_dest NAME TYPE VALUE ------------------------------------ ----------- ------------------------------ user_dump_dest string /u01/app/oracle/diag/rdbms/ora dbutf832k/ORADBUTF832K/trace SYS.DBMS_SYSTEM.SET_SQL_TRACE_IN_SESSION(261, 11, TRUE); select OWNER_NAME,COMPANY_CODE,PDQ_CODE,DV_CODE,FG_NUM, from TB090_T200 where company_code='3139' and pdp_code='T73283' EXEC SYS.DBMS_SYSTEM.SET_SQL_TRACE_IN_SESSION(261, 11, FALSE); exit OS:Redhat Enterpriser Linux 6 DB:Oracle12cR1
# mysql コマンドでエラーが発生します。 サーバー引っ越しの為、mysqlデータはSSHでmysqldumpをして取得しました。そのsqlファイルをサクラインターネットサーバーPHP 5.4にてmysql コマンドにてアップロードすると Your MySQL server version for the right syntax to use near 'DEFAULT CHARSET=latin1' at line 7 というエラーがでてしまいます。 文字コードのlatin1をShift-JISなどに変更しても同じエラーが発生します。 これらのエラーを取りそ除きsqlファイルをサーバーにアップするにはどうしたら良いでしょうか。 何卒よろしくお願い致します。
データベース（MySQL）設計について お世話になります。まだまだMySQLを勉強し始めて少したった辺りでこの場合どうしたら良いんだろうという疑問が沸いてきたのでお知恵を拝借できればと思います。 1つのユーザーIDの元に複数のデータを作るようなシステムの場合、どのように設計するべきでしょうか？ 例えばYahoo!オークション等もそうだと思うのですが、ユーザーID1つにつきシステムの制約が無ければ複数出品できますよね？ 例えばユーザー情報テーブルのユーザーID hogeの元に、出品テーブルの出品ID1、2、3・・・と続いていくと思います。 素人考えではユーザー情報のテーブルと出品情報のテーブルを別に分けているとは思うのですが、主キーがユーザーIDの場合、出品テーブルの出品IDのテーブルには当然出品者情報（ユーザー情報テーブルのユーザーID）が必要になると思います。 この場合複数出品している状態だとID hogeに対して検索結果が複数出てきますよね。 まだまだ複数の書籍やWebサイトをかじった程度ですが、主キーはそれ1つで一意のレコードを特定できるものという記述が見られます。 これは「ユーザー情報テーブル内」での話なのか、「主キーを元に他のテーブルを検索した時」もそうであるべきなのか、どういう設計方法が正しいのだろうと悩んでいます。 後者であれば今回のこの方法はNGという事になるのですが、そもそものリレーショナルデータベースという物がどういうものなんかいまいちつかめていません。 （色々検索してみたのですが、上記に該当するような1つのIDの下に複数の子IDをぶらさげる、ような記述はちょっと見つけられませんでした。） ほかに考えた方法といえば、出品数に上限をつける（例えば5個まで）のであれば、ユーザー情報テーブルに user_id, user_pass, exhibit1, exhibit2 exhibit3, exhibit4, exhibit5 と7つのテーブルを作って何らかの方法で出品するたびに重複しない値を与えて、出品IDとするという方法も考えましたがなんとなく違う気がしています。（無駄が大きすぎる気がします） このように、1つのIDに複数の子IDのような物を作成（語弊があるかもしれませんが伝わりますでしょうか）する必要がある場合、どのようなテーブルレイアウトにするべきでしょうか？
hourというテーブルに ｜user｜ date ｜no｜value｜ ｜001 ｜2015-06-04 06:00:00｜01｜ 20 ｜｜001 ｜2015-06-04 06:00:00｜02｜ ５0 ｜ ｜001 ｜2015-06-04 07:00:00｜01｜ ６0 ｜ ｜001 ｜2015-06-04 07:00:00｜02｜ ９0 ｜ ｜001 ｜2015-06-04 08:00:00｜01｜ 110 ｜ ｜001 ｜2015-06-04 08:00:00｜02｜ 180 ｜ ｜002 ｜2015-06-04 06:00:00｜01｜ 230 ｜ ｜002 ｜2015-06-04 07:00:00｜01｜ 280 ｜ とたくさんのレコードがあります。 このテーブルのデータを user毎で noごとに 指定の日時に対してvalueの数値の合計を計算して dayというテーブルに追加したいです。 dayテーブルは以下のようになっています。 （dateのところは2015-06-04というように日にちのみのデータが入る） ｜user｜ date ｜no｜value｜ どのようなクエリーを実行すればいいでしょうか ご教授よろしくお願いします。
php、mysqlが思ったように動かない phpとmysqlを使っています。HTMLのセレクトリストを使い、SELECT文のORDER BY句をいくつかのパターンから選べるようにしているのですが、ORDER BY句の二つ目以降に設定した条件が動いていません。 また、セレクトリストから最初に選択した時はきちんとORDER BY句が切り替わり動くのですが、二回目以降の選択ではページの読み込みは入っても並び順は変わりません。 どうしたらきちんと動くようになるでしょうか。 セレクトリストは複数使っていますが、問題のセレクトリスト以外はきちんと作動します。 また、phpMyAdmin上ではどのタイプのSQLも動き、二つ目以降のORDER BY句も働いています。 ---------- <?php $select1 = "%"; $sql = "SELECT tbl01.day,tbl01.id,date_format(tbl01.day,'%Y/%m') AS month,tbl02.number AS projects_number,tbl02.person,tbl03.number AS client_number,tbl04.number AS keiyaku_number FROM tbl01,tbl02,tbl03,tbl04,tbl_05 WHERE tbl01.useflag = tbl02.number AND tbl02.client_id = tbl3.number AND tbl01.id = tbl05.id AND tbl05.keiyaku = tbl04.number GROUP BY tbl01.id,month,projects_number HAVING tbl02.person like '" .$select1 ."' ORDER BY tbl01.id"; if (isset($_POST['select1']) OR isset($_POST['select2'])){ $select1 = $_POST['select1']; $select2 = $_POST['select2']; if ($select2 == "1"){ $sort = "tbl01.id"; }else if ($select2 == "2"){ $sort = "keiyaku_number,tbl01.id"; }else if ($select2 == "3"){ $sort = "client_number,projects_number,tbl01.id"; } $sql = "SELECT tbl01.day,tbl01.id,date_format(tbl01.day,'%Y/%m') AS month,tbl02.number AS projects_number,tbl02.person,tbl03.number AS client_number,tbl04.number AS keiyaku_number FROM tbl01,tbl02,tbl03,tbl04,tbl_05 WHERE tbl01.useflag = tbl02.number AND tbl02.client_id = tbl3.number AND tbl01.id = tbl05.id AND tbl05.keiyaku = tbl04.number GROUP BY tbl01.id,month,projects_number HAVING tbl02.person like '" .$select1 ."' ORDER BY '" .$sort ."'"; } ?> //以下HTML部です <body> <select name="select1" onchange="submit()"> <option value="%" <?php if ($select1 == "") {echo "selected";} ?>>すべて</option> <option value="1" <?php if ($select1 == "1") {echo "selected";} ?>>1</option> <option value="2" <?php if ($select1 == "2") {echo "selected";} ?>>2</option> </select> / ソート <select name="select2" onchange="submit()"> <option value="1" <?php if ($select2 == "1") {echo "selected";} ?>>ID</option> <option value="2" <?php if ($select2 == "2") {echo "selected";} ?>>契約種別</option> <option value="3" <?php if ($select2 == "3") {echo "selected";} ?>>クライアント</option> </select> <?php //ここで一度echoで$sqlの内容を書き出し、この時点できちんと反映されていることを確認しました。 $res = $mysqli->query($sql); if (!$res) { print('クエリーが失敗しました。' . $mysqli->error); $mysqli->close(); exit(); } while($row = $res->fetch_assoc()){ echo "<tr>"; //ここからHTMLへの出力が続きます…… } ?> </body>
mysql php でスレッド式掲示板を作成しています。 例yahoo掲示板や発言小町などでスレッド横にレス件数が表示されていますが、 そのレス数の表示の仕方がわかりません。 テーブルは、スレッド用と返信用の２つです。 共通のカラム名はｇです。 mysqlへはＰＤＯでの接続です。 基本的な考え方など教えていただけると助かります。 ネットでも調べましたが、うまく理解できませんでした。 池袋のジュンク堂などでいろいろ本を読みましたがレス数を表示させる内容のものが 見当たりません。 参考書籍などありましたら読みたいのですが。 よろしくお願いいたします。 私は、HTMLとCSSはわかりますが、PHPとmysqlは初心者です。 ＰＨＰの書籍は3冊と基礎からのmysql改訂版は読んでいます。
tbl01とtbl02の二つのテーブルを用いた結合をしたく思っています。 tbl01は1日毎、人毎にデータがあります。SELECT tbl01.day,tbl01.id,tbl02.name,date_format(tbl01.day,'%Y/%m') AS month FROM tbl01,tbl02 WHERE tbl01.number = tbl02.number tbl01のnumberに対応してtbl02のnameを表示したく結合したのですが、一人につき一つのnumberのときにしかnameを返してくれません。 Aさんが別の日に1と2のnumberを持っていたとき、2のnumberの日のデータだけ表示され、1のnumberの日のデータは表示されなくなってしまいます。 そうではなく、全日分のデータを表示したいのですが、どう結合すればよいでしょうか。
5年間ほど利用していた wordpress について改善策を教えて下さい。 MySQLの容量が制限ギリギリ（500MB / 数無制限）になってしまい ホスティング会社から対応を迫られています。ドメインの変更をせず （アクセス数が多いので） 今までの投稿を過去ログとして保存 改にMySQLを追加 (別のDB） して投稿する方法はありますか？
ラズベリーパイでのMySQLの文字コード設定 ラズベリーパイで課題をやっていて、全然先に進めません。 色々調べていますが /etc/mysql/my.cnf でlatin1となっているのをutf8に変えるということばっかり書いていて、どのように変えるのかワケわかりません。 何かコードを追加しなければならないのは分かりますし、みんな同じこと書いてますがターミナルでやってもできません、文字打てないですし。 なんかスクロールしたらAとかBとか出てきて意味不明だし。 直接my.cnfのファイルへ行って編集するのかとおもいきや「read only」で編集できません。 どうしたらいいんですか。
MySQLのクエリーについて教えてください。下記のようなカラムが1つのテーブルがあったとして、 no --- A01 A02 A03 これをSELECT文を駆使して下記のように表示したいと考えています。 no no ------- A01 A02 A01 A03 A02 A03 で考えたSELECT文が下記なのですが、 select t1.no, t2.no from Table t1, Table t2 where t1.no <> t2.no; これだと下記のようになってしまいます。 no no ------- A01 A02 A01 A03 A02 A01 A02 A03 A03 A01 A03 A02 "A01 A02"と"A02 A01"を重複と見なして排除したいのですが、どのようなSELECT文にすれば良いでしょうか？ よろしくお願いします。
for($i=1; $i<=31; $i++){ $insql = "INSERT INTO tbl (column1,column2) VALUES (value1,value2)";$mysqli->query($insql); } 以上のコードを作動させたとき、エラーなく処理は終わるのですが、テーブル内にデータが作成されておらず困っています。 for文が動いていること、$insql内に文字が代入されていることは確認しているので3行目が動いていないのかなと思うのですが、原因がわかりません。 どうすればよいでしょうか？
XAMPP、久しぶりに触ったらエラーが出て解決策が見つかりません。 以前PHPの勉強のためXAMPPをインストールしました。四苦八苦しながらも初期設定、文字コードの設定等を済ませて問題なく動作するまでにもっていきました。 本日数ヶ月ぶりにXAMPPを使おうと思ったら以前は問題なく動作していたページがエラーになってしまいました。フォームのページやデータベースを利用したページ、全部です。 どうしようもないので一度XAMPPをアンインストールし、再インストールしました。 しかし、htdocs下のURLを入力しても【Object not found! Error404】と表示されてしまい、http://localhost/security/等の従来あったページも同じ現象でした。 XAMPPのコンパネはApache,MySQL共にRunningと表示されています。Adminをクリックするとそれぞれ【http://localhost/dashboard/】【http://localhost/phpmyadmin/】のページには飛びます。 この状況、どういった理由が考えられるでしょうか？ 特にPCの設定をいじったりはしてないのですが。。。気になっているのはマンションで加入しているインターネットサービス会社が変わったことくらい。。。関係ないですかね； 何か解決策はありますでしょうか？ こういった環境の知識が乏しいもので頭の中が？？？？状態になってしまっています。 お力添え頂けると嬉しいです。どうぞ宜しくお願い致します。
xamppのsecurityが開けません。 xamppのインストールが終わったばかりでこれなので、 せっかく始めようと思っていたのに先に進めず困ってます。localhost/securityにアクセスすると、 Object not found!と表示されます。 ファイアーウォールやskypeの設定もしましたし、 フォルダの読み取り専用のチェックも外しました。 そもそもxamppのファイルの中にsecurityのフォルダもありません。 PCを変えてもダメでした。 他に原因と考えられる事があれば教えて下さい！ もしかしたら初歩的なミスかも知れませんが＾＾；
データベースについて 現在データベースアプリケーションを作成しています。例えばseitoTblというテーブルがあり、フィールドは生徒コード,クラスコード,生徒氏名,性別,出席番号があります。生徒コードは主キーでクラスコードは外部キーとなっています。生徒コード→"2013101～2013631"が3学年、"2014101～2014631"が２学年 "2015101～2015631"が1学年 クラスコード→"C01～C06"が1学年、"C07～C12"が2学年、"C13～C18"が3学年 もし、現在の3学年が卒業し今の2学年を3学年に、1学年を2学年に、新入生として新たに1学年を追加する場合、在校生のseitoTblのクラスコード全てを変更しないとだめなんでしょうか？例えば2学年の生徒コード"2014111"の人のクラスコードを"C07"から"C13"に変更するということです。
MySqlのテーブル作成時に行数０で返り値が空になる現象についてXamppを用いてローカル環境内に、phpMyAdminでデータベースを作成し、そこで新規テーブルを作成した際に、「返り値が０でした（行数０）」と表示され、テーブル自体は作成されているようなのですが、テーブル作成時のあらゆる入力値が全く反映されない（表示されない）現象が起き、大変困っております。 作成したテーブルをSELECT＊FROMで表示させようとしても、「返り値が空でした」と表示さるのみで、何も見ることができません。しかし、テーブルの構造は確認可能で、入力したとおりのカラム名と変数型になっていました。 また、この状態のテーブルにカラムを挿入したり変更することはできず、何を行っても上記の戻り値が空、という旨のメッセージが表示されるのみで、エラーも吐きません。テーブルを削除した際も同様に返り値が空、といわれます。 既に作成してあるテーブルについては、カラムの挿入、変更などが可能で、それらの改変についても、異常なく保存されます。 同様の問題の解決策として挙がっていた、再起動やキャッシュの削除、履歴の削除などは行いましたが、効果がありませんでした。 どなたかこの問題を解決するお知恵をお貸しいただけないでしょうか？ よろしくおねがいします。 環境はWindows8.1(32bit),Xampp, Apache, phpMyAdmin です。
PHPとMySQLで、ID、パスワードを入力してログインする画面を作りたいです。PHPは勉強して、テキストボックス、ログインボタン(submitボタン)など表示し、ログイン画面を作ることができました。IDとパスワードがあっていたら、この画面入りたいという画面も作成中です。 ですが、その後の作り方が分かりません。 MySQLを本などで勉強してるのですが、分かりにくく困っています。PHPとMySQLでデータベースシステムを作成したりするのに、何かオススメの本などありましら教えてください。 因みにXAMPPをインストールして作成しています。
MySQLデータベースに関して テーブルのカラムが id 名前 性別 年齢 職業 と5つあり、 1.[名前]が重複している[名前]を表示するSQL文2.[名前]、[性別]、[年齢]が重複している[名前]を表示するSQL文 の書き方を教えてください。 テーブルは一つだけです。 例> 1 太郎 男 30 大工 2 花子 女 21 看護師 3 太郎 男 30 介護士 4 博士 男 30 大工 5 洋子 女 30 保育士 6 花子 女 33 看護師 1.の場合は 太郎 花子 2.の場合は 太郎 となります。 よろしくお願い致します。
javaでDBにあるテーブルにＳＱＬ文でデータを追加させたいのですが やり方がわからないのですが教えてください 項目名はNO,NAME,PLACEの三つでバインド変数を使います
apacheのエラーについてご質問です。 wordpress初心者で、先日からxamppを導入し、ローカル環境で作業しておりました。しかし、ある時から急にエラーが表示されるようになり、全く作業ができなくなったため、ご教授頂きたく、こちらで質問させて頂きます。 【環境】 ・win8 【エラー前の環境】 いろいろな記事を参考にし、xamppをインストール。apacheとmysqlを起動したりして・・・なんとかワードプレスで作業。 【エラー後にしたこと】 一旦xamppをアンインストール。「wordpress」ファイルだけコピーして、作成していたデータは別のところに保管。改めてxamppをインストールし、最終的には作成していたデータを使いたい。が、その前のapache起動後の作業でエラーが発生した。 【エラー内容】 apacheとmysqlは起動しているが、localhostやlocalhost/security/に接続するとエラーになる。具体的にはObject not found 「localhost 404エラー」と表示される。無知なため何か設定を変えたりした覚えはないのですが、気づかないだけかもしれません。 【何をしたいか】 そもそもアンインストールする前のエラーを解決したいところですが、とりあえずはapacheの管理画面にアクセスして、言語設定画面やセキュリティー設定画面を開きたいです。 【自分なりに考えた原因】 最初のエラーがあった時は、外でテザリングしていた時です。今までは自宅の無線ルーターに繋いで作業をしていました。ネット接続の環境に左右されるのか分かりませんが、これくらいしか原因が見当たりません。 参考サイト：http://bazubu.com/xampp-wordpress-23795.html 上記のサイトを参考に進めているのですが、http://localhost/security/splash.phpが開けないので、先に進めないというのが現状です。 長文かつ分かりづらい文面で恐れ入りますが、ググっても解決できず、非常に困っております。どなたかお分かりになる方がいましたら、教えていただきたいです。宜しくお願い致します。
wordpressで作ったサイトが504で見れないので助けてください。■ 環境 さくらvps OS ubuntu php5-fpm nginx mysql wordpress はじめまして サイトを運営していましたが、 昨晩突然、504の表示がされてサイトがアクセスできなくなっています。 nginxのエラーログを確認した所 error log 11: Resource temporarily unavailable との表記がありました。 原因は不明で、なにかをしたから起きたのではなく突然、504 or 502 が宣告されました。 永続的にサイトが表示されないのではなく、 3時間くらい落ちて、1時間くらいつながってを繰り返しています。 プラグインを止めたり php、nginxの設定を見なおしたが変わらず。 そこで新サーバー（以降devと表記します。）で環境を作って504が表示されてる サイトの（以降mainと表記します。） wp-content 以降をdevに移植し mainのmysqlをdumpしてみましたが状況はかわらず。 試しに、databaseを新しく作って見たところ 何事もなく表示されました。 databaseに問題があるように感じました。 今後自分がやっていく手段としてなにが最適でしょうか？ まるで勉強不足で八方ふさがりなので ご存知の方いましたら指導していただきたいです。 よろしくお願いします。
Rubyコマンドプロンプトについて Rubyコマンドプロンプトをスタートメニューより開くと、 'MySQL'は、内部コマンドまたは外部コマンド、操作可能なプログラムまたはバッチファイルとして認識されていません' の表示が出てきます。 MySQLとRubyは環境変数のPathで入れてありますが、変わらずエラー表示されます。 また、Rubyコマンドプロンプト上ではMySQLの操作が出来ないようです。 windowsのコマンドプロンプトではMySQL、Rubyの操作が出来ますが、PathでRubyを通すとMySQLの操作が出来なくなった覚えがあります。 エラー表示の消し方について教えて頂きたいです。
MySQLのデータ取得について質問です。 タイトルが重複している状態で、重複しているタイトルの日付が一番新しい行だけを抽出したいのですが、どのような文にすればよいか思いつきません。添付している画像のデータの様にしたく考えております。 どなたかご教授宜しくお願い致します。 補足 Java データベース PHP プログラミング
phpMyadminの利用について質問です。 phpMyadminを立ち上げると以下のようなエラーが出ます。Warning in .\libraries\dbi\DBIMysqli.class.php#261 mysqli_query(): MySQL server has gone away この後もエラー文は続きます。 また、このエラー文を無視して特権のタブをクリックした際にも SQL queryやStatic analysisと書かれたエラーが表示されます。 エラーを削除する方法を教えていただけないでしょうか。
スタースキーマとは何ですか？
PHP 構文エラー$stmt = $pdo->prepare("SELECT * FROM v2 WHERE project = :project AND state = 1 limit 1"); 何が間違っているのでしょうか？
データベースに以下のようなテーブル1があります。名前｜種別｜性別 田中｜1 ｜1 前田｜2 ｜2 鈴木｜0 ｜2 斉藤｜0 ｜1 これにsql文 SELECT * テーブル1 WHERE 種別 = "*"を使って全てのデータを表示させたいのですが、種別が0のデータしか表示されません。 性別に同様のsql文を使うと返り値0の結果が返ります。 種別と性別のフィールドのデータ形式をテキスト型にしても同様の結果でした。 それぞれの数値を指定すると、正しくデータを抜き出すことができます。 一見意味の無い選択条件のようですが、実際にはwebページ上でセレクトボックスを使い、phpで呼び出すので必要な選択条件です。 どうすれば上手くいくでしょうか？
MySQLとSQLの違い。 PHPを勉強中の超初心者です。 MySQLとMyAdminとSQLの違いは何ですか？ サルでもわかるように教えていただけますでしょうか。
mysqlの別テーブルの値を挿入したいと考えております。mysql上でsql文を実行してtable1の値をtable2に挿入すること（下記beforeのテーブルの状態から下記afterの状態に変更すること）は可能でしょうか？ 変更可能な場合、どのようにsql文を書けば良いでしょうか？ 初歩的な質問で申し訳ありませんが、ご回答のほど宜しくお願いします。 ※before 【table1】 table1_id | name | price | ㅤ 1ㅤㅤㅤ | りんご | 200 | ㅤ 2ㅤㅤㅤ | ばなな | 400 | ㅤ 3ㅤㅤㅤ | めろん | 500 | 【table2】 table2_id | table1_id | name | price | ㅤ 1 ㅤ ㅤ | 1 ㅤ ㅤ |ㅤㅤㅤㅤ |ㅤㅤㅤ| ㅤ 2 ㅤ ㅤ | 3 ㅤ ㅤ |ㅤㅤㅤㅤ |ㅤㅤㅤ| ㅤ 3 ㅤ ㅤ | 2 ㅤ ㅤ |ㅤㅤㅤㅤ |ㅤㅤㅤ| ㅤ 4 ㅤ ㅤ | 1 ㅤ ㅤ |ㅤㅤㅤㅤ |ㅤㅤㅤ| ㅤ 5 ㅤ ㅤ | 2 ㅤ ㅤ |ㅤㅤㅤㅤ |ㅤㅤㅤ| ㅤ 6 ㅤ ㅤ | 2 ㅤ ㅤ |ㅤㅤㅤㅤ |ㅤㅤㅤ| ※after 【table2】 table2_id | table1_id | nameㅤㅤㅤㅤㅤㅤ | price ㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤ| 1 ㅤㅤㅤ| ㅤㅤ1 ㅤㅤ| table1の左記idのname | table1の左記idのprice | 2 ㅤㅤㅤ| ㅤㅤ3ㅤㅤ | table1の左記idのname | table1の左記idのprice | 3ㅤㅤㅤ | ㅤㅤ2ㅤㅤ | table1の左記idのname | table1の左記idのprice | 4ㅤㅤㅤ | ㅤㅤ1ㅤㅤ | table1の左記idのname | table1の左記idのprice | 5ㅤㅤㅤ | ㅤㅤ2ㅤㅤ | table1の左記idのname | table1の左記idのprice | 6ㅤㅤㅤ | ㅤㅤ2ㅤㅤ | table1の左記idのname | table1の左記idのprice |
ＳＱＬインジェクションのやり方について 普通クエリ文字列で 「'and'1'='1」みたいにするのがふつうと思うのですが、問題集をやってて「goodsNo=10001 and 1=1」でできると書いてました。 実際dokoQLというＳＱＬ練習サイトで同じ原理のことをやったところエラーになりました。 入力としてあってるのでしょうか？ 問題集というのは情報セキュリティスペシャリストの平成２６年秋午後２問２設問１（１）です。 よろしくお願いします。
mysqlで質問です。 以下の様なテーブルがあったとします。【userテーブル】 user_id | user_name | active_cer_id 1 | A | 5 2 | B | 2 3 | C | 3 【certificationテーブル】 cer_id | user_id | cer_name 1 | 1 | 15A001 2 | 2 | 15A002 3 | 3 | 15A003 4 | 1 | 15B001 5 | 1 | 15C001 これで検索したらこのように表示したいです。 【15A002】 user｜アクティブ番号｜認証番号列 B｜15A002｜15A002 【15B002】 user｜アクティブ番号｜認証番号列 A｜15C001｜15A001,15B001,15C001 (二番目は15A001、15C001でも同じ結果) どのようにSQLを書いたらいいでしょうか。
PDOで、コメントアウトしてある箇所のコメントを外すと、 // $result = $stmt->fetchAll(PDO::FETCH_ASSOC); 以下のエラーが出ます。string(4) "2016" string(4) "2016" INSERT PDOException ERROR: string(37) "SQLSTATE[HY000]: General error: 2053 " ちなみに、コメントアウトすると、エラーはでなくなります。 なぜですか？ また、最後に $stmt = null; とすることに意味がありますか？ PDOの全体は、以下の通りです。 --- $pdo = dbconnect(); $stmt = $pdo->prepare('INSERT INTO products (product_id, description) VALUES (:product_id, :description) '); $stmt->bindValue(':product_id', $product_id); $stmt->bindValue(':description', $description); $stmt->execute(); $count = $stmt->rowCount(); // $result = $stmt->fetchAll(PDO::FETCH_ASSOC); ＜－ これ $pdo = null; $stmt = null; ＜－ これ
緯度経度情報をデータベースから取り出したいです。色々なサイトを見ながら、データベースに保存されているたくさんの緯度経度情報を取り出してグーグルマップにマーカーを付けるというプログラムを作りたいのですが、うまく動きません。ブラウザで確認してもマップが表示されていません。 PDOでの接続部分でエラーになっているみたいですが解決方法がわかりません。分かる方いらっしゃいましたらご教授お願いいたします。 <?php define('DSN','mysql:host=localhost;dbname=test1;charset=utf8'); define('DB_USER','root'); define('DB_PASSWORD','ｘｘｘｘｘｘｘｘ'); function connectDb(){ try{ return new PDO(DSN, DB_USER, DB_PASSWORD); }catch(PDOException $e){ echo $e->getMessage(); exit; } } $dbh=connectDb();<-この部分をコメントアウトするとグーグルマップはちゃんと表示されます。 ?> データベース MariaDB[test1]>create table test( -> id INT NOT NULL auto_increment, -> latlon GEOMETRY NOT NULL, -> PRIMARY KEY (id), -> SPATIAL KEY (latlon) -> )Engine=MyISAM;
Accessツールの複数ユーザ使用 社内用にAccessツールを作成しています。複数で更新作業するにあたり、Accessの限界（破損等）を感じています。そこで、データのみmysqlで管理し、Accessからmysqlへデータリンクさせ、現在あるフォームやVBAをそのまま使用することはできるのでしょうか。 この場合、共有サーバー上に置き、複数人で更新作業をしてもサクサク動くのでしょうか。 ※現在は共有サーバー上にAccessをおくと、動かなくなってしまうので、各自デスクトップ上で作業させ、 毎週マージ作業をしています。 どなたかご教授ください。 宜しくお願いします。
pdo delete 出来ない 以下のスクリプトで、間違っている箇所はありますか？<?php require_once 'pdo_dbconnect.php'; $product_id = 'sample03'; ＜－ これはもちろん存在します。 /* * レコードの削除処理 (products) */ $error = ''; try { $pdo = dbconnect(); $stmt = $pdo->prepare('DELETE FROM products WHERE :product_id'); $stmt->bindValue(':product_id', $product_id); $stmt->execute(); /* 削除された行数を返す */ print("Return number of rows that were deleted:\n"); $count = $stmt->rowCount(); print("Deleted $count rows.\n"); } catch (PDOException $e) { // デバッグモードではないときは例外メッセージを隠す $error = DEBUG ? $e->getMessage() : 'ただ今システム障害が発生しております。'; if (DEBUG) echo "DELETE PDOException ERROR: "; } catch (Exception $e) { // 他の例外メッセージは必ず表示する $error = $e->getMessage(); echo "DELETE Exception ERROR: "; } $pdo = null; if ($error) var_dump($error); ?> --- 出力結果は、以下のようになります。 Return number of rows that were deleted: Deleted 0 rows. ちなみに上記の出力は、DELETEの場合、WHERE以下の条件にマッチするものがない場合も、エラーにはならないんで追加してみました。 sample03は存在するので、ここは本来 Deleted 1 rows. にならないとおかしいはずなんです。 Mysqlコマンドからは、SELECT, INSERT, UPDATE, DELETEのすべてに成功。 プログラムからは、SELECT, INSERT, UPDATEに成功。しかし、DELETEのみが反映されない。エラーもない。なぜか・・・
風俗サイトの女の子の絞り込み検索に使われている、 プログラムについてお聞きしてみたいのですが、 ※データベースにあるデータの絞り込み、ということになりますでしょうか・・・このサイト↓（１８禁サイトになるので、１８歳以上の方、よろしくお願いします。） http://unpretei.com/main.cgi からリンクが貼られてある、 ↓ http://unpre-fan.com/ のサイトですが、 前者のサイト内の女の子の絞り込み検索が出来る様になっています。 これは、WEB上で配布されている、 ・フリー、 または ・有料のプログラムによって 実現出来るものなのでしょうか？
phpmyadminを使ってデータベースの作成中、気になったのですが、Time型を選択した際にサイズに8を入れるとエラーが出て、maximum 6 と出ました。 色々検索してみましたが、よく分からなかったので、どなたかTime型のサイズ定義について教えてくれませんか？
phpMyadmin MySQLについて基本的な質問です。 始めたばかりで本を読みながら行っているのですが、うまくレコードの挿入ができません。 下記SQLを入力したのですがエラーです。どうすれば挿入できるかを教えていただければ幸いです。 ■エラー：SQL query: INSERT INTO td VALUES ('SH002' , '消しゴム' , 50)； ■MySQL のメッセージ: ドキュメント #1064 - You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'ï¼›' at line 1
My SQLについて質問なのですが 入れている値をコロコロと変えるのは、いいのでしょうか？ たとえば、ある商品の値段が1日おきに変動するとして、その都度My SQLの中にある値段の値を変えることは、別に問題ありませんか？ 素人なので、あんまりコロコロ変えるとデータベース自体が悪くなりそうなイメージがあります。 ググってもわからなかったの是非回答をお願いしたいです。
質問です。mysqlで SELECT FROM_UNIXTIME( 1294967295 ) ; のようなSQLを発行すると FROM_UNIXTIME( 1294967295 ) 2011-01-14 10:08:15 のような日時が表示されるのですが、 SELECT FROM_UNIXTIME( 4294967295 ) ; のようなSQLの場合、 from_unixtime(4294967295) NULL のようにNULLが表示されます。 なにが原因でNULLが表示されるのでしょうか？ 表示されるようにする方法はありますでしょうか？
mysqlで１レコードだけロックみたいな機能ありますか？ trunscateやdeleteで全削除してもそのレコードだけは残るみたいな処理があれば知りたいです。
全カラムの空文字をNullに置換させるのはSQLのREPLACE関数を使えば良いのですか？phpMyAdminにCSVファイルをインポートしたところ、空文字は空文字のままインポートされてしまいました。この空文字をNullとして扱いたい場合、文字列をNullに置換するという操作を行えば良いのでしょうか？文字としてのNullと、データが存在していないというNullは別なのでしょうか？回答よろしくお願いいたします。
非等価結合がよくわかりません SEとして駆け出しのSQL初心者です。仕事先で非等価結合のSQLを発見しました。今まで非等価結合のSQLを見たことがなかったので、ググりましたが、betweenの例はあるのですが、不等号の例が乏しくて完全に理解できていません。 【仕事先で発見したSQL】 select * from A left join B on A.ID = B.ID and B.START_DATE <= 20150325 and B.END_DATE >= 20150325 ここで気になるのが、 1) 左外部結合なので、Aテーブルのデータを全て抽出してBテーブルと結合する 2) START_DATEとEND_DATEに関してはBテーブル特有のカラムである 【修正してみたSQL】 select * from A left join B on A.ID = B.ID where B.START_DATE <= 20150325 and B.END_DATE >= 20150325 ＜質問＞ 1)と2)のことを考えると、上記のように非等価な部分は抽出条件にすべきだと考えているのですが、どうでしょうか。 ご回答宜しくお願い致します。 DBMSはMySQLを使用しています。
SQLについての質問です。 A B C D E F G H I J のカラムがあるとします。 DFHが重複している行をレコード毎削除し、 レコード全てを表示させるクエリ文をご教授下さい。勉強している最中なのですが、 select distinct * だと全部の重複を見てしまい、 select distinct D,F,Hだとそのカラムしか表示されなくなってしまいます。 初歩的なSQLかもしれませんが、 ご教授のほど、よろしくお願い致します。
PHP+MySQLの書き方についてです。 勉強をはじめたばかりの初心者です。$stmt = $db->prepare("select name from test where name like ?"); $stmt->execute(['あ%']); これで「あ」から始まるものだけ抽出できたのですが、カタカナの「ア」から始まるものも同時に抽出したい時はどのように書いたらよいでしょうか？
どうしたら頭よくなりますか？ p.s.勉強はしたくないです。
mysql パスワード設定/Applications/XAMPP/xamppfiles/bin/mysqladmin version/Applications/XAMPP/xamppfiles/bin/mysqladmin -u root -p 上記2つ共に『unknown variable 'character-set-server=utf8'』となってしまいます。 vi /Applications/XAMPP/xamppfiles/etc/my.cnf を見ますと、 [client] [mysqld] [mysql] 全て character-set-server = utf8 となっております。 どのようにすれば直りますでしょうか？ ちなみに、macosにインストールしたxamppのmysqlになります。 あと、２点質問があります。 /Applications/XAMPP/xamppfiles/xampp security で各パスワードを設定しようとしましたら、 MySQL has a root passwort set. Fine! mysqlで既にパスワードを設定したかのようなメッセージが。。 これはどういう意味でしょうか。 mysqlパスワードを設定した覚えはありません。 (centosでは設定しましたが) あと、 localhostでアクセスすると、Apache Friendsのページに移行し、 セキュリティの状態や各パスワードを設定するxamppのオレンジっぽい画面に、 アクセス出来ません。 localhost/security/でアクセスしてもエラーになります。 以上、ご教授お願いします。
Mysqlを使ってデータベースをつくろうと思っているド素人なのですがここから先にどうしても進めません･･･ Pathを追加しても通らないので完全にお手上げ状態です(>_<) どなたか教えてください！
MySQLの検定はありませんか？ 自分で調べたのですが、アプリケーション開発、管理者の2つがあるということ。 ・詳しい出題範囲等がヒットしません。わかりませんか？・簡単なの（oracle bronze,silver並みの）はありますか？ よろしければお願いいたします。
MySQLのmysqldとは何ですか？MySQLの解説サイトによって、mysqlのみをコマンドプロンプトで起動している場合と、mysqldというのを起動している場合もあり、気になったので調べてみたのですが、該当するものを見つけられなかったので質問させていただきました。
PHP+MySQLにおいて、複数テーブルを出力する方法 表題の件ですが、ちょっとこんがらがってきてしまったのでご教示頂きたいです。MySQLのテーブル構成として、 テーブル1 genreList genre 果物 野菜 お肉 テーブル2 hinmokuList genre ｜ hinmoku 果物 ｜りんご 果物 ｜メロン 野菜 ｜にんじん 野菜 ｜トマト お肉 ｜豚肉 お肉 ｜鶏肉 このように分かれているテーブルが2つあるとします（ID等不必要な情報は省いています） これを使い、よくあるメニュー一覧を生成したいと考えています。 イメージとして、 果物 りんご メロン 野菜 にんじん トマト お肉 豚肉 鶏肉 のように頭にganreListのgenre項目を、その後にhinmokuListのhinmokuを並べる形です。 以下想定して書いてみた文です。 ※SQL文や接続関係は全て省略しております。 while ($date = mysqli_fetch_array($quryset,MYSQL_BOTH)){ echo "<p>"; echo $date["genre"]; echo "</p>"; while ($date2 = mysqli_fetch_array($quryset2,MYSQL_BOTH)){ if ($date["genre"] == $date2["genre"]) { echo "<p>"; echo $date2["hinmoku"]; echo "</p>"; } } } この形で実行すると、 果物 りんご メロン 野菜 お肉 となり2回目以降、2回目のif文がelseになってしまっています。 多分文法的な基礎的な話なのでしょうが、どうかご教示頂けませんでしょうか。 （テーブル構成やPDOを使ったほうがというのは理解しているつもりなので、あくまで上記条件下での回答をよろしくお願い致します。
MySQLの初歩の問題です。 MySQLを扱えるように自宅でも環境を整えようと思ったのですが、 mysqlのコマンドが使えません。 どうすれば使えるようになるか教えてください。足りない情報などがあれば追記していきたいと思いますので助言お願いします。
ターミナルでmysqlのパスワード設定する時に /Applications/XAMPP/xamppfiles/bin/mysqladmin -u root -p と実行しますと、unknown variable 'character-set-server=utf8' となってしまいます。 vi /Applications/XAMPP/xamppfiles/etc/my.cnf を見ますと、 [client] [mysqld] [mysql] 全て character-set-server = utf8 となっております。 どのように設定を変更すれば直りますでしょうか？ ちなみに、macosにインストールしたxamppのmysqlになります。 /Applications/XAMPP/xamppfiles/bin/mysqladmin version を実行しても unknown variable 'character-set-server=utf8' のエラーが出てしまいます。
mysqlのパスワードの設定時に SET PASSWORD FOR root@localhost=PASSWORD('パスワード'); を実行しましたが、-bash: syntax error near unexpected token `(' とエラーが出てしまいました。 引用符は普通のシングルコーテーションなのですが、 どこを修正すればよろしいでしょうか？
今、ドットインストールでMySQLの勉強をしています。 そこで二つ質問があるのでお聞きしたいです。一つ目は、説明してくれている人が#01で 「Linuxのコマンドの基礎みたいなのを見ておくといい」 と言っていたのですがこれはUNIXコマンドのことでしょうか？ UNIXコマンドのレッスンは受けたのでわかるのですが、OSがLinuxじゃないといけないとかそういう意味ではないのでしょうか？現在macを使っているので・・・ 教えてください。 二つ目は、MySQLのダウンロードについてです。 ダウンロードするサイトに行ったらMySQLにもいろいろな種類があるみたいでどれを選べばいいのかよくわかりません OSのversionはOS X 10.10.5で、wordpressを運用するときにMySQLを使おうと思っています URLとどれをダウンロードすればいいか教えていただけるとありがたいです 以上の二点、回答よろしくお願いします。。
SQLの教本にいきなり説明もなしにSQL文のカラム名やテーブル名の横にi,やc.など記述されるようになりました。これはどういう意味なのでしょうか？？どなたか教えて頂けると助かります。 ______________________________________________________ SELECT i.item_name,SUM(c.count) FROM my_items i ,carts.item_id GROUP BY c.item_id c where i.id=c.item_id GROUP BY c.item_id;
Javaの勉強方法について教えてください。 私は社会人１年目でIT会社に勤務しています。 スキルアップのためJavaを習得したいと思っています。少しだけ先輩に教わった程度でまだ何もできません。 そこで家で個人的にシステムを作ろうと思うのですが、何かおすすめはありますか？ 私のレベルはキーボードから入力した文字の和を表示させる程度です・・・。 システム名：足し算ソフト？ 簡単だけれどレベルアップできそうなシステムがあれば教えて頂けるとありがたいです。 よろしくお願いします。
MySQLエラー#1064 MySQLの勉強を始めたのですが、いきなり上記のエラーがでて解決できません。。。調べたところ文法の間違いで、文字の囲みをシングルクオーテーションに変えたりダブルクオーテーションに変えたり試してみましたが解決には至りませんでした。 初歩的な質問で恐縮ですがご教授くださいorz
SQL文についての質問です。 INSERT文でINTOの後のカラム名指定のところでは実際のテーブルのカラム順に指定しないといけないのでしょうか？それとも順番は合ってなくてもINTOの後とVALUESの後が対応できていば問題ないのでしょうか？ INSERT INTO(ここのところです) VALUES(); どなたかご享受お願いいたします。 使用している環境はXAMPPでPHPから実行しようとしています
MYSQLに関連しまして SQL文を記載しているのですが、emailの記載があるカラムで"a"を含むレコードには"OK"を付したいのですが、下記の内容で、"a"を含むに関わらず、全てNGになってしまいます。 恐れ入りますが、原因をご教示願えますでしょうか。 mysql> select if (email in ("a"),"OK","NG"), name from friends3; 何卒、宜しくお願い申し上げます。
ＳＱＬ文のダブルクオーテーションとシングルクオーテーションの使い方について。以下の(1)の命令は動作するのですが、ダブルクオーテーション、シングルクオーテーション、ピリオドがあって複雑なので、簡単にするために以下のページを参考にして(2)の命令を考えたところ、動作しません。 http://detail.chiebukuro.yahoo.co.jp/qa/question_detail/q1014955387... (1) $sql='INSERT INTO schedule(uid,subject) VALUES("'.$user.'","'.$_POST['subject'].'")'; (2) $sql="INSERT INTO schedule(uid,subject) VALUES('$user','$_POST['subject']')"; (2)のどこが間違っているのでしょうか。 たぶんシングルクオーテーションの中にシングルクオーテーションを入れている部分'$_POST['subject']'が問題ではないかと思います。 このような場合はどのようにすればよろしいでしょうか。 なお、このような命令はプレースホルダを使うことはわかっていますが、シングルクオーテーションとシングルクオーテーションの使い方を勉強するために、あえて上記の命令を使っております。 よろしくお願いいたします。
codeigniterにおいて、下記のようなデータがあった場合、datetimeでlike検索し、結果を同じページ（同じコントローラーのアドレスで呼び出し?）に表示させるにはコントローラーとモデルにどのように記述すれば良いでしょうか？phpでの手法は検索してもヒットするのですが、codeigniterではなかなかみつからず・・・ よろしくお願いします。 【view.php】 <form action = "" method="post"> <input type="text" name=""> <input type="submit" name="" value="検索"> </form> ↓この下に結果を表示したい↓ 【mysql】 id | datetime | price | 1 | 2015-09-05 13:03:09 | 300 | 2 | 2015-09-08 13:03:09 | 200 | 3 | 2015-09-27 13:03:09 | 250 | 4 | 2015-08-05 13:03:09 | 300 | 5 | 2015-08-15 13:03:09 | 300 |
MYSQL関連の質問となります。 テーブルから特定の桁数に、特定の文字がある場合に、データを表示して欲しい様にSQL文を記載しているのですが、書籍通りに記載しても必ずErrorが返されます。SQL文及びError内容は下記の通りになります。 ＜SQL文> mysql> select*from friends3 where substring (name,2,1)='a'; *nameフィールドの2桁目の一文字目が"a"であるレコードを検索したいのです <Error> ERROR 1630 (42000): FUNCTION cooking.substring does not exist. Check the 'Function Name Parsing and Resolution' section in the Reference Manual 原因がわからないため、恐れ入りますが、どなたかご教示頂けますでしょうか。 宜しくお願い申し上げます。
MySQLのGROUP_CONCATを複数同時に用いたのレコード内部の順番について MySQLで例えば以下の様なテーブルがあったとします。----------------- テーブル名：place ----------------- id｜ pref ｜type 1 ｜ 東京 ｜A 2 ｜ 神奈川 ｜B 3 ｜ 神奈川 ｜A 4 ｜ 東京 ｜B この情報を、GROUP_CONCATとGROUP BYを使い、 以下のSQLを使って、都道府県ごとに結果をまとめようと思っています。 *****SQL***** SELECT GROUP_CONCAT(id SEPARATOR ',') , pref, GROUP_CONCAT(type SEPARATOR ',') FROM place GROUP BY pref *****結果***** id ｜ pref ｜type 1,4 ｜東京 ｜A,B 2,3 ｜神奈川｜B,A こんなとき、結果のレコードでidとtypeのレコード内部の順番（対応）は 【東京】で idが1,4、typeがA,B 【神奈川】で idが2,3、typeがB,A となるようですが、今回使用したSQLの場合、 idとtypeの中身の順番は変わってしまうことはないのでしょうか。 つまり、【神奈川】で idが2,3、typeがA,B のように、idが2,3の順番に対応してtypeがB,Aという対応の順番で取得されず、 対応が外れてA,Bの順にソートされてしまわないか懸念しております。 色々調べたのですが、この疑問を納得できる資料を得られませんでした。 どなたかご存知の方が居られましたらご指導いただけませんでしょうか。 宜しくお願い致します。
プレースホルダ名に日本語を使用したい 以下の１だと実行されますが、２だと実行されません。 プレースホルダ名「:予定コード」のような使い方はできないのでしょうか。プレースホルダ名に日本語を使用する方法をお教えください。 よろしくお願いします。 １．SQLは実行される $stt = $db->prepare('DELETE FROM 予定 WHERE 予定コード=:pid'); $stt->bindParam(':pid', $_GET['予定コード']); $stt->execute(); ２．SQLは実行されない $stt = $db->prepare('DELETE FROM 予定 WHERE 予定コード=:予定コード'); $stt->bindParam(':予定コード', $_GET['予定コード']); $stt->execute();
いつもお世話になってます． MySQLのSELECT文についてです． id text tid ad 1 a 1 a町2 a 1 b町 3 a 1 b町地内 4 b 2 b町 5 b 2 c町 6 b 2 b町 というテーブルがあったときに b町の文字列を含むかつtidが重複する場合 重複分を削除することで id text tid ad 2 a 1 b町 4 b 2 b町 というデータを抜きたいです． select distinct tid from tbl ; とすればtidは抜き出せるのですが tidの値しかだせません． select * from tbl where ad like '%b町%'; にプラスして． textの値は使わずtidを使用してできませんでしょうか．
PHP+MySQLで暗号化したテーブルに関する制御方法を教えてください。 たとえば、ID(平文）とMAILADDRESS（パスワードによる暗号化した値）のテーブルを作成したとします。MAILADDRESSの値を復元するためのキー値はどういう管理をしたらよいのでしょうか？ PHPでログインした際のパスワードを使っていた場合、ログインパスワードを忘れた場合MAILADDRESSは復元できなくなります。 MySQL上に復元するため何らかのキー値（平文？）を置くと、セキュリティ上危ない気がします。 これらのキー値の安全な管理方法についてのアドバイスをお願いします。
dbのカラム名の日本語表記について質問です。 PHPでｄｂを使ってwebサイトを制作したい初心者です。運用的にdbのカラム名をそのまま表示したい部分が出てきまして、日本語でカラム名を表記したいです。 ですが、入門本などはことごとく英語をすすめていまして、日本語でのリスクが具体的にわかりません、 大体「日本語でも出来るけど、英語にしといた方が無難」みたいな書き方でした。 ライブラリなどを利用すると命名規則があるらしいから日本語だとだめ。 くらいしか具体的なリスクを調べられませんでした。 詳しい方に具体的なリスクを教えて頂けるとありがたいです。 ちなみに、mysqlを利用予定です. よろしくお願いします。
mysqlでデータベースをインポートし、設定したのですが、エラーが出て先にすすめません。エラー分 Error:SQLSTATE[HY000] [2002] Can't connect to local MySQL server through socket '/var/lib/mysql/mysql.sock' (2) 色々検索したのですが初心者なので意味がさっぱりわかりません。 レンタルサーバー上のphpMyAdminからインポートしました。 お助け下さい。
ウェブ上のシステムがパソコンに影響を受けてエラーを起こすことはありますか？社内で管理しているPHPで書かれたオンラインショップがありますが､つい最近よくわからないエラーが発覚しました｡ 注文をするとポイントが自分と紹介者に返る仕組みになっているのですが､ある特定のパソコンからだけたまにポイントが返されない症状が起こります｡ ポイントは いつもではなく､たまに 注文履歴はあり､在庫もちゃんと減ります 今のところ特定のパソコンでしかこの症状が確認できない です｡ オンラインショップはサーバー上なので､正直パソコンのせいとは考えていなかったのですが､他のパソコンで同じルートで注文し､同じ症状を再現しようとしても､再現されません｡たまに起きたというのも同じパソコンで起きました｡ プログラマーさんも困ってしまいましたが､特定のパソコンがPHPに影響してエラーを起こすというのは考えられるのでしょうか｡ システムに詳しい方ご意見いただければ嬉しいです｡
Windows のMySQLでroot権限のHOSTアクセスをいじっていたらエラーでrootが使えなくなってしまいました。rootで入れなくなって非常に困っております。 バージョン：MySQL5.6 ERROR 1045 (28000): Access denied for user 'root'@'localhost' (using password: YES) 調べてみると下記コマンドでmysqlを起動とあるのですが、実行できません。 mysqld-nt --skip-grant-tables どなたか助けていただけないでしょうか。 至急で非常に困っております
やり方を教えて下さい. 「DDL_」で始まる DQL 文を流し、データベースに必要なテーブルを作成してくださ い。・ DDL_review_master.sql ・ DDL_item_master.sql ・ DDL_account_master.sql ・ DDL_item_category.sql ・ DDL_favorite_master.sql ・ DDL_config_master.sql ・ DDL_account_config_master.sql 初期データ登録のため「DML_」で始まる SQL 文を流してください。 ・ DML_config_master.sql
