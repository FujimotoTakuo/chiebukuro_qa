こんにちは。 そのとおりでございます。
>$sql = "SELECT block_hight FROM memo_db" ."WHERE ( name = :name ) AND ( i_date BETWEEN :front AND :back )" ."ORDER BY i_date DESC"; ですが これで組み立てられたSQLは SELECT block_hight FROM memo_dbWHERE ( name = :name ) AND ( i_date BETWEEN :front AND :back )ORDER BY i_date DESC" のようにならないでしょうか？ 連結するそれぞれの間に空白を入れる必要があるように思えるのですが。
こんばんわ。 便利だと思います。
話を戻すようで申し訳ありませんが、前の質問のデータ ID | name | PRICE | time ------------------------ 01 | 一郎 | 1000 | NULL 02 | 二郎 | 1000 | 50 02 | 二子 | 100 | NULL 02 | 二子 | 100 | NULL 03 | 三郎 | 1000 | NULL 03 | 三子 | 1000 | 100 03 | 三子 | 1000 | NULL 03 | 三美 | 1000 | NULL で select id,Name,Max(time) MaxTime . . group by id,Name having MaxTime is not NULL とすると ID | Name | MaxTime ------------------------ 02 | 二郎 | 50 03 | 三子 | 100 が得られると思います。 元データとこの結果をLEFT JOINすれば ID | name | PRICE | time | MaxTime ------------------------ 01 | 一郎 | 1000 | NULL | NULL 02 | 二郎 | 1000 | 50 | 50 02 | 二子 | 100 | NULL | NULL 02 | 二子 | 100 | NULL | NULL 03 | 三郎 | 1000 | NULL | NULL 03 | 三子 | 1000 | 100 | 100 03 | 三子 | 1000 | NULL | 100 03 | 三美 | 1000 | NULL | NULL になるはずです。 これをMaxTimeの降順、IDの昇順でソートすると ID | name | PRICE | time | MaxTime ------------------------ 03 | 三子 | 1000 | 100 | 100 03 | 三子 | 1000 | NULL | 100 02 | 二郎 | 1000 | 50 | 50 01 | 一郎 | 1000 | NULL | NULL 02 | 二子 | 100 | NULL | NULL 02 | 二子 | 100 | NULL | NULL 03 | 三郎 | 1000 | NULL | NULL 03 | 三美 | 1000 | NULL | NULL になります。MySQLでのNULLが降順で後ろにくるかは確認していませんけど。確かMySQLにも変換関数あったはずなので0とか-1に変換できます。 これではダメですか？
おはようございます。 いいとおもいます。
こんばんわ。 重要でございます。
ストアドプロシージャでテンポラリテーブルを利用して可能です。 ーーーーー ここから －－－－－ #既存のストアドプロシージャを削除 DROP PROCEDURE IF EXISTS product_sum; #ストアドプロシージャを開始する為に、デリミタを変更 DELIMITER // #ストアドプロシージャ作成 CREATE PROCEDURE product_sum() BEGIN #変数の宣言 #curに日付のリストを作成 DECLARE done INT DEFAULT 1; DECLARE products INT; DECLARE datefrom,datevalue DATE; DECLARE cur CURSOR FOR SELECT date FROM test; DECLARE CONTINUE HANDLER FOR SQLSTATE '02000' SET done = 0; #テンポラリテーブルの生成 DROP TEMPORARY TABLE IF EXISTS tmp; CREATE TEMPORARY TABLE tmp LIKE test; #日付でループ OPEN cur; WHILE done DO FETCH cur INTO datefrom; IF done THEN #BETWEENで範囲を指定して、SUMする（-INTERVAL 1 MONTHで１ヵ月前） SELECT MAX(date),sum(product) INTO datevalue, products FROM test WHERE date BETWEEN (datefrom - INTERVAL 1 MONTH) AND datefrom; #テンポラリに書き込み INSERT INTO tmp values(datevalue, products); END IF; END WHILE; CLOSE cur; #結果（テンポラリ）を表示 SELECT * FROM tmp; END // DELIMITER ; call product_sum(); ーーーーー ここまで －－－－－ ＜解説＞ 通常のSQL１回では、ご希望の結果が出せませんでしたので、ストアドプロシージャを利用し、日付をループさせて１か月前の日付からループさせている日付までの間のproductを合計した結果を、テンポラリに一時的に保存して、 最終的にテンポラリを表示しています。
おはようございます。 画像のエラー内容が小さくて見えませんので、お手数ですが書き込みしていただけないでしょうか。
oracleは知らないので、２だけ mysql では、サブクエリといいます。5.1から使えるようになりました。 mysql で動作させるには、from句に記述するテーブルサブクエリではエイリアス必須というだけです。 nora1962jpさん へ mysql のサブクエリ内にも limit 句は使えますよ。 select句などに記述するスカラーサブクエリでは、1行だけ返すようにしないといけないので、limit使って1行にしたりもできます。 https://dev.mysql.com/doc/refman/5.6/ja/subqueries.html
bindParamは「:xxxx」のようにコロンから始まる "プレースホルダ" に対して，PDO::PARAM_*で指定された型で値を割り当てるメソッドです．まず "プレースホルダ" が何なのかを理解していないと話にならないので，以下の記事を読んでください． http://qiita.com/mpyw/items/b00b72c5c95aac573b71 ちなみにbindParamはあまり使用が推奨されません．bindValueを推奨します．というよりも，今回の場合は全部文字列なので <?php try {     // データベースに接続     $pdo = new PDO(         'mysql:dbname=testdb;host=localhost;charset=utf8',         $user,         $password,         [             PDO::ATTR_ERRMODE => PDO::ERRMODE_EXCEPTION,         ]     );     // プリペアドステートメントを生成     $stmt = $pdo->prepare("         INSERT INTO bbs(name, title, body, date, pass)         VALUES (:name, :title, :body, now(), :pass)     ");          // $_POST['name'], $_POST['title'], $_POST['body'], $_POST['pass'] を     // 安全に割り当てて実行     $stmt->execute(filter_input_array(INPUT_POST,         array_fill_keys(['name', 'title', 'body', 'pass'], [])     ));          // 「303 See Other」でBBSに戻る     header('Location: bbs.php', true, 303);     exit; } catch (PDOException $e) {     // エラーが発生した場合は「500 Internal Server Error」でテキストとして表示して終了する     header('Content-Type: text/plain; charset=UTF-8', true, 500);     exit($e->getMessage());  } 以上で十分ですね． - 「基本コーディング」として紹介しているコードをベースにしました． - 投稿完了時のステータスコードは「303 See Other」を使うべきです． - エラー発生時のステータスコードは「500 Internal Server Error」を使うべきです． http://qiita.com/mpyw/items/4eb132f46b9977eb484f
user ''@'localhost' とエラーメッセージで出てますので、rootでログインできてないようなきがするのですが。 rootユーザーでログインできている場合、user 'root''@'localhost' という表示（エラーでも）になると思われます。 コマンドライン実行時に、-u root（uとrootの間にスペース）を入れてみてください。
こんにちは。 MYSQLは 大切です。
select (select count(a.questionid) from studentanswer a, student b, question c where a.subjectid = 4 and lower(a.studentanswer) = c.correctanswer and a.questionid = c.questionid and a.studentid = b.studentid and a.subjectid = c.subjectid group by c.questionid, a.questionid order by a.questionid) * 100 / (select count(a.questionid) from studentanswer a, question b where a.questionid = b.questionid and a.subjectid = 4 group by a.questionid); なんて、groupbyによる複数結果/groupbyによる複数結果なSQL、どんなDBでも通るはずがないでしょう。提示されているサンプルでも複数行なんだからquestionidが1つしかないはずがないし、たとえ１つしかなくたって実行計画段階で弾かれます。初学者だってわかる、SQLの基礎の基礎の話です。 出したいのはquestionidごとの正答率ですか？全体正答率ですか？ それによってSQLが異なります。 文意からquestionidごとを求めたいと思われますので、それなら select allview.questionid,okanswer/allanswer*100.0 from (select a.questionid,count(*) okanswer from studentanswer a, student b, question c where a.subjectid = 4 and lower(a.studentanswer) = c.correctanswer and a.questionid = c.questionid and a.studentid = b.studentid and a.subjectid = c.subjectid group by a.questionid) okview, (select a.quesitonid,count(*) allanswer from studentanswer a, question b where a.questionid = b.questionid and a.subjectid = 4 group by a.questionid ) allview where allanswer.questionid=allview.questionid order by allview.questionid のようなSQLになります。 一応questionid出してますけど、邪魔ならselect句を select okanswer/allanswer*100.0 としてください。
こんにちは。 やはり 必要でございます。
おはようございます。 難しいと思います。
属性集合の射影演算結果 s{A,B}={a,b}{a,b} t{B,C}={b,c}{b,e} SQLで書くと select A,B from r -- s select B,C from r -- t sとtのnatural join Bが一致するものを出力 {s.A,s.B,t.B,t.C,出力} a,b,b,c,○ a,b,b,e,○ a,b,b,c,○ a,b,b,e,○ よって4件が答えとなります。 SQLで書くと select * from (select A,B from r) s natural join (select B,C from r) t なお、たとえばBの下がcだった場合は {s.A,s.B,t.B,t.C,出力} a,b,b,c,○ a,b,c,e,× a,c,b,c,○ a,c,c,e,× で2件となります。
ローカル環境については他の方が回答しているとおりです。 ローカルとかダウンロードの意味を理解されている‥ことを前提で最初の質問を答えるなら、ダウンロードしようがしまいができることは同じと言えます。 MySQL‥これが何か理解していること前提ですが、知識はあったほうが良いです。なにせこの中にワードプレスのいろんなデータが入るのですから。
参考にどうぞ。 http://detail.chiebukuro.yahoo.co.jp/qa/question_detail/q1393743518 http://www.bunkei-programmer.net/entry/20110505/p1
ODBCで登録されていないと、データソースにでないのでは？と思います。 http://mysqlweb.net/article/61917190.html
こんにちは。 いいかんじです。
おはようございます。 すばらしいですね。
こんにちは。 いいとおもいました。
>ブログを書くときに画像を多用すると、「50MBまで」という制限まで、すぐに達してしまうのですか？？ 使い方次第です。
こんばんわ。 とても すばらしいと おもいます。
select t1.ID,t1.name,t1.PRICE,t1.time from tbl t1 inner join (select ID,name,min(cnt)as cnt from (select ID,name,PRICE,time, @i:=@i+1 as cnt from (select @i:=0)as dummy,tbl order by time desc)t group by ID,name)t2 on t1.ID=t2.ID and t1.name=t2.name order by t2.cnt,t1.ID,t1.name,t1.time desc です。
こんばんわ。 とてもすばらしいです。
おはようございます。 大切です。
<form action="" method="post"> <input type="text" name="message"> <input type="submit" value="送信"> </form> の場合は以下のようにします。 if( filter_input(INPUT_SERVER, 'REQUEST_METHOD') === 'POST'){ $message = (string)filter_input(INPUT_POST, 'message'); } <form action="" method="get"> <input type="text" name="message"> <input type="submit" value="送信"> </form> とした場合は if( filter_input(INPUT_SERVER, 'REQUEST_METHOD') === 'GET'){ $message = (string)filter_input(INPUT_GET, 'message'); } $sql = "SELECT * FROM users WHERE id = :id"; といった文や $sql = "SELECT * FROM users WHERE id = ?"; のようにコロンで始まって名前もしくは?が付いているものは「プレースホルダ」といいます。 プレースホルダを使う場合はMySQLiやPDOが自動的にエスケープしてくれます。 つまり MySQLiクラスの real_escapeをコールする必要もありません。 名前付プレースホルダーを使う場合はPDOでしか使えませんのでPDOで書き直す必要があります。
おはようございます。 いいとおもいます。
SELECT winner FROM nobel WHERE Subject = 'Physics' AND year = 1980 OR Subject = 'Chemistry' AND year = 1984 ではないですか？ IN とか LIKE は使う必要がないと思います。
こんにちは。 いいものだと 思います。
phpMyAdminは、サーバーにインストールするものなので、インターネットにつながる端末で主要ブラウザを使ってアクセスすれば使えます。 Macにインストールしたいのであれば、Apacheとphp、それとMySQLが 使える環境を用意して、公開ディレクトリにあたるフォルダにインストールすれば大丈夫です。 phpMyAdminにこだわらないならば、MySQL Workbench なども検討してはいかがでしょう。
こんにちは。 そのとおりです。
>ERROR 2002 (HY000): Can't connect to local MySQL server through socket '/opt/lampp/var/mysql/mysql.sock' (2 "No such file or directory") これは、MySQLサーバー(mysqld)が起動していないときに出るエラーです。 error_logの中身は、すべてApache関係です。 httpd.confの設定内容に間違いがあるのではないでしょうか。 該当するエラーコードの参考：http://oxynotes.com/?p=8098 まずは、シェルから、mysql単体で立ち上がるか確認してください。 単体で立ち上がらない場合は、MySQLの設定を見直してください。
昇格させるのに何を使うか、によるような気がします。 MySQL Fabricはカスケード構成（セカンダリの後ろのセカンダリ）に対応していませんので、フェールオーバー候補にはなりませんしできません。 mysqlfailoverも原則カスケード構成には対応しておらず、 "Not connected master"として認識されます。 --force オプションを利用すればフェイルオーバー先に指定はできますが、明示しない限り自動でフェイルオーバー先になることはありません。
まずは、年齢計算 本日付でいいのかな, 日付の差をとって、365で割る,閏日で多少の誤差はあるけどとりあえず無視。 DATEDIFF(CURDATE(), `birth`)/365 それとも、誕生日過ぎたとしての年齢でいいなら、年の引き算でよいだろう YEAR(CURDATE()) - YEAR(birth) 年代を出すには、TRUNCATE関数で、1の位を０に select member_id, TRUNCATE ( YEAR(CURDATE()) - YEAR(birth) , -1) as ager from member ; あとは、上記をテーブルサブクエリにして judge テーブルと join し、年代でgrouping すればよさそう。ppp_id = 1 は、judgeにカラムがあるから、judge.ppp_id = 1 の条件も追加すればいい。
ロックとロック解除までは一連の動作です。 排他ロックされている間、他の処理は待ちになりますが、ロックをどちらが先に取得するかはわかりません。 そのため、この問題ではlとuに注目します。 T1:l[a],T1処理1,u[a],l[b],T1処理2,u[b] T2:l[a],T2処理1,l[b],T2処理2,u[a],u[b] T1のl[a]が実行された場合、T2はu[a]されるまで待ちます。 よって、T1処理1,T2処理1の順番で実行されます。 次のl[b]はT1が先かT2が先かわかりません。 T1が先の場合、T1処理2が実行されてからT2処理2が実行されますし、 T2が先の場合、T2処理2が実行されてからT1処理2が実行されます。 よって ①T1処理1,T2処理1,T1処理2,T2処理2 ②T1処理1,T2処理1,T2処理2,T1処理2 のどちらかが実行されることになります。 T2のl[a]が実行された場合、T1はu[a]されるまで待ちます。 よって、T2処理1,T2処理2が実行されてからT1処理1,T1処理2が実行されます。 ③T2処理1,T2処理2,T1処理1,T1処理2 の順に必ず実行されます。 この３つを計算すれば答えが求まります。 ちなみに答えは④だと思われます。
こんにちは。 いいとおもいます。
select * from (select * from t group by name order by name desc,sort desc) as tt order by name; from区のselect分でまず、 +------+------+------+ | id | name | sort | +------+------+------+ | 2 | bbb | 4 | | 1 | aaa | 5 | +------+------+------+ を作ったうえで、nameでソートします。
「わかりません」「エラーが出ます」だけでは、何が原因かはわかりません。 エラーをそのまま正確にコピペしてください。 また、 ・環境(OSの名前とバージョン、MySQLのバージョンなど) ・データベースとテーブルの大まかな構成 ・sqlファイルをどうやって出力したか ぐらいは書きましょう。
削除し続けて、返り値が空なら、もう削除させるデータが無いんじゃないですか？
こんにちは。 そのとおりでございます。
個人的な感想ですが、そのフォームでは何がしかの処理を行っているんですよね？ （読み込みや追加、更新、削除等） タイミング的にはAccessからSQLを発行、MYSQL側で処理を行う時点でAUTO_INCREMENTがナンバリングされると思います。 （違っていたらごめんなさい） なので、SQLを発行し、発行後処理が正常に終わったならばリクエリを行う等すれば 問題なく表示できるのではないかと。
こんにちは。 良質で ございます。
インラインで測るか、分取して測る。
作ろうと思えば作れるんじゃないでしょうか。 いろいろと面倒そうですけど。
バックグランドで、サービスと呼ばれるプログラムがずっと動作しているんです。 設定→アプリで確認できると思います。
OSS-DB http://www.oss-db.jp/ ここの資格に近いと思います。 [受験対策]→[学習教材・教育機関の紹介]に載っている書籍が参考になると思います。
こんにちは。 しっかりしています。
おはようございます。 大切です。
SELECT case when name is null then null else year end as year ,IFNULL(name,'【合計】') AS name,price from (SELECT year,name ,sum(price) as price FROM table1 GROUP BY year,name WITH ROLLUP)t where year is not null です。
WordPress内のデータベース設定の値が、旧サーバーあてになっているのではないでしょうか https://wpdocs.osdn.jp/wp-config.php_%E3%81%AE%E7%B7%A8%E9%9B%86 wp-config.phpファイル内の /** MySQL のホスト名 */ define( 'DB_HOST', 'xxxxxx' ); の設定値です。
おはようございます。 そのとおりです。
pythonのスクリプトなら個人で作成されたものがあります。 http://blog.gufii.net/weblog/archives/39
https://teratail.com/questions/5808 これですかね。
「ホスト名」をOSのDNSリゾルバが解決すれば「IPアドレス」になります．nslookupコマンドを使ってみてください． example.com → 93.184.216.34 ただし，リモートから接続するには事前の設定が必要です． http://linuxserver.jp/%E3%82%B5%E3%83%BC%E3%83%90%E6%A7%8B%E7%AF%89...
こんばんわ。 いいかんじです。
テーブル名が a、DATETIMEのフィールドが、dtとい名称として、 select count(*), date_format(dt, '%m/%d') as date from a group by date_format(dt, '%m/%d'); で、月/日毎にグループ化してカウントした結果（count(*))を取得します。
ストアドプロシージャを使用できますので、実行できます。 http://keicode.com/db/how-to-use-mysql-workbench-to-create-procedur... じつは、コマンドラインでもできたりします。 https://utano.jp/entry/2014/04/mysql_stored_procedure_loop/
> sortの列に空きがないよう詰める sort列を何に使うのか解りませんが、本当に必要な事なんでしょうかねぇ... 表示上やればいいだけで、それをデータで持つ必要性は何なのでしょう？ こんなページが参考になると思います。 ttp://gihyo.jp/dev/serial/01/sql_academy2/000101 ttp://gihyo.jp/dev/serial/01/sql_academy2/000102 ttp://gihyo.jp/dev/serial/01/sql_academy2/000103 ttp://gihyo.jp/dev/serial/01/sql_academy2/000104 単に順序を変更したいというだけならこんなアプローチも ttp://gihyo.jp/dev/serial/01/sql_academy2/000601
①コマンドラインで、mysql -uルートユーザー名 -pルートユーザー名 -h 127.0.0.1でログインできますか？ できない場合は、127.0.0.1ではつながらないので、許可が必要です。 ②ファイアウォールでブロックしてませんか？ MySQL側のポートはおそらく3306は送受信OKになっているかと思いますが、 HeidiSQLが3306のポートを使用できない（ファイアウォールでブロックしている）と、つながらないかと思います。
INSERT INTO lists (`user_id`, `url`, `order`) SELECT 1, 'google.com', (SELECT COALESCE(MAX(`order`), 0) + 1 FROM lists WHERE user_id = 1) FROM dual; でどうでしょう。 SELECT MAX(`order`) + 1 FROM lists WHERE user_id = 1 が特定のユーザーIDの`order` の最大値 + 1を返します。MAX(`order`) が NULLになった場合、COALESCE関数により0を返します（CASE WHEN .. IS NULLの部分をCOALESCEで代用） http://dev.mysql.com/doc/refman/5.6/ja/comparison-operators.html#fu... 最後のFROM dualは合ってもなくても構いません。 https://dev.mysql.com/doc/refman/5.6/ja/select.html 厳密にやるのであればlists(user_id, order)にユニーク制約を張るか、 `SELECT .. FROM lists WHERE user_id = ? FOR UPDATE` でロックを取ってからINSERTになるかと。
>> 上記でやると、文字列の'NULL'と判断されるのかエラーになります。 違います． $v = null; var_dump("{$v}"); としてみると展開時にどうなるかわかると思います． >> 【 NULL 】だけでPHPからMySQLへNULLを送る方法はありますでしょうか？ $sql = INSERT INTO table1(id, number) VALUES ( '{$id}', '{$number}' ); と書いている限り不可能です．NULLのときだけ $sql = INSERT INTO table1(id, number) VALUES ( '{$id}', {$number} ); となるようにしなければなりません． （あるいはもう$numberの部分は変数展開せずそのままNULLと書く） ----------------------------------------------- しかし，根本的にこのSQLの書き方はセキュリティ上非常に危険です．まずユーザ入力が格納された変数を用いて，SQL文を「変数展開」で組み立てることをやめましょう．もし参考書にこんな情報が書かれてたら全くアテにならないので，もうちょっとまともな書籍に乗り換えてください． https://ja.wikipedia.org/wiki/SQL%E3%82%A4%E3%83%B3%E3%82%B8%E3%82%... プリペアドステートメントという仕組みの「プレースホルダ」を用いるのが正しい方法です． http://qiita.com/mpyw/items/b00b72c5c95aac573b71 $stmt = $pdo->prepare('INSERT INTO table(id, number) VALUES(?, ?)'); $stmt->bindValue(1, $id, PDO::PARAM_STR); $stmt->bindValue(2, $number, $number === null ? PDO::PARAM_NULL : PDO::PARAM_STR);
その問題のためにトランザクション処理というものがあります。 まずはトランザクション処理がどういったものなのか。どういう動きをするか理解することをお勧めします。 http://se-java-school.com/itstudy/database/intro_db_jdbc/sqltext_06...
> ALTER TABLE employees > ADD FOREIGN KEY (dept_no) > REFERENCES departments(dept_no) > 上記のようにやろうとすると、エラーがでて 構文としては合っています。エラーの内容を貼り付けてもらえますか？ （参照先テーブルが存在しない、参照先カラムが存在しない、InnoDBではない…いくつか原因は考えられます） > ADD CONSTRAINT これを使うこと？までは分かったのですが > ADD CONSTRAINT の後ろに何を入れるのかよくわからず CONSTRAINT句はForeign Key制約に名前をつけるための句です。指定しなかった場合はMySQLが勝手に名前を付けるため、名前にこだわりが無ければ指定しなくても動作に問題ありません。 http://dev.mysql.com/doc/refman/5.6/ja/alter-table.html > 索引が自動的に作成される制約を答えよ > という問題がありまして Unique制約をつけるとUNIQUE KEYが自動的に生成される、Foreign Key制約をつけると、（ない場合は）セカンダリーキーが自動で作成される、のことでしょうか。 http://dev.mysql.com/doc/refman/5.6/ja/create-table.html http://dev.mysql.com/doc/refman/5.6/ja/create-table-foreign-keys.ht...
select '任意の名前',a.sumval/(a.sumval+b.sumval),a.sumval,b.sumval from (select sum(結果) as sumval from テーブルA where アクション名='A' and 結果='OK') A, (select sum(結果) as sumval from テーブルB where アクション名 in('A\'','A\'\'') and 結果='OK') B でいいのでは。
リレーションナルデータベースの第一正規化は繰り返し項目の排除です。なので、通常は人名とリソースのペアで持ちます。
正しいテーブル名が不明なので、とりあえず `tbl` として、日付カラム名を `tdate` とすると、between で月初め日付から、翌月０日までの条件とすればよいだろう。とりあえず２０１６年６月を検索の場合 select * from `tbl` where `tdate` between '2016-06-01 00:00:00' and '2016-07-00 00:00:00' order by `tdate` ;
>my_sql_kannrennさん2016/6/2923:09:21 >ｍｙ‐sqlは初心者向けですか？ 初心者向けではありません。
こんにちは。 大切でございます。
こんにちは。 良質でございます。
おはようございます。 いいとおもいます。
テーブルCCCにもIDのフィールドがあるといことでいいですよね？ mysql> select a from aaa join (select a1 from bbb as b join ccc as c on b.id=c.id) as bc on (a-1)=bc.a1 or (a-21)=bc.a1; (select a1 from bbb as b join ccc as c on b.id=c.id) で先にbbbとcccのidが一致するのをレコードを作成したうえで、 aaa join () as bc on (a-1)=bc.a1 or (a-21)=bc.a1; で、aaaのa-1 or a-21と一致するものを抽出しています。
UPDATE table1 SET sort = (sort + 1) WHERE sort >= 3; を、 INSERT INTO table1( number, sort ) VALUE(3, 3); の前に実行します。
何に利用したいですか？利用者は何人くらいですか？ これだけ聞けば、どちらが適しているかを答えられます。 今回の質問を大げさに書くと、 タンス1個を2人だけで運びたいのですが、 軽トラが良いですか？(ACCESS) 10トントラックが良いですか？(PHP+mysql） と聞いているにように感じられます。
> アクセスでエクスポートができません エクスポートはどのような方法でやってますか？ 提示あった内容では抽出できているのですよね？ 以下の記述でどんな動きになりますか？ （報告もない方だったでしょうか？） 選択クエリ名を ★★ とした場合、 Samp1 では、DoCmd.TransferSpreadsheet を使って Samp2 では、自力で なお、Samp2 では保存していないので･･･ Public Sub Samp1()    Const CFILE As String = "D:\Hoge\Moge.xlsx" ' 修正要    DoCmd.TransferSpreadsheet acExport _                , acSpreadsheetTypeExcel12Xml _                , "★★", CFILE, True End Sub Public Sub Samp2()    Dim cn As ADODB.Connection    Dim rs As New ADODB.Recordset    Dim i As Long    Set cn = CurrentProject.Connection    rs.Open "★★", cn, adOpenForwardOnly, adLockReadOnly    If (Not rs.EOF) Then       With CreateObject("Excel.Application")          With .Workbooks.Add             With .Worksheets(1)                With .Range("A1")                   For i = 0 To rs.Fields.Count - 1                      .Offset(, i).Value = rs(i).Name                   Next                   .Offset(1).CopyFromRecordset rs                End With             End With          End With          .Visible = True       End With    End If    rs.Close End Sub
>kurasusi1192さん >MY SQLで勉強して、取得し易いデータベースの資格は何が有りますか？ 無いと思います。
カラムに id(主キー、オートインクリメント）name(VARCHAR,255)として nameに「北海道」「青森県」「秋田県」「岩手県」・・・「沖縄県」 で prefectureテーブルに入っているものとして 「山」を含む都道府県を検索したいという場合は try{ $db = new PDO("mysql:host=localhost;dbname=test_db","root",""); $db->setAttribute(PDO::ATTR_ERRMODE, ERRMODE_EXCEPTION); }catch(PDOException $e){ echo $e->getMessage(); exit; } $stmt = $db->prepare("SELECT * FROM prefecture WHERE name LIKE ? ESCAPE '!'"); $stmt->bindValue(1, '%' . preg_replace('/(?=[%_!])/','!', "山") . '%'), PDO::PARAM_STR); $stmt->execute(); foreach($stmt->fetchAll(PDO::FETCH_ASSOC) as $row){ echo $row['prefecture']; } という感じで取得できます。 山形県、富山県、山梨県、岡山県、和歌山県 の５件が抽出されると思います。
SELECTした結果ということでしょうか？ それならCASE文を使ってみてはいかがでしょうか？ 例） case when 引っ張ってくる列 = 0 then '無料' when 引っ張ってくる列 = 1 then '有料' when 引っ張ってくる列 IS NULL then '無料' else '' end 上記だと０なら無料、NULLなら無料、1なら有料、それ以外なら何もなし。
興味はあるのですが専門外なので実装屋に聞いてみました。 もしその人間が構築する場合、LVSにぶら下がってるスレーブをそのままマスタに昇格させることはせず、まずLVSから切り離してからマスタに昇格させ、できればIPアドレスもマスタ用のものに振り直す、というような形になるだろうということです。 自動フェイルオーバーを実装する場合も同様と言っておりました。 あくまで構想であって構築実績はありません。念のため。 やり方が異なるのでご参考になるかどうか分かりませんが、ひとつの方法としてコメントさせていただきました。
テーブル定義が記載されていませんが、恐らく 氏名表(番号,氏名) 成績表(番号,点数) ではないかと。 結果として成績表の番号や点数も欲しいのであれば、サブクエリーに記述しては駄目です。 サブクエリーの結果はSELECTできません。 今回の場合、サブクエリー部分をFROM句の仮想ビューにしてあげればいいでしょう。 元のSQLをできるだけ残しつつ書くと SELECT * FROM 氏名表 AS A INNER JOIN (SELECT 番号 FROM 成績表 WHERE 点数=479) AS B ON A.番号=B.番号 SELECT * FROM 氏名表 AS A INNER JOIN (SELECT 番号 FROM 成績表 WHERE 点数>=500) AS B ON A.番号=B.番号 とすれば可能です。 なお、本来であれば以下のようなＳＱＬにするほうが自然です。 SELECT * FROM 氏名表 AS A INNER JOIN 成績表 AS B ON A.番号=B.番号 --以下どちらか WHERE B.点数=479 WHERE B.点数>=500
おはようございます。 ひつようでございます。
こんにちは。 いいかんじで つかいます。
こんにちは。 すばらしいものです。
こんにちは。 重要で ございます。
こんにちは。 MYSQLは いいものです。
1) このリストア用のコマンドが違います。ここに書く時に間違ったのか、本当に間違って打ち込んだのか確認してください 誤) mysqldump -uroot -p -hlocalhost hogedb --default-character-set=binary < hogedb.sql 正) mysql -uroot -p -hlocalhost --default-character-set=binary hogedb < hogedb.sql - mysqldumpではなくmysql 2) 1) が正しいコマンドを打っていた（ここに書く時に間違えただけ）として、何かエラーは出ていませんか？ ``` ERROR 1840 (HY000) at line 24: @@GLOBAL.GTID_PURGED can only be set when @@GLOBAL.GTID_EXECUTED is empty. ``` など。
こんばんわ。 いいものでございます。
入力値の取り込み処理とかフォームの構成とかを見ると、実用ではなく学習用のものだと思いますので主旨に関係ない細かい修正ポイントは省略します。 ご提示のソースが実際に設置されたPHPファイルのソースどおりに記載されているという前提で。 1) ひとつ目の「$pdo->prepare」のクエリ文 「WHERE kate_test.id = test.test_id」だと「kate_test」テーブルの「id」カラム値と「test」テーブルの「test_id」カラム値が等しいレコードを抽出することになりますが、それは意図された処理でしょうか。 そもそも「kate_test」には「id」カラムがないようなのですが、「kate_id」の記述ミスでしょうか。 たぶん「kate_test」テーブルの「kate_name」カラム値と入力値の「$id」が一致するレコードを抽出するクエリにしたいのではないかと思うのですがどうでしょう。 「select kate_id AS test_id FROM kate_test WHERE kate_name = :kate_name」として、 $res->execute(array(':kate_name' => $id)); 2) 「while」ループの意味。 抽出するレコードは一個のみのはずなので「while」にする意味はなさそうに思いますがそれは置いといて。 「while」ブロックの中に記述されている「$row['test_id'];」の意味は何でしょうか。 また、クエリ条件に該当するレコードが見つからなかった場合の処理が抜けているようです。 3) 「$pdo->prepare」と「$res->fetch」の間に「execute」を実行しないといけないのでは？ 4) ふたつ目のクエリへの代入値。 代入する値に「while」で取得した「$row」を使用するのであれば「bindValue('TEST_ID', $row['test_id'], PDO::PARAM_INT)」とすべきでは？ なお、提示されたHTMLのプルダウンでは選択肢値が直接サーバに送られるので、画面文字コードとサーバ側の内部コードとの整合性をチェックし、異なる場合には文字コード変換処理が必要になります。 それ以外にもマルチバイトを使う際にはいろいろとケアが必要になります。 今回は練習用にあえてそのような構成になっているものとして、そのまま処理する前提で話を進めましたが、できれば入力フォームに設置するプルダウンの「option」に「value」を指定して半角数字で送信するようにした方がサーバ側の処理が楽になります。 <option value="1">歴史</option> <option value="2">科学</option>
まず、詳細情報用のPHPを準備します。（ここではinfo.php） "ここに詳細ページのアドレス"のアドレスを、 href="info.php?id='.$row['顧客ID'] .'"> とし、詳細ページに顧客IDを引き渡します。 詳細ページでは、ざっくりと以下のような処理でどうでしょうか。（エラー処理や例外処理は省きます） /**** 詳細ページサンプル ****/ <?php $id = $_GET['id']; // 前のページから引き継いだIDを取得 // 顧客情報を取得する $con = mysql_connect('localhost', 'root', '********') or die('error(connect)'); mysql_select_db('データベース名', $con) or die('error(select_db)'); mysql_set_charset('utf8'); $sql = 'select * from kokyaku where 顧客id = ' . $id; //顧客テーブルから顧客IDを $kokyaku= mysql_query($sql, $con); // 顧客情報を出力する // ここで$kokyakuを使用し、echo等で出力 // 商品情報を取得する（仮に商品テーブルをshouhinとします） $sql = 'select * from shouhin where 顧客id = ' . $id; //商品テーブルから顧客IDが一致するデータを取得する $shouhin= mysql_query($sql, $con); // 商品テーブルを出力する // ここで$shouhinを使用し、echo等で出力 // リストとして表示する場合は、<table>タグ等使用 ?> /**** 詳細ページサンプルここまで ****/ ほんとにざっくりとしたソースになりますがこんな感じでどうでしょうか。
> 「Error:SQLSTATE[HY000] [2003] Can't connect to MySQL server on '【GoogleCloudSQLの外部IPアドレス】' (13)」 エラーコード13は "Permission denied" ですので、SELinuxが怪しい気がします。
ホスト名は、そのデータベースが稼働しているサーバー名じゃないですかね。 CentOsでやってるなら、localhostで稼働しているのでlocalhostになるかと思います。 さくらとか、そういうとこだとまたなんか長い名前というかアドレスみたいのがありますね。 データベースについてるホスト名が、上記のことで、ユーザー名はただ、そのサーバーを利用するユーザー名だと思います。
"～it\\\'s so damn dirty' LIMIT 1" とすればどうですか。 こうすると「～it\'s so damn～」という文字列がMySQLに渡され、 MySQLは「\'」を特殊な意味を持たないただの「'」とみなすと思います。
「リモートから」というのが外部のサーバを意味しているのであれば、 ホスト名はFQDN、つまりはドメイン（みたいなもの）を指定するのが普通です。 普通、WEBサイトは http://hoge.com/ みたいなURLで指定します。 hoge.com にアクセスしたとき、「DNS」という仕組みが、 hoge.comはIPアドレス「xxx.xxx.xxx.xxx」だよ～と返してくれます。 IPアドレスが、物理的なマシンがどこにあるかを教えてくれます。 で、「ブラウザ」からアクセスしてきた場合は、 そのマシン内の、apacheというWEBサーバを管理するソフトウェアが、 「指定のURLはここにおいてあるファイルにアクセスしてね～」という指示（これをdocumentrootという）を返し、 そのファイル（基本的にhtml）にアクセスします。 DBの場合はそのマシン内にしかるべきDBサーバが立ててあって、 データベース名やらユーザ名やらパスワードに間違いがなければ、接続できます。 ※カンの良い方なら気づくと思いますが、ホスト名はFQDNではなくても、IPアドレスを直接指定してもつながります。 ※WEBサーバとDBサーバが物理的に同じマシン内にある場合は、ホスト名は「localhost」と指定します。 ※外部からのDBへのアクセスは、通常はサーバ側の設定で指定されるモノ以外は拒否されます。セキュリティ的な問題で。なので、「接続先」のサーバも、自分のコントロール下にないと、普通はアクセスできません。 ＞ホスト名に何ても名前を付けてもいいというわけではないですよね？ まぁ、FQDNやらDNSやらの原理原則、ルールをわかっているなら、ある程度は自由に名前をつけられます。 自分が今使っているPC「のみ」でよいなら、hostsの設定をすれば、自分の管理下にないFQDNもDNSを自由に書き換えられますしね。
＞ホスト名とはそのサーバの名前に相当するものなのでしょうか？ その通りです。 ＞ユーザーにもホスト名を割り振ることができるというのはどういうことなんでしょうか？ ホスト名を割り振るのではなくユーザー名とホスト名の両方を指定して接続します。 ＞どういった使い方をするのですか？ そのユーザーに対しサーバー毎に異なる設定をしたい場合に使用します。
> カウント対象リストがない場合は、0（ゼロ）を出したいのです。 回答そのままで 0 がでると思いますが･･･ > CLNG(NZ( Count(Q_123.リスト名)、0） AS 件数 ) が1つ少ない上記に変更した意図は何なのでしょう？
create userとgrantは別のSQL文です。 create userはidentified by 'password'で終わりですから、最後にセミコロンがなければなりません。 https://dev.mysql.com/doc/refman/5.6/ja/adding-users.html https://dev.mysql.com/doc/refman/5.6/ja/account-management-sql.html
> DBの授業 まずはその授業を思い出しましょう。 回答者は授業を受けてはいませんから、回答者の勝手なＤＢ設計は、授業の内容に沿わない可能性が高く、他所からコピペしたのがバレバレです。 ＿＿採点側は一発で判ると思います ＿＿評価は未提出以下なのでは？
>エラー内容を調査しWebで検索するとMｙ.iniの設定変更とか色々出ていますが、どれを試しても、今のところうまくDump取得までいきません。 具体的にどう試して、その結果どうなったのでしょうか。 ググってみたところでは、my.iniの[client]セクションにno-beepというのが書いてあるせい、ということで、 ・[mysql]セクションに移動 ・削除またはコメントアウト ・my.iniそのものを削除 のどれかで解決するはずです。 また、my.iniはいろんなところから拾われるので、直したつもりが有効でなかったということもあるかもしれません。 https://dev.mysql.com/doc/refman/5.6/ja/option-files.html なお、mysqldump --helpすると Default options are read from the following files in the given order: C:\Windows\my.ini C:\Windows\my.cnf C:\my.ini C:\my.cnf C:\Program Files (x86)\MySQL\MySQL Server 5.7\my.ini C:\Program Files (x86)\MySQL\MySQL Server 5.7\my.cnf とあり(見やすいように改行しました)、上記の記述と食い違いが見られます。 手元では、 C:/ProgramData/MySQL/MySQL Server 5.7/my.ini の[client]にno-beepが書いてあっても、サンプルデータベースのダンプはできていますが、これは単にこのファイルが拾われていないだけかもしれません。 >mysql> -u user --all-databases > dump.sql これはまったく見当外れです。 「mysql>」に入力するのはSQL文です。 「-u user --all-databases > dump.sql」というのは、mysqldumpのコマンド行オプションであり、SQL文ではありません。 これを「mysql>」に入力しても何の意味もありません。
こんにちは。 MYSQLは 大切です。
MySQLを利用するには参照の設定画面で、「MySql.Data.dll」の追加が必要です。
> ITかあさん様のスクレイピングプログラムを設置しよう 件のサイトの関連ページをチラッと見てきましたが、かなり古い感じですがメンテナンスされているモノでしょうかねぇ... ＿＿質問しても相手にしてもらえないみたいだし ＿＿説明不足だったり、説明文の意味がよく解らなかったり... ＿＿PHP5.3 あるいはそれ以前の書法で書かれていて、現在では非推奨では？ ＿＿PHP7.0.x が使えるのに、古いものを積極的に使う理由は無いと思う > 現在の目標は、ローカルで動く自分のためだけのまとめサイトを作る事 探せば他にも見つかると思います。 「WordPress まとめサイト」などで検索してみては？ > Feedwordpressを使うと、RSSの全情報を取得してしまう RSS の情報から、必要なモノを選んで加工するって事をするんじゃないかと思います。 > スクレイピングを勉強しつつ 自サイトのスクレイピングは、目印になるモノを埋め込みできますから割とやり易いと思います。 単に移植するのではなく、何をやっているのかを理解すれば自力でも書けると思います。頑張ってくださいね。 ただ、WordPress が生成したページデータを読み込んでヤルのは、ちょっと面倒かもしれません。 WordPress を使ってが前提にあると、勉強が捗らないかも... ＿＿個人的には WordPress 自体は「PHPの学習」の教材 ＿＿になるとは全然思えない
MySQLはリレーショナルデータベースを実現するプログラムの1つです。MySQL WorkbenchはMySQLを管理するためのソフトです。MySQLのようなリレーショナルデータベースは、基本的にはSQLを実行してリレーショナルデータベースを操作する機能しか持っていないので、それ以外の機能は別ソフトで提供されます。
クエリで表示する･･･でも良いですか？ > 黄色の部分のデータは、一営業日前の商品の値段 20160108 の バナナ が 120 ということは、 20160106 に無く 20160105 の値段を持ってきている･･･ 過去、直近日付の値段を拾う？ クエリのSQLビューに以下を記述して表示してみます SELECT Q1.*, Q2.値段 AS 前日の値段 FROM テーブル１ AS Q1 LEFT JOIN テーブル１ AS Q2 ON Q1.商品番号=Q2.商品番号 AND Q1.日付>Q2.日付 WHERE Q2.商品番号 Is Null OR Q2.日付 = (SELECT Max(日付) FROM テーブル１ WHERE 商品番号=Q1.商品番号 AND 日付<Q1.日付); ※ この結果では、 20160108 の りんご の前日の値段は 110 になります やっていることは、 テーブル１ 自身を、同じ商品番号の以前の日付と結び付け 以前の日付がないか、または、以前の日付の最大日付に絞って･･･ 余談） 上記の考え方を前回ご質問に応用してみると SELECT Q1.日付, Q1.商品番号, Q1.商品, Max(Q2.販売数) AS 販売数新記録 FROM テーブル１ AS Q1 LEFT JOIN テーブル１ AS Q2 ON (Q1.商品番号=Q2.商品番号) AND (Q1.日付>=Q2.日付) GROUP BY Q1.日付, Q1.商品番号, Q1.商品; テーブル１ 自身を、同じ商品番号のその日を含む以前の日付と結び付け Q1 側でグループ化して、その日を含む以前の販売数最大を･･･ その日の販売数が過去最大と同じだったら NEW を表示するには （タイ記録でも NEW になりますが） SELECT Q1.日付, Q1.商品番号, Q1.商品, Max(Q2.販売数) AS 販売数新記録, IIF(First(Q1.販売数)=販売数新記録,"NEW") AS 更新 FROM テーブル１ AS Q1 LEFT JOIN テーブル１ AS Q2 ON (Q1.商品番号=Q2.商品番号) AND (Q1.日付>=Q2.日付) GROUP BY Q1.日付, Q1.商品番号, Q1.商品; ※ ３行目に判別処理を追加しただけ･･･ ※ 最小日付 20160105 にも NEW が表示されますが、表示したくない･･･なら Count(*) > 1 とかの判別した後にするとか･･･ IIF(Count(*)>1,IIF(First(Q1.販売数)=販売数新記録,"NEW")) AS 更新
WHERE条件が成り立たない場合は受信件数は０件となるので。名前も当然０件で何も受信されません。
合計値を降順に並べて1行目のみとりだせばよい select 担当, sum(売上) as 売上計 from テーブル group by 担当 order by 売上計 desc limit 1;
selectでcase文を使えばSQLのみで実現出来ます「select case when 1 then '北海道’ when 2 then .... else ' ' end from テーブル名」とします。一般的な方法は1と北海道を行としたテーブルを作って置いてjoinでテーブルを結合して対応します。
こんばんわ。 いいと思います。
こう書いては、どうですか？ SELECT id, name, kuse from table1 as t1 where edaban = (select MAX(edaban) FROM table1 as t2 where t1.id = t2.id);
相談してみては? ただ普通の業屋と違うので、そのおつもりで。 システム焼き変えになっても、安上がりかもしれません。 http://www.sonicgarden.jp/
「構造」でそれが表示されるってのは妙な気がします。 テーブルを再度作った際に使用した SQL に、sales という文言は出ていませんか？ ＿＿その SQL には CREATE TABLE 以外はありませんか？ > 構造を開くと先ほどの英語のエラーが出てしまいます。 「構造」ですか？「表示」ではありませんか？ 以下「表示」の場合であるとします もう一度、 salesカラムが存在するテーブルを作ったら、どうなります？ ＿＿多分、問題なく表示されると思う そして、sales 以外のカラムでソートするように（例えば id とか）指示してから、sales カラムを削除しては？
データベースの日付のフォーマットは [YYYY-MM-DD HH:MM:SS]という形式になっています。 以下のように正規表現を使って置換を行えば 2016年06月04日 になります。 $dateformat = preg_repalace("/^(\d+)-(\d+)-(\d+)/","$1年$02月$03日",データベースの日付);
単純にいうと、OS内部のみか、外部と通信可能かだと思っているのですが。mysqlのクライアント:サーバー間通信設定に特化して説明すると以下かな。 TCP/IP : IPアドレスを利用したパソコン間の通信 socket : OS内部でのアプリケーション間の通信 ※ mysql では、ポート番号 3306 から 3309 を利用してデータのやりとりをする。 OS内部でも localhost:127.0.0.1を通じてポートアクセスも可能ではある。 ポートを閉じれば、外部からの干渉を排除可能ではあるが、この場合内部も外部ネットワークもポート利用不可になる。 内部では、ソケット名を使って、クライアントアプリケーションとMySQLサーバーとで内部通信可能。 windows では ”サービス”として登録した サービス名をsocket名に利用 linuxのソケットファイルはよく知らないので割愛。
INSERT INTO `ＰＣ利用状況` (`利用者名`, `ＰＣ名`) VALUES (`山田太郎`,`YAMADA-PC`); で1件入ってますね。 それを 利用者名 だけ取得したい場合は SELECT * FROM `ＰＣ利用状況` WHERE `利用者名` = `山田太郎`; とすれば 山田太郎 だけ取得することができます。
INSERT IGNORE という構文があります． http://www.dbonline.jp/mysql/insert/index4.html
>osietekudasaionegaisimasuyoさん2016/6/1913:18:13 >MySQLで文字コードがutf8のキーを使いたいのですが、型は何を使えばよいのでしょうか？ 何の型でもかまいません。
見た感じ、GMOのレンタルサーバ、ですかね。 >データベース容量を増やしたり、 できます。 >複数のデータベースを組み合わせたりすること できますが、今回の件では意味ないと思います。 WordPressは詳しくないので正確な事は言えませんが、WPそのものに「引っ越し」機能があるなら、バックアップとって容量大きいサーバに引っ越し、がてっとり早いです。 WPに引っ越し機能がない場合でも、デザインのデータ（テンプレートか何か）は引っ越しできるはずですし、DBは（サーバによりますが）直接アクセスまたはphpmyadminなどからdumpデータを取得すれば、引っ越し可能です。 面倒臭いのは画像データですね。 サーバそのものにSSHでログインできれば可能性はありますが、通常の権限だと無理な場合が多く・・・このテの案件だと地味に手で移すしかない、場合が結構あります。 総じて言うと、「不可能ではないけど難しい、というか面倒くさい」です。 WordPressは汎用性の高さからか、DBの設計自体がルーズな所があり、 圧縮するにも限界があります。 過去ログも全て、閲覧できる状態で残したいのなら、結構難しいと思います。 現在のサーバ、DBを維持しつつ容量を増やしたい、 お金かかっても構わない という事なら、現在使用されているサーバ（のサービス）にでも問い合わせる方がてっとり早くて建設的だと思います。 もしくは、別のサーバで新しくブログを作る。とか。
両方のPHPともに同じ名前のファイルをアップしても、片方だけ失敗する、ということですよね。 PHPのエラーログなどは出ていないでしょうか。 エラーが出ていれば原因がすぐに分かると思うのですが、エラー内容が不明な状況では、アップロードが正常に行われる方のPHPと失敗する方のPHPの処理の相違点をチェックするしかないと思います。 マルチバイト文字のコードがなんらかの原因になっていると思われますが、プログラムのスクリプト文字コードは両者とも同一になっているでしょうか。 あと、片方だけ保存前にファイル名になにか別の処理（文字コード変換など）を施すようなフローになっていないでしょうか。
はい。しんどいです。
顔を洗ったことあります。
はい、痛いですよ、、
jkのベロは綺麗ですよ。
SQLも文法が微妙に異なりますし、システムの構造も根本的に異なるので、難しいと思います。
私も初学者ですが、気になったところだけ。 これらを一つずつ実行してもエラーがでますか？ primary keyのカラム指定がいくつか間違っているように見えます。 primary keyの設定は、そのテーブルにあるカラムを指定しないといけないような気がします。 上手くいかなかったらごめんなさい。
例えば Create table users ( id int not null auto_increment primary key, name varchar(255), subtitle varchar(255) ); と打ち込んで subtitle の型を text に変更する場合は ALTER TABLE `users` CHANGE `subtitle` `subtitle` TEXT と打ち込めばVARCHARから TEXT に変更することができます。 MySQL.comより文法引用 ALTER [ONLINE|OFFLINE] [IGNORE] TABLE tbl_name [alter_specification [, alter_specification] ...] [partition_options] alter_specification: table_options | ADD [COLUMN] col_name column_definition [FIRST | AFTER col_name ] | ADD [COLUMN] (col_name column_definition,...) | ADD {INDEX|KEY} [index_name] [index_type] (index_col_name,...) [index_option] ... | ADD [CONSTRAINT [symbol]] PRIMARY KEY [index_type] (index_col_name,...) [index_option] ... | ADD [CONSTRAINT [symbol]] UNIQUE [INDEX|KEY] [index_name] [index_type] (index_col_name,...) [index_option] ... | ADD FULLTEXT [INDEX|KEY] [index_name] (index_col_name,...) [index_option] ... | ADD SPATIAL [INDEX|KEY] [index_name] (index_col_name,...) [index_option] ... | ADD [CONSTRAINT [symbol]] FOREIGN KEY [index_name] (index_col_name,...) reference_definition | ALGORITHM [=] {DEFAULT|INPLACE|COPY} | ALTER [COLUMN] col_name {SET DEFAULT literal | DROP DEFAULT} | CHANGE [COLUMN] old_col_name new_col_name column_definition [FIRST|AFTER col_name] | LOCK [=] {DEFAULT|NONE|SHARED|EXCLUSIVE} | MODIFY [COLUMN] col_name column_definition [FIRST | AFTER col_name] | DROP [COLUMN] col_name | DROP PRIMARY KEY | DROP {INDEX|KEY} index_name | DROP FOREIGN KEY fk_symbol | DISABLE KEYS | ENABLE KEYS | RENAME [TO|AS] new_tbl_name | ORDER BY col_name [, col_name] ... | CONVERT TO CHARACTER SET charset_name [COLLATE collation_name] | [DEFAULT] CHARACTER SET [=] charset_name [COLLATE [=] collation_name] | DISCARD TABLESPACE | IMPORT TABLESPACE | FORCE | ADD PARTITION (partition_definition) | DROP PARTITION partition_names | TRUNCATE PARTITION {partition_names | ALL} | COALESCE PARTITION number | REORGANIZE PARTITION partition_names INTO (partition_definitions) | EXCHANGE PARTITION partition_name WITH TABLE tbl_name | ANALYZE PARTITION {partition_names | ALL} | CHECK PARTITION {partition_names | ALL} | OPTIMIZE PARTITION {partition_names | ALL} | REBUILD PARTITION {partition_names | ALL} | REPAIR PARTITION {partition_names | ALL} | REMOVE PARTITIONING index_col_name: col_name [(length)] [ASC | DESC] index_type: USING {BTREE | HASH} index_option: KEY_BLOCK_SIZE [=] value | index_type | WITH PARSER parser_name | COMMENT 'string' table_options: table_option [[,] table_option] ... (see CREATE TABLE options) partition_options: (see CREATE TABLE options)
PostgreSQLとMySQLの違いの事でしょうか？ PostgreSQL： オブジェクト関係データベース管理システム PostgresをSQL対応に改修したものがベースです。 MySQLに比べて機能が豊富です。(ストアドプロシージャ、PL/pgSQLなど) MySQL： リレーショナルデータベース管理システムでメモリやCPUが貧弱でも稼働します。 外部インタフェース(SQLを解釈する部分)とストレージエンジンが分離しています。 現在MySQLのストレージエンジンには、 旧来からのMyISAM(参照が高速、全文検索可能、同時更新が苦手)と、 InnoDB(同時更新も問題なし、参照も最近は充分高速)の2つがあります。 PostgreSQLはOracleやSQLserver等と同じでデータベースシステム側にビジネスロジックを組み込む事が可能ですがMySQLだと難しいです。(10年前のPostgreSQLより機能が少ない) もちろん、呼び出し元側で制御すれば同等の事は出来ますが、Webからも、社内PCのアプリケーションからも同じ処理をさせる場合、Web用スクリプト(PHP,Perl等)と、社内アプリケーション(VB,C#等)で同じロジックを別々に実装する必要が出てきます。 ※ PL/SQLはOracle用のマクロ言語的なものです。 ※ PL/pgSQLはPostgreSQL用のマクロ言語的なものです。 ※ PostgreSQLの省略語はPgSQL等と表記されます。
拝見しました。 MySQL.が、50MBなのは、保存できる容量でよろしいかと思います。 次にディスク領域の1GBは、パソコンのHDDなどという考え方でよろしいかと思います。 PHPなどもインストールされるものですし、写真や動画ならそれをアップしたりする際に頭を使うので、当然容量が少ないと時間がかかったりなどがあります。。。
select * from employees where salary in( select max(salary)from employees union all select min(salary)from employees) です。
エラー内容が「Permission denied」なので、画像ファイルの書き込み先ディレクトリに書き込み属性が付与されていないのが原因なのですが、その前にパス指定が正しいかどうかを確認された方がよいと思います。 特に相対パスで指定されている「../../img/dummy/」が正しいかどうかは重要です。 どうしても相対パスで指定しなければならない理由がない限り、絶対パスで指定されることをお薦めします。 パスが正しいのにこのエラーが出る場合はそのディレクトリに書き込み属性が付与されていないことが原因ですので、FTPで「0666」か「0777」属性を与えれば書き込めるようになると思います。
それならAccessで十分だと思いますけどねぇ。 SQLServerやMySQLなら「多数の利用者による同時処理」が可能ですが、スタンドアロンならあまり意味はない。バックアップの自動化とか、データベース管理の意味でなら良い点もあるでしょうね。 どちらのRDBMSも利用、運用に少し勉強が必要ですし、Accessよりかはプログラムも難しくなります。（リンクテーブルじゃスピード出にくい） 身の回りにその辺りを教えてくれる人が居る方の製品を使えばいいんじゃないでしょうかね。
ホスト名、というのは「接続先」のホスト名ですね。 とあるWEBサーバ（WEBサイト）から、 物理的に同じマシン内に立ててあるDBサーバにアクセスする場合は、 ここ（ホスト名）は「localhost」になります。 物理的に別のマシンにあるDBサーバにアクセスする場合は、 ここ（ホスト名）はIPアドレスを指定するか、fqdnを指定します。 fqdnを指定した場合・・・例えば「hoge.com」だとすると、 hoge.comはIPアドレスは何番だよ～というのを「DNS」がやってくれます。 ってな話です。 データベース名、ユーザ名は、 指定先のサーバ（ホスト名）内に、 指定してある名前のデータベースが作ってないと動きませんし、 指定してある名前のユーザが作ってないと動きません。 権限うんぬんは「ユーザ」に割り振られます。 なので、 ＞user1がdatabase1に接続するには、host1からではないとできないということでしょうか？ コレは間違いですね。 接続先・・・ホスト名・・・の、 データベース名のデータベースに対して ユーザ名のユーザで、 付け足すならば指定のパスワードで、 接続を求める・・・ということになります。
CURDATE(),CURRENT_DATE() は "YYYY-MM-DD"の形式を返す関数ですが、 NOW()やCURRENT_TIMESTAMP()は "YYYY-MM-DD HH:MM:SS"という形式を返す関数です。 CURDATE(),CURRENT_DATE()の型は DATE型にしなければなりませんが、 NOW()やCURRENT_TIMESTAMP()の型は DATETIME型にしなければなりません。 例えば MySQLの users テーブルにid(int)、name(VARCHAR/250)、created(DATETIME)として作成すると、 idにはオートインクリメントとプライマリキーを持たせたとします。 PHP側で $sql = "INSERT INTO users (name, created) VALUES (:name, now())"; $stmt = $dbh->prepare($sql); $stmt->execute(array(":name", "ヤフージャパン")); と実行すると phpmyadmin側で id には "1"が、 nameには"ヤフージャパン"が、createdには "2016-05-15 12:43:50" が表示されます。
権限の問題では。 「気持ち悪い」という意味では、WEBなんで最終的にはサーバにあげるわけですよね。サーバのOSはWindowsなんでしょうか。 ローカルではどうやって動かしているんでしょうか。ApacheやPHPをインストールしていますか？ 要するに、最終的に想定される環境と、ローカルの環境が違いすぎるとどのみち動きませんよ、という話です。 「Windowsのcmdでmysqlを動かして」 Windowsにログインしているユーザは管理者権限だったりしませんか。 であれば、Linux風にいうとroot権限でコマンドラインを実行しているのと同じ事になるはずです。 で、mysql（作成したdatabaseやtable）の所有者はダレになっているのでしょうか。phpの実行権限はどうなっていますか。 まぁ、あとsqlはなるべくシンプルなものにする方がよいです。 ごく単純なupdateだけするとか。 ifとか、条件分岐はphp側で処理してしまう方がいろんな方面に優しいのではないかと。。。ただし、sqlインジェクションにはご注意ください。。。
おはようございます。 重要でございます。
データベースを使っても、ファイルをそのまま置いても、サーバーにデータを保存していることになりますが、データのしまい方が違います。 保存したデータをどう使いたいか？という目的が違うので、しまい方で工夫しているのです。 MySQLは関連するデータを、共通したキーワードを条件にマッチしたものを、表型式で取得できますので、プログラムから利用しやすいです。 ファイル格納ですと、商品の定価が100円以上などを検索するにも、都度ファイルをオープンして全文検索をかける必要があるので、計算コストが、高く時間のかかる仕事ですが、データベースなら数百万件のデータがあっても現実的な時間で処理できます。
わからないけど、たぶん if((rs.getString("password").equals(request.getParamator("password"))) じゃないかと。 なんでわからないかというと、そもそも if((rs.getString("id")).equals(request.getParametor("id"))) というのがありえない構文なので。 DB使ってるのですから、普通はSQL文にsetString(1,request.getParamator("id")します。
>mizyumaru512さん2016/6/1213:57:55 >どなたかやり方を教えていただけませんか？ それを習うために学校へ行っているのだから学校で聞けばいい。
phpカテに投稿してるんだからphpで文字列分解して、別テーブルにinsertし直せばいいのでは？ とも思ったけど、mysql の文字列関数で分解可能なのというと SUBSTRING_INDEX(str,delim,count) が使えそう。 「文字列 str から、区切り文字 delim が count 回出現する前の部分文字列, count が負の値の場合は、(右から数えて) 最後の区切り文字の右側にあるすべてが返されます。」 一応msgの文字列は、分解後のカラム順に統一されてるようだから、 ' ' 出現回数で区切れるだろう。 select SUBSTRING_INDEX( SUBSTRING_INDEX(msg , ' ',1) , '=' , -1 ) as node , SUBSTRING_INDEX( SUBSTRING_INDEX( SUBSTRING_INDEX(msg , ' ',2),' ',-1) , '=' , -1 ) as type /* ,中略, */ , SUBSTRING_INDEX( SUBSTRING_INDEX(msg , ' ',-1) , '=' , -1 ) as mode from `tb1` ; これで、求める表示が得られたなら、insert文で目的テーブルに入れれば完了
たしかに！ こんな質問があるんだもの…
END_DATEにインデックスを張るしかないと思います。
認証URLがクリックされた時点でデータベースにはなんらかの「認証済み」フラグを立てられるのですよね？ であれば、それ以降に認証URLがクリックされた場合にはすでに「認証済み」フラグが立っていることを確認できるはずですので、「すでに認証済みです」というようなメールを返信されてはいかがでしょうか。 あるいは「認証済み」フラグがすでに立っているメールアドレスからのメールは無視するとか。
Wikipediaの「SQLインジェクション」のページにあるように、 ご質問の変換だけでは不十分な場合があります。 そもそも、 > 入力チェックを実施して危険な文字を安全な文字に置換してから > SQLに渡したいです。 とは考えない方がいいです。もっといい方法があります。 SQL文はご質問の「select * from A where test = ?」のままで、 「?の部分に○○を入れろ」と別の場所で指示する方法で、 これをバインド(バインディング)機構やプレースホルダと呼びます。 上記の例でいえば、○○の中身は'が入っていようがなんだろうが、 「test列と○○が一致するか？」しかチェックされません。 例えば、「' OR 'A' = 'A」が入力された場合、 単純にSQL文に反映させると「select * from where test = '' OR 'A' = 'A'」となって困りますが、 バインド機構を使えば変換なんてしなくても、 「test列と『' OR 'A' = 'A』が一致するか？」というチェックがなされます。 言語等によってこの機構が使えるかは異なりますが、 使える場合はこれを使うのが一番確実で便利です。 使えない場合でも、安全な文字列に変換する機能が備わっていることもあるので、 それも検討した方が良いです。詳しい人が作ったものの方が安心ですよね。 本当にこれで十分？なんて心配もないですし。
items テーブルのカテゴリごとの数を求めて、それをサブクエリとして categories と外部結合します。サブクエリに存在しない categoryId の ItemNum は NULL になりますから、COALESCE 関数で NULL を 0 に置き換えます。 SELECT categories.id, COALESCE(itemNums.itemNum, 0) itemNums FROM categories LEFT JOIN (SELECT categoryId, COUNT(1) itemNum FROM items GROUP BY categoryId) itemNums ON itemNums.categoryID = categories.id ORDER BY COALESCE(itemNums.itemNum, 0) DESC SQL Fiddle を用意しました。 http://sqlfiddle.com/#!9/7f60e/5
おはようございます。 しっかりしています。
こんばんわ。 MYSQLは いいと思います。
こんばんわ。 利用はできています。
こんにちは。 いいですね。
select client_name,請求.client_id,sum(請求額1+請求額2) from 請求 inner join クライアント on 請求.client_id=クライアント.client_id group by client_name,請求.client_id order by 1 です。
DATETIME にして INSERT INTO テーブル名 (カラム) VALUES (NOW()) と実行してみてください
PHP側から接続する場合は PDOを使います。 try { $dbh = new PDO("mysql:host=MySQLサーバー;dbname=データベース名;charset=utf8","ユーザー名","パスワード"); }catch(PDOException $e){ echo $e->getMessage(); exit; } で接続が完了します。$dbhはデータベースハンドルと呼びます。 PDOではプレースホルダを利用できるので 例えばテーブル名「linebbs」として id, name, email, password, date, ip としてカラムを持っている場合 $sql = "INSERT INTO linebbs (name, email, password, date, ip) VALUES (:name, :email, :password, now(), :ip); $stmt = $dbh->prepare($sql); $params = array( ":name" => $_POST['name'], ":email" => $_POST['email'], ":password" => password_hash($_POST['password']) ); $stmt->execute($params); といった具合で挿入ができます。
検索条件によります。 FULL TEXT INDEXとかパーティショニングとかきっちりやってNgram使えば、それほど遅くないSQLを書けるケースもあります。
XAMPP の Shellを立ち上げコマンドプロンプトから mysql -u root と打ちます。 例えば niconico_dbというデータベースを niconicoというユーザーがパスワード niconico でアクセス権限を利用するには以下のSQLを打ちます。 CREATE DATABASE niconico_db; GRANT ALL ON niconico_db.* TO niconico@localhost IDENTIFIED BY 'niconico'; データベースに切り替えるには以下のSQLを打ち込みます。 USE `niconico_db`; このデータベースに usersというテーブルを作るには以下のSQLを打ち込みます。 CREATE TABLE users ( id INT NOT NULL auto_increment primary key, email VARCHAR(255) UNIQUE, passwords VARCHAR(255), created DATETIME, modified DATETIME ) ENGINE=INNODB;
この要件は、 「取引先毎に、発注金額を集計する。ただし、１つの取引先には複数の注文番号があり、１つの注文番号には複数の発注実績がある。集計の際には、各注文番号で最大金額の発注実績のみを採用し、あとは捨てること」 ということですよね。 いくつか方法は考えられますが、どれも「劇的にSQLがスッキリ！」というわけにはいかないです。 あなたの作ったSQLで十分実用的だと思います。
>yarebadekirusa3333さん Cの文字列の結合に+は使えませんなので以下かな 色々なやり方あるけど ***案1) sprintfとか使うと int x=10; char buf[10000]; sprintf(buf, "insert Table(a) values('%d')", x); とかしたら printf("%s\n", buf); で insert Table(a) values('10') bufに君の希望のものがはいってくる CernのROOTっていうC++インタプリタでやると以下 root [0] int x=10; root [1] char buf[10000]; root [2] sprintf(buf, "insert Table(a) values('%d')", x); root [3] printf("%s\n", buf); insert Table(a) values('10') ***案2) std::stringを使う方法 こっちは+演算子が文字列結合に使える 数値ならstd::stringにもってこないといけないけど それの例は std::string 数値 変換 #include あたりでググれば簡単に調べれると思う Cの文字列をわたさないといけないなら std::string sql; ....処理 sql.c_str() でCの文字列として取りだせます ***案3) BoostライブラリにC++バージョンのsprintfがあるので それを使う 名前忘れたけど Boost sprintf あたりでググれば名前はすぐ調べれると思う
解決策ではなく、基本的な考え方ですが、 こんな苦労するなら１フィールドにして置けば良かったと思いますが.... なんか事情があるのでしょうね。
全ての\を\\にしてください。 参考 https://www.postgresql.jp/document/9.2/html/functions-matching.html 9.7.3.3. ＞注意: エスケープの先頭の\をSQL文字定数としてパターンに入力する時には二重にしなければならないことを忘れないでください。以下に例を示します。
表の構成列は、どうなっていますか？ >その行をselectするときに数字の降順に並べ直す どの列かを無視して、値順に列の並びを変えたいと言ってますか？ もしそうなら、テーブル設計を見直した方がいいです。 MySQLのバージョンを、MySQL 5.6.xといったレベルまで提示するようにしてください。MySQL 5.6.xと5.6.yの間に、大きな仕様変更が行われたりします。
>教室をどのテーブルに組み込むか どのテーブルに入れるかはそのテーブルの主キーとの関係で決まります。 時間割テーブルの主キーは曜日と時間と考えます、一方 科目テーブルは科目コードと考えます。教室が曜日と時間で決まるのであれば時間割テーブルに、科目コードで決まるので有れば科目テーブルに持つ事になります。 >もっと効率のいいテーブル構成はないか 作るシステムのニーズの違いで効率の良いテーブル構造は大きく変わるので、実際に作って動かしてみないと分かりません、動かしてみて調整して下さい。
おかしいですね。 たかだか、数ＭＢぐらい何ともないはずです。 バグでもあるのかな？ それとも、ディスクやメモリーが足りないのかもしれません。
>momoclo_love_foreverさん >この問題、皆さんならどのように解決されますか？？ 私なら自前で処理を記述しますが、ここのみなさん前提なら外注する形で解決するしか無いと思います。
>クーロン等で定期実行してスクレイピングで取得、その後に取得した情報を加工しながら出力という感じなのでしょうか？ はい、そんな感じです。
次の方法がいいでしょう。 SELECT sum( case when カラム名 between 1000 and 1999 then 1 else 0 end ) as 千台, sum( case when カラム名 between 2000 and 2999 then 1 else 0 end ) as 二千台, sum( case when カラム名 between 10000 and 19999 then 1 else 0 end ) as 一万台 FROM テーブル
php側でやるしかないかな？MyISAMテーブルの場合なら、複数カラム連動primary keyで、一方のカラム値指定ごとにもう一方を auto_increment できますが、それ以外は無理ですし。 phpでのやりかたは、MySQLのテーブル設定では、案件IDは auto_incrementにはせずに、primary key のみとし、 個人IDごとに 案件IDの最大値をチェックしてから、案件IDをphpで生成したうえで，insertする。 最大値チェックからinsertまでを１transaction作業とする必要があります。innodb テーブルとして、この方法を使うのがよいでしょう。
my.iniのmax_allowed_packetを大きめにしてみては？
私も以前さくらでmt使おうとしてはまりました。 さくらはphpでmysqlに接続した後にmysql_queryで文字コードを強制的に設定しないと化けます。 http://www.miuxmiu.com/archives/2009/08/20/sakura_php_mysql_utf-8_g...
こんにちは。 MYSQLは 大切でございます。
下記の(2)の方法の残りがされてない？ http://babiy3104.hateblo.jp/entry/2014/02/13/000219
SQLではカラム数は固定が基本ですので、内容におおじてカラム数を変更する事はできません。尚、MySQLの場合はgroup_concatを使って複数行を１個の列に集約出来る機能が有るので、これをつかえば１個のカラムとして表示出来ます。 select member,group_concat(item),date from 買い物 group by member,date order by 1
select id from table where pets like '犬,%' or pets like '%,犬' or pets like '%,犬,%' でどうでしょう。
DELIMITER $$ CREATE TRIGGER TEST_TRIGGER AFTER DELETE ON テーブル FOR EACH ROW BEGIN DELETE FROM テーブル WHERE なんちゃら=NEW.なんちゃら END; $$
「２カラム比較して大きい方を並べ替え比較に使う」と解釈するなら case式でどっちを使うか判別させればよいだろう。mysql は order by 句に式が書けるので以下のように。 order by case when A>B then A else B end desc しかし、御呈示の並び順にはならないのですけど、安倍、菊池、有田 の行データ比較はどのように行ってその順番になるのでしょう？菊池が有田のあとなら、上記case式ででますが。
SQLはリレーショナルデータベースを操作する機能しか持っていません、今回の質問のような、それ以外の処理はプログラミング言語で行って下さい。
これは、 mysql コマンドだけその設定を有効にすればいいです。 my.cnf の [mysql] と書いてある直下に設定を記述してみてください。
MySQLは5.6からりinnodb_file_per_tableがデフォルトで有効なので 各スキーマ名のディレクトリにデータを格納します． その際、ibdata1は各スキーマに共通のデータが格納されるとの 記憶です． なので，ibdata1はそれほど大きくなりません． 5.6までは，既定値が無効なので，ibdata1にデータが格納されていました．
状況がよく分かりませんね。。。 １．テーブルは異なったまま、データベースのみ、１つに統合するのでしょうか。 ２．似たような２つのシステムを１つのシステムに統合するのでしょうか。 ３．２つのテーブルデータを１つのテーブルに統合するのでしょうか。 １～３は全て統合する事はできます。 １の場合はテーブル名を変えて、データ移行を行い、プログラム側もテーブル名を変えれば良いだけです。 ２，３の場合は、主キー等を考慮する必要があり、統合（移行）方法も状況によりいろんな方法が考えられます。 もう少し詳しい状況を頂かないと回答できません。 なお、いずれにしても各社が出している簡易移行ツール等は本当に簡易であり、 今回のケースを対応できるツールはないと思いますので、 独自にツールを作られるか、業者かフリーランスに費用をかけて頼むのが良いと思います。
本体でエラーが出てるからそのプラグイン削除して本体を新しく入れ直したらいいんじゃないかな
$sql = "     select column_name from information_schema.columns     where table_schema = 'cmt' and table_name = 'fac' "; $cols = array_map('current', $mysqli->query($sql)->fetch_all());
mysqli_report(MYSQLI_REPORT_ERROR | MYSQLI_REPORT_STRICT); を一番最初に入れてください．そうするとprepareに失敗している理由がわかると思います．
３件くらいなら、phpで並べ替えてもいいと思うけど。と思ったが、ほんとは144個か。 SQLでごり押しするなら、必要件数を抽出するSQLをサブクエリにして、再ソートする。 select * from ( /* 3件抽出 select文 */ ) as temp order by id asc ; 24時間以内のデータでよいのなら、件数ではなく時刻指定で抽出にする select * from `tblname` where ADDTIME( cast( `date` as datetime) , `time`) >= SUBTIME(NOW() , '24:00:00') order by `id` asc ; -- 連動index( date ,time ) があれば、抽出は早いはず。
日本語マニュアルは 5.6 ですが、5.7とで、格納サイズ計算に変更はないのでご参照ください。 http://dev.mysql.com/doc/refman/5.6/ja/storage-requirements.html カラムの文字コードに utf8 を指定した場合 １文字の最大バイト数 w=4 なので、 char(M) → M*4 バイト : Mは文字数指定していることになる。 varchar(M) → M + (1 or 2)バイト : つまり、こちらのM はバイト指定なので、多バイト文字を格納すると、 M/4 文字しか格納できなくなるかもしれないということ。 なので、char 型のカラムでは、文字コードの指定も考慮が必要。
SQLのCOUNT関数の結果は 結果のカラム名: COUNT(カウント対象にしたカラム名) 結果の値: カウントした結果 が1行だけ取得できる，というふうに決まっています．fetch_allは結果が複数ある前提の関数なので，1件だけ取得したい場合はfetchで十分です．ただし，mysqliには1件のうちの1カラムだけを取得する関数はないので，結果にcurrent関数を適用して先頭要素を取り出します(PDOだとあるんですけどね…)． $rows[] = $st->get_result()->fetch_all(MYSQLI_ASSOC); ↓ $rows[$value] = current($st->get_result()->fetch()); としましょう．
vm.swappiness=0は、実メモリを使いきるまでスワップしなくする為のオプションです。 いっそメモリを増やしてswapを0にしてみてはいかがですか？
DELETE FROM tbl1 WHERE id = 100 AND code=5 AND NOT EXISTS (SELECT 0 FROM tbl2 WHERE number = 5) です。
テーブルは「create table テーブル名 (カラム名 データ型(桁数),...)」で作る事が出来ます。文法が簡単ですので、どこが上手く行かないのか具体的に示していただかないと、望みの答えは得られないと思います。
SQL Developerは、Oracle用のクライアントソフトですよね？ ODBCでMySQLに、接続しているのでしょうか？ >limit 100とかすると、コードが誤っています Oracleでは、LIMIT句が実装されていません。 MySQLに対応したクライアントソフトを、利用できないのでしょうか？
update `table` set no=concat(left(no,6),'00') です。
言葉通り、1対1なのか、1対多なのか、多対多なのかというだけの話です。 例えば、顧客テーブルと注文テーブルがあったとして、 顧客テーブルにそれぞれの顧客の情報が、 注文テーブルにそれぞれの注文の情報が格納されているとします。 1人(1社)の顧客が複数注文することはよくあることですが、 1つの注文に複数の顧客は普通は出てきません。 なので、顧客テーブルと注文テーブルは1対多の関係になるでしょう。 逆に、共同購入のように複数の顧客が1つの注文をするなんて 形式を認めるのであれば、多対多でしょう。 技術的な話を除いて例で説明すればこんな感じでしょうか。
英単語的には adress → address ですね． delete name, namea, number, address, work, school, pass from old left join name on name.id = old.id left join namea on namea.id = old.id left join number on number.id = old.id left join address on address.id = old.id left join work on work.id = old.id left join school on school.id = old.id left join pass on pass.id = old.id where old.id = ?
おはようございます。 必要です。
bind_param でフォーマットに s を指定した場合は，値をエスケープしつつシングルクオートで括るという動作が行われるので，例えば ? に AAA という文字列をバインドするとこうなります． %'AAA'% しかし作られるべきものはこっちです． '%AAA%' というわけで，あらかじめバインドする文字列に%%を付加しておくことになります．但し，そのまま付加するだけだと%や_などのLIKE検索用の特殊文字自体を検索したいときに失敗するので，これらをエスケープする必要があります． http://qiita.com/mpyw/items/b00b72c5c95aac573b71#like%E6%A4%9C%E7%B... これをMysqli用に書くと $address = 'AAA'; $expr = '%' . addcslashes($address, '\_%') . '%'; $stmt->bind_param('s', $expr);
詳細は分かりませんが、恐らくint型ではなく、 bigint型にすることで、解決するかと思います。
character_set_client →アプリからDBに送る文字コード character_set_connection→アプリからDBに送られた文字コードの変換文字コード character_set_database→DBで使用されている文字コード character_set_results→DBからアプリに返す文字コード character_set_server→DBのデフォルト文字コード character_set_system→システムが利用する文字コード character_sets_dir→照合順序などで利用する文字コードルールファイルの置かれている場所 上の定義だと、アプリから送られたcharacter_set_client文字コード(cp932≒シフトJIS)をcharacter_set_connection文字コード(cp932)に変換した上でSQL文を解釈し、character_set_results文字コード(cp932)に変換した上で結果を返す、という動作になります。
PDOコンストラクタの第1引数として渡すDSNでは ・host ・dbname は渡すと思いますが ・charset これも指定していますか？「charset=utf8」の指定が必要です． <?php $dsn = 'mysql:host=localhost;dbname=X;charset=utf8'; $user = 'XXX'; $password = 'YYY'; $options = [     PDO::ATTR_ERRMODE => PDO::ERRMODE_EXCEPTION, ]; try {     $pdo = new PDO($dsn, $user, $password, $options);     /* PDOを使う処理はここに全部書く */   } catch (PDOException $e) {          header('Content-Type: text/plain; charset=UTF-8', true, 500);     exit($e->getMessage()); }
Subline textはUTF-8以外の文字コードを認めませんし、扱えません。 MySQLへinsertする場合も、MySQLの設定がどうであろうと、全てUTF-8で送信・受信します。 そのため、MySQL側でUTF-8での入出力が必要となります。 これを参考にutf-8に設定してください。 http://qiita.com/YusukeHigaki/items/2cab311d2a559a543e3a
カスタム投稿タイプ個別の記事自体は表示されますか？できないようであればパーマリンクのリフレッシュをしていないと思われますので「設定」→「パーマリンク設定」を開き、何もせずに更新してください。 カスタム投稿タイプを増やしたときはこの作業をしないと表示されません。標準のカテゴリーやタグに紐付けした場合も同様ですので一度試してください
私は「ザンプ」と読んでいます。 （参考 https://ja.wikipedia.org/wiki/XAMPP ）
故障時の復元時間を中途半端に縮めたい（本気で縮めるならレプリケータ使ったホットスタンバイをするので）といった特殊な事情がない限り、普通は物理バックアップ取ったりはせず、論理バックアップを取りますね。 物理バックアップは容量を取りすぎます。 MySQLには標準でmysqldumpというコマンドが用意されています。 こちらを利用して定期的に論理バックアップを取るのが良いかと。
前の回答読みましたか？
エラーが出ないのにデータが登録されていないのであれば、本番機ＤＢでないところに登録している可能性があります。 C#から自社開発環境のＤＢに接続していたり、Database名が違っていたりしませんか。
まず、phpMyAdminに、接続できましたか。 考えられる可能性として、mysql関数は、mysqli関数とPDO関数に切り替わっており、mysql関数は使えない可能性があります。
MySQLはリレーショナルデータベースを実現する為のプログラムの1つです。MySQLをインストールする事でSQLを使ってMySQL内のデータベースを操作する事が出来るようになります。PHPを使う場合もPHPでMySQLに接続しSQL文を送って結果をもらう事でMySQLのデータベースを操作する事が出来ます。データの操作はSQLで行った方が全てプログラミング言語で作る方法よりも格段に簡単になるので、このようは方法を取ります。
> 最新10件からランダムに一つ抽出したいときのクエリ 素直にやりたい事を書けばいいんじゃない？ >最新10件 SELECT * FROM `board` ORDER BY id DESC LIMIT 10 これに t という別名を付けて (SELECT * FROM `board` ORDER BY id DESC LIMIT 10) AS t > ランダムに一つ抽出したい SELECT * FROM t ORDER BY RAND() LIMIT 1 で連結すれば SELECT * FROM (SELECT * FROM `board` ORDER BY id DESC LIMIT 10) AS t ORDER BY RAND() LIMIT 1 って事で良いのでは？ ランダムに抽出するのは、PHP側でやってもいいかもね。 ご提示のテーブルなら、それほどのメモリを消費しないでしょうから、最新の10件を全てを配列で取得（PDO::fetchAll()）し、shuffle() してから、配列の先頭を使えばいいでしょう。
セッションが、どのミドルウェアかわかりませんが、 テーブルから取り出した値を、変数に正しく代入すれば、あとは自由に使えます。
select tbl_a.コード,名称,店名 from tbl_a inner join tbl_b on tbl_a.コード=tbl_b.コード order by 1 です。
専用サーバーか、最低VPSサーバーなら外部からのアクセスを許可できます。無料サーバーは無論、共有サーバーなどは無理です。
$st = $pdo->query($sql); で、$stに入るのはスカラではなく、配列ではないでしょうか。 $_SESSION["first"] = $st; ではなく、 $_SESSION["first"] = $st['first']; それと、結果が0件だった場合もエラーがでると思いますので、処理が必要です。 余談ですが、MySQLでは動きますが、firstはSQL予約語なので、カラム名にするのは避けたほうが良いと思います。
根本的な誤解をされているのではないでしょうか。 SEQUENCEはNEXTVALで一度発行した番号を再発行することは、サイクリックしない限り無いです。それなのに、それを前提としたINSERT文を書くことがそもそもの間違いです。 また、外部キー制約（FOREIGN KEY）を設けたところで、データを入れるプログラム側が間違っていたら、正しい値が入ることなどありません。要は、FOREIGN KEYの問題ではないということですよ。ついでに言うと、SQL*Plusの問題でも無いです。SQL*Plus以外から実行したって、同じことが起こりますからね。 ＞このserviceNOには100が入って欲しいのですが、どのようにすれば宜しいですか？ その100という値が【どういう理由で決まるのか】が全くわかりません。だから答えようがないです。要は【設計上の問題】ですので、【なぜ100になるのか】をまず【定義】しないことには、【100に決めるための手段が無い】というわけですね。回答者がこの辺を把握できなければ、回答のしようがないとも言えます。 他の方への補足も見る限り、設計者であるあなたの頭の中で整理できていないし、情報開示も全然できていない、かつ、設計上の欠陥もあるだろうという結論にならざるを得ないように思いますよ。。。 正直言って、何の制約も設けていないプレーンなTABLEでも、あなたの望む動作はしないでしょう。 FOREIGN KEYやPRIMARY KEYは、完璧にエラー無く動作するプログラムであるなら、そんなもの付けなくても正常動作し、データが壊れることもありません。あくまでも補助機能的なものであって、本筋としてはプログラムが適切であれば無くても構わないんですよ。だから、外した状態で動かしても、取りあえず最低限の結果が得られるくらいの設計はできていないと、そもそもがダメなのです。 あなたの設計は、FOREIGN KEYやPRIMARY KEYを全部外しても、望み通りの結果は得られないと思いますよ。要は、【問題（考えるべきところ）がそこ（FOREIGN KEYやPRIMARY KEY）ではないから】ですね。。。 FOREIGN KEYやPRIMARY KEYなどの制約は、不正な値が混入することを防止するための補助機能であって、まずは正しい値を入れられるようにならないと話にならないのです。そして、この質問は、正しい値をどうやって作るのかが全くわからない質問になっています。「何かいろいろかんがえていることはあるのだろう」というのは補足を見て感じますが、その「考えていること」が「誰にも伝わっていない状態」ですよ。
＞SPOOL C:\testFile.txt 無名PL/SQLブロック内に、SQLではないSPOOLコマンドを埋め込むことはできません。DECLAREの前に追い出してください。 100％アウトなのがこれです。他の部分はチェックしていませんが、まずこれを除去しないと絶対に動かないです。
こんにちは。 MYSQLは 大切でございます。
通常は、そういう用途別とかユーザー別にデータベースをわけて、on dbname.* で dbname内なら作り放題消し放題とする。 データベースを分けられないならば、アプリケーション側で、 create文発行後に、create文からview名を抽出して drop権限を与えるとかかな。他アプリからのcreate発行を制限できることが条件ではある。
こんばんは。 相性はとても良いと言えます。 素人とありますが、極小規模の会社で一人で管理され、１日の取引がそんなに無いならaccessでも管理出来そうですが…それともそれなりの規模で100人単位で処理があり開発会社との折衝されるのでしょうか。 ある程度の規模ならサーバーはミラーリングし、バックアップも作る必要があります。 また、その場合言語はjavaが好ましいです。javaの技術者は多いし、情報が豊富、dbはSQLserverか、oracleあたりが標準です。予算、コスパを考え、決める必要があるので、良いでしょうかと言うより、開発を任せるなら何社か見積りで競合させて情報を引っ張り出したり、ご自身でやられるなら、安く済ませ、ミラーリングの組み方、バックアップの復元まで体制をよく考えればjavaとmysqlでも良いかと思います。 javaで作れる方がrubyを使うのは良いですが、いきなりrubyを使うのは私はおすすめできません。
>lmceo35381489さん >IPアドレス/phpmyadminにアクセスすると404 Not Foundとなってしまいます。 FTP等で見て、ファイルが有るかどうか確認するのが先決だと思います。
マスタースレーブ構成とありますが、それにこだわらず、容量を大きくする方法として回答します。 いろいろ方法はあると思いますが、昔ながらの方法は、ルールに基づく分割です。 たとえば、MySQLサーバーを6台に分割して、idを6で割った余りで、どのサーバーに書き込むかを決めます。速度は、insert・update・deleteはほぼ変わりなし、idがわかっていればselectは6倍になります。
「ビュー」という概念を使うことで対応できませんか。 ビューというのは、擬似的なテーブルのようなものです。 SELECT文の実行結果を実在するテーブルのように扱えるように する仕組みです。 http://dev.classmethod.jp/server-side/db/mysql_practice_1/ のように複数のテーブルをまとめたビューを作って、 1つのテーブルのように扱えるようにすることができます。
<?php $pdo = new PDO('mysql:host=localhost;dbname=データベース名;charset=utf8','ユーザー名','パスワード',array(PDO::ATTR_ERRMODE => PDO::ERRMODE_EXCEPTION,PDO::ATTR_EMULATE_PREPARES => false,PDO::MYSQL_ATTR_USE_BUFFERED_QUERY => true,PDO::ATTR_DEFAULT_FETCH_MODE => PDO::FETCH_ASSOC)); $query = "SELECT SUM(A),SUM(B),SUM(C) FROM テーブル名"; $stmt = $pdo->prepare($query); $stmt->execute(); $row = $stmt->fetch(PDO::FETCH_ASSOC); $A_sum = $row['SUM(A)']; $B_sum = $row['SUM(B)']; $C_sum = $row['SUM(C)']; echo<<<RESULT Aの合計値：{$A_sum}<br> Bの合計値：{$B_sum}<br> Cの合計値：{$C_sum}<br> RESULT; ?> とりあえず、意図した通りに動くように書いただけです。 テストで動かすだけならいいですが、実用するのであれば、エラー処理などは入れていないので、このまま使わず、絶対にエラー処理などを入れて使ってください。 tezcelloさんも仰っていますが、mysql系の関数は使わず、PDOを使うようにしてください。
RDBMS間の移植を行うのであれば<>にしておく方がパフォーマンスが良いと思います。
>yoyama1208さん2016/5/323:26:48 >私は、ある団体で、地域密着型のサイトを開設を考えています。 質問の感じから知識や検索能力は無いと思うので、外注するなら素人の好き勝手に選んだ物を使う、まともな業者は無いので、自分であれこれ考えずに外注先に丸投げしましょう。 自分で作ると言うのなら、質問する以前の状態なので１つ１つ自分で検索して知識を付けていく事が先になります。
パスが長すぎんじゃね？ Windowsでのパスの指定は256文字以内だぞ？
結論から言えば可能だと思います。 が、ご自身の手でMoodleのAPIを使ってプラグイン的に作るなり、 もしくは完全に自前で追加機能を開発する必要が出てくるのではと思います。 1. APIドキュメンテーションを見て目的の機能が実現できそうなものが無いか確認する https://docs.moodle.org/dev/Main_Page 2. プログラムを組む 想像する流れ 1.ユーザー一覧を取得 2.ユーザー毎に小テストの成績を取得 3.成績から小テストを得る 4.ユーザーに3を追加する
DATEは日付けと時間がセットですので時間だけを登録する方法は有りません。 日付けも付けて登録するか、DATEを止めてCHAR(8)にして登録して下さい。
既にログインしてるんじゃないですか？であればｑでログアウトすればプロンプトになるかも。
この例ではAさんは3種類の商品を持っていますが、これって、人によって、何種類持っているかは違いますよね。 （Bさんは5種類、Cさんは8種類持っているかもしれない） 「1人は、最大10種類までしか持たない」 と決めて、10個を横に並べることはできます。 （この場合、Aさんは4個目以降の欄はnullとなる） しかし、もし11種類を持った人が現れると、アウトです。 「1人が10個だろうと20個だろうと、何個持っていようと、とにかく横に並べる」 というのは、多分MySQLでは不可能だと思います。
どこからの入力なのかも問題です。 mysqlクライアントからなら、 \. \+ のように￥は１個で次の文字をエスケープします。\\とすると \ 文字になり、次に来る . や + は正規表現コマンド解釈されてしまいます。 java や php などのプログラミング言語のソース記述時は、そのソースがプログラミング言語に解釈されたときに、\ 文字とならなければ、SQL文字列として、\が入ってこないので、\\ とします。 プログラミング言語のソースで、\\\\ と４つ書くのは、SQL解釈後も \ 文字として判定させたい時です。
explain文 でピンポイントでデータが見つかるのか（インデックス）、テーブル全走査なのかチェックしてみてください。explainについてはネットでいろいろ解説があるので探してみてください。Using Temporaryとかなったら、大変ですが。。頑張ってください。
batは基本Shift-JSで、 chcp 65001 とかで変更するんだったかなと思います。 参考までに。ごめんなさい。
MySQLの質問をする場合は、MySQL 5.6.xといったレベルまで、バージョンを提示するようにしてください。MySQL 5.6.xと5.6.yで、大きな仕様変更が行われたりします。 参照制約で、外部キー定義時にON UPDATE CASCADEを定義すれば、主キーが更新されれば、対応する外部キー値を持つ行も更新されます。 ON DELETE CASCADEを定義すれば、主キーの行が削除されれば、対応する外部キーを持つ行も削除されます。 http://dev.mysql.com/doc/refman/5.6/ja/create-table-foreign-keys.ht... >あるテーブルのカラムに一つの値を加える 加算するような列を、主キーにしようといているのでしょうか？ もしそうならば、重複エラーに注意するなどが必要となり、本当に主キーにすべき列かを検討する必要があります。 他の方法では、トリガを定義する方法があります。 http://dev.mysql.com/doc/refman/5.6/ja/triggers.html
lockが予約語だからでは？
答えがわかりません。教えてください。お願いします。 ↓↓↓↓ やり方（考え方）がわかりません。教えてください。お願いします。 ではなかろうか。 １）学生テーブルを使って、学科ごとの人数を集計クエリで、計上する。 ※集計クエリ、Group By、SUM関数でぐぐってみてください。 ２）学科テーブルと、１）を使ったサブクエリを、リレーションする。 ※サブクエリ（副クエリ）、INNER JOINでぐぐってみてください。
＞shitumon_taro_20150424さん ＞実現可能か判断がつかず 可能です。 ＞→別途excelで管理している最新データをそのままDBに反映させる。 逆です。 ｅｘｃｅｌがデータベースに接続します。 ＞最終的に希望の形にできるかがどうも掴めません。 見知らぬ他人のスキルレベルまで見極められないので、回答のしようがない。 いろいろなプラグインなどを使っていると、使えそうな物は絞れるものです。
>shizuokazuyaさん2016/4/2416:53:19 >メールフォームから送信された情報に1から順番に番号を割り振ってデータベースに登録するにはどうすればいいですか？ プログラムを自作するなり外注するなりすればいいです。
こんにちは。 MYSQLは 丁寧にします。
そもそもT_user_cardのテーブル構成がおかしいです。一次正規化すらできていないテーブルからデータを取ろうとすると、どうやっても無理が出ます。 テーブルの設計からやり直すことをお薦めしますが、それができないというのであれば無理矢理なＳＱＬで無理矢理なデータを作るしかありません。 また、それを行うにしてもT_user_cardのキーとなる項目が不明で、どうやっても「ユーザーID●●さんは■■」という表示はできません。 テーブルを出すなら手を抜かずにきちんと出してください。 また、●●や■■が具体的にテーブルのどのカラムを意味しているのかも明記してください。
MySQL の load data文では1回に１ファイルしか取り込めません。取り込み先も１テーブルしか指定できません。 2回load 文を発行する以外の方法はありません。
一例です。 SELECT xxx_id FROM ( select xxx_id, yyy_id from テーブルA where yyy_id in (1,2,3) ) GROUP BY xxx_id HAVING count(distinct yyy_id) = 3
ご愁傷様です。次は気をつけましょう
SELECT U.id, Ken1_1.name, Ken2_2.name .... from t_User U LEFT JOIN T_Ken Ken1_1 ON Ken1_1.id=U.都道府県1-1 LEFT JOIN T_Ken Ken1_2 ON Ken1_2.id=U.都道府県1-2 ...
MySQLのクエリ結果である画像リストを使って 複数の画像をZip形式にまとめる作業を行った経験 がある者の回答ではありませんので悪しからず エクスプローラによる検索結果としての リスト表示（Windows 7)の場合 あらかじめ空のZipファイルを作って名前を付けておき 複数ファイルを選択して 問題のZipファイルに ドラッグ ＆ドロップするやり方を使っています が お尋ねの状況で このやり方が使えるのでしょうか？ なお、多数のファイルをZip形式にまとめる事には 次のような問題がありますこと 承知おきのほど願います ZIPファイルを扱う(圧縮、解凍)アーカーブソフトの 仕様によっては また、 結果となるZIPファイルの容量によっては 「ファイルが壊れている」とのエラーが出ることがあります （この場合、本当に壊れている場合と、 別のアーカーブソフトでは正常な場合とがあります） ファイル名に 登録商標記号や著作権記号、 外国語のアクサン記号やウムラウトなど Unicode でなければ表示できないような文字が 含まれているファイルが一個でもあると アーカーブソフトの仕様にも依るのですが たいてい圧縮は失敗します JPEG形式やPNG形式などの一般的な画像は それ自身がすでに圧縮済みのファイルなので Zip形式にまとめても ファイル容量はほとんど減りません それどころか 増えることすらあります Zip形式にまとめるメリットは ファイルの個数を減らせる程度でしょう
おかしいですね。 今、CentOS 6.7 で、全く同じことをやったら動きました。 /var/log/mysqld.log には、何か書いてませんか？ それとも、 ldconfig -v ってやったら共有ライブラリを更新して動くのかな？
MySQLでは、予約語でないことを示す記号はシングルクォートではなくバッククォート（｀）です。 シングルクォートは文字列を表します。
select * form mydb where id=1 でしょうか？
ちゃんと見てませんが多分Left Joinすればいけるとおもいます。 外部結合〜Outer Joinとかで検索！
>gnat_adaさん2016/4/1920:32:51 >LAMPサーバーでApache2のListen portを80以外にしても機能する設定方法を教えてください。 80以外の数字にすれば良いだけです。
ウェブサイト以外は何も検討してないのでしょうか？
クライアントのcharset設定は、必ず行わないと、サーバーで受け取ったときにその多バイト文字がどのコード体系によるか判定できなければ、「?」文字に変換する仕様となっています。 先にmy.ini や my.cnf などで設定済みのことが多いので、意識しないまま利用してる人も多いですが、自前でインストールしたときなどは、設定が必要です。 サーバー側では、最終的にカラムに直接 文字コード設定をしてあれば、その文字コードへ変換して格納されます。比較するときも、クライアント送信文字列の文字コードから、対象カラムの文字コードに変換して比較が行われます。 テーブルに多数のカラムがあるのに、いちいち指定するのは面倒なので、テーブルのオプションとして、default charset を指定しておくと、個別にcharset指定の無い文字データ用カラムは、その設定に従います。個別指定のあるカラムは個別指定が優先されます。 create table 時に charset オプションをつけなかった時は、データベースに設定されているcharset で table のオプションに自動的に付け加わります。 テーブル作成後にデータベースの設定を変更しても、すでに作成済みテーブルの文字コードは変更されません。データベースにcharset設定する利点は、create tableでのオプション記載が不要になる程度ですが、他のデータベースへ持って行ったり、別のサーバーに再構築の時など、データベースのcarset設定が違うと思わぬ誤変換が出ることがあるので、table オプションのcharset指定は省かない方がよいと思います。 データベースにcharset設定が無ければ、サーバー設定を使います。
ECサイトのオープンソースによります。 キモは決済システムとの連携です。 決済システムがpaypalであれば、テスト環境はxamppで充分です。
プログラム開発時には、エラーを表示させるようにしておいた方が手軽です。 そうしてなくても、エラーは全て拾う様に error_reporting(E_ALL); は入れておくべきでしょう。 > Fatal error: Call to a member function fetch() on a non-object エラーメッセージを読む努力はしましたか？ それが出来ない人は、プログラムを作る側ではなく、制作を依頼する側にお回りください。 $stmt->fetch() に失敗していて、オブジェクトじゃないなんて言われているのは、$stmt への代入している部分（要するに $dbh->query() ）に失敗しているのだは無いかと予想します。 $stmt にキチンとステートメントオブジェクトが返ってきているかを確認してから次のステップに進むのがあるべき手順でしょう。 ＿＿もちろん失敗したのなら、エラー情報を取得し表示（あるいは記録） ＿＿もすべきでしょうね > <?php > $dbh = new PDO('mysql:host=localhost;dbname=データベース名;charset=utf8','id','パスワード'); > $stmt=$dbh->query("SELECT * FROM `テーブル名` WHERE `title` LIKE 'potential customers' order by `visiting_date` desc limit 3"); > while($result = $stmt->fetch( PDO::FETCH_ASSOC )) { > echo htmlspecialchars($result['customer_name'], ENT_QUOTES). '、'; > } > ?> 公式マニュアルの PDOで挙げられている例を踏襲しないのはなぜでしょう？ 初心者であるという自覚があるなら、出来るだけ確実なところの例をまねるべきだと思います。
MySQLのバージョンは？ >ある項目が1日5以上のIP まず、年月日でGROUP BYする必要があるのでは？ MySQLでは、GROUP BYに独自仕様があるので注意してください。 http://dev.mysql.com/doc/refman/5.6/ja/group-by-handling.html GROUP BYで指定していない列名を、SELECT句で書けてしまうという標準SQLや他のRDBMSとは矛盾する仕様で、これがMySQLのインストール時の標準設定になっていて、「MySQL構文」です。 しかし、これは SELECT c1,c2,COUNT(*) FROM t1 GROUP BY c1 ・・・MySQL独自仕様 と SELECT c1,c2,COUNT(*) FROM t1 GROUP BY c1,c2 が同じ結果になる場合のみ、動作を保証しています。同じ結果にならない間違った使い方でも、標準設定ではエラーにもならず、一見、正常に動作しているかのように結果を保証せずに動作します。
OSは、Windowsですか？ PATHを定義するか、CDでカレントディレクトリを、MySQLのbinフォルダにしてから、mysqlコマンドを実行してください。 コマンドプロンプトのショートカットを作って、プロパティでMySQLのbinフォルダを設定する方法もありますが、OSが未記載なので回答は省略します。
時間がある時にじっくりやって躓いて覚えていくといいですよ
そのエンジニアさんは、「いまどきのWebサイトはWordpressで作るのが当たり前」だと思ってるし、顧客からそういう要求があったのでしょう。 その判断は当たっていると思います。 一般のホームページリニューアルなら、プログラムの出番はないです。 で、問い合わせフォームの実装なんですが、Wordpress環境に問い合わせフォームを組み込む場合、Wordpressテンプレートを使う（ヘッダやフッタ、サイドバーを共用する）のなら、Wordpressのプラグインを使う。それも正しい判断です。 Wordpressのテンプレートと、フルスクラッチのカスタムフォームを結合できるエンジニアはそういませんよ。 んで、Wordpress使うならMySQLのデータベースが必須になります。 なら、新規のデータベースを作るために、phpMyAdminは必要だし、その権限ユーザを作るためにはサーバの管理アカウントが必要です。 そのプログラマ（エンジニア）さんの言ってることは全部正しい。 たしかに、ホームページリニューアルだけでサーバの管理アカウント教えろというのは、先方驚くかもです。 でもね、「今回のサイトは全部Wordpressです。お客様サイドで全部直せます。そのためDBを作る必要あります。サーバ管理アカウント教えてください。」 というのは大いにアリです。 いまどきのサイトならWordpress化は当たり前。一々HTML作ってFTPしたり、問い合わせフォームにフルスクラッチのphpプログラム使うほうが異常かと。
こんにちは。 落ち着いて一つ一つやった方が良いように思いますよ。 色々見ているかと思いますが。下記例を参考にやってみてください。 http://www.dbonline.jp/mysqlinstall/ 上手く行くと幸いです。では。
こんにちは。 しっかりしています。
データはデータベースに現在有る情報が唯一無二ですので、Excelファイルとの同期を取る事自体無意味な事と考えて下さい。EXCEｌファイルを開いた時にマクロを使って最新の情報をデータベースから受信する方法が良いと考えます。ODBCはExcelとは特に関係は無くプログラムからデータベースに接続するソフトです、どのRDBMSとも同じ接続方法ですので、RDBMS毎に最適化されている訳では無いので、最近は個々のRDBMS毎に最適化された個別のプログラムを使って接続する方法が一般的です。MySQL for ExcelはExcelのアドオンソフトでExcel内でMySQLとの連携が出来るソフトです。
mysqlで動くのかは分かりませんが。 select salesno,MIN(etime-stime) from sales group by salesno; ではでは。
条件１は、”または”なのでしょうか？それとも”かつ”？ とりあえず、 １datetime と日付のみの文字列を比較するときは castしましょう。 ２時刻どうしの差をとるには、mysqlには TIMEDIFF() という関数があります。一番小さいのは昇順ソートして1行目。 select * from sales where cast( stime as date)="2016-04-23" or cast( etime as date)="2016-04-24" order by TIMEDIFF(etime , stime) asc limit 1 ;
Select Count(*) Where B.NAME=’山田'' And Not (B.PROG='完了') FROM A LEFT OUTER JOIN B on A.CHAPTER = B.CHAPTER
難しく考えすぎです。 プログラムとは、そもそも「使う人」「用途」「データベース」という３つの要素がそろって初めて成り立つものです。 ＭＶＣは、 ・使う人に直接関わる部分（画面系） ・アプリの用途を司る部分（ビジネスロジック） ・保存装置とやり取りを行う部分（保存系） の３つを効率的に区分けるための仕組みです。 この３つの概念以外は「必要だったから必然的に増えた」部分ですので、基礎が理解できてないのにいきなり丸暗記だけしても意味がありません。 まずは、ゲームでも何でもいいので、とにかくプログラムを組んでみることです。 組むうちに、作業が「画面デザイン」「ゲームルールを司るプログラム」「装置とのやり取りのために必要で、仕方なく作るプログラム」の３種類に集約されることに気づくはずです。 で、この３種類の作業をそれぞれ分けて行うと効率が非常にいいことに気づけばあなたの勝ちです。 あとは、参考書の用語が、上記３種類のどこに該当するのかを当てはめていくだけです。 ちなみにアプリケーションオブジェクトとは、「プログラムの塊」みたいなざっくりした言葉で、参考書内で何かを説明するためにたまたま出てきただけの言葉と思われます。
サクラエディタ、TeraPadとも、マルチバイトの文字コードを実装しています。 文字コードの設定は、適切ですか？ >どれもうまくいきません 具体的に、どのような操作をして、どうなることが問題なのですか？ 文字を直接、キー入力したのか、コピペしたのか、何らかのアプリで出力したのか。 文字コードは、何かなど、具体的に提示してください。 カテゴリから、MySQLを使っての問題なのですか？ その場合、MySQLでは、my.iniで [mysql] [mysqld] [client] に、 default-character-set=文字コード というキーワードで文字コードを設定する必要があります。
<a href="station.php?sid=20">～</a> みたいな感じ。 GETリクエストは上記のようにURL指定することができます。
バリデーションが実行されるタイミングでユニークなデータを検索して結果があればエラーを出すのが一般的なのではないでしょうか？ DBに登録する時点で例外エラーが発生するなら、別のエラーとして処理するべきだと思います。
>isoginchaku_otokoさん >複数のPCで使う場合、どのような構成でDBを管理するべきでしょうか。 向いていないと言った理由を再確認して下さい。 仕えもしない、導入出来もしない物に対して上を見ていたらきりがありません。
keyword のインデックスはどのように作っていますか？ id と keyword のセットでインデックスを作らないと十分にインデックスが働きません。また、word がインデックスに含まれていなければ、インデックスをシークした後にキールックアップが発生してパフォーマンスを落とす原因になるんじゃないでしょうか。 インデックスを table01 -- id, keyword table02 -- id, word で作ってますか？ id と keyword で別々にインデックスを作っても、id と keyword を組み合わせた検索条件に対しては最適化されません。インデックスはテーブルデータのソート済みサブセットですから、id と keyword に対して別々のインデックスを持っている場合、まず id でインデックスを検索ししてヒットした列に対するキーを取得します。そのキーをもとにテーブルデータをスキャンして keyword を検索しますが、これはインデックスに対する検索ではないので遅いはずです。 id と keyword を組にしたインデックスを作れば、インデックスの検索の際に id と keyword の両方を満たすキーを取得できます。これで多少早くなりますが、インデックスには id と keyword 以外のデータは入っていませんから、入っていないデータ（この場合は word) を取得するためにテーブルデータをキーで検索する必要があります（キールックアップ）。 なので、パフォーマンスを最適化するには １．検索条件になっているカラムがすべて同一のインデックスに含まれていること ２．SELECT されるカラムがインデックスに含まれていること が重要です。他のデータベースであれ CREATE INDEX に INCLUDE 句を追加することでソートしない追加データをインデックスに追加できるものもありますが、MySQL の場合はインデックス対象のカラムに追加しなければいけないようです。 また、１００万件のデータがあるような場合は、統計情報がパフォーマンスに大きく影響を与えることがしばしばあります。統計情報が定期定期に更新されているかどうかも調べたほうが良いでしょう。
left join している右側テーブルのデータをカウントしたいのですよね。 COUNT(学科名) ：左側の学科テーブル側カラムでカウントとる意味は無い。 → COUNT(学生.学籍No) as 受講者数 ：学生テーブル側の null データ行は count しない
文字化けの原因は照合順序の問題で間違いないと思います。 が、巨大なサイトでなければ一番簡単なのは ①一旦サーバー上で動いているWordpressを削除 ②新規にサーバーへWordpressをインストール ③ローカルサイトにあるテーマやプラグインをFTPで上書き ④記事等があればローカルからエクスポート、サーバーでインポート（Wordpressの管理画面からできます） まあ、画像要素なんかが別のフォルダにある場合などは別途アップロードしたり調整したりが必要ですが、上記が最も早くて簡単な移行方法です。 その後も特にローカルで作ってからサーバーへ上げなくてもサーバー上で変更していけばいいと思います。それができるのがCMS(この場合はWordpress)の最大のメリットなのですから・・・
あらら？それでは環境構築なんて無理ではないですか？ 指示を出された方は、それを承知で勉強のためにそうされたのでしょうか？#季節的にも研修かしら？ 何の目的の環境かにもよりますよ。 開発環境なのか、試験環境なのか、本番環境なのか。 指示出しした人から、もう少し情報をもらって自分のタスクの理解を深めたらどうでしょうか？
「テーマ」であれば、サイト（データベース）に格納されたデータを抽出して表示するものですから問題ありません。
>kokoronohana555さん2016/4/1001:06:33 >一般的な検証環境の作り方について初心者でもわかりやすいネットで学べるサイトを教えて下さい。 グーグル。
こんにちは。 MYSQLは 重要ですね。
>kokoronohana555さん2016/4/816:31:18 >一般的にテスト環境をつくる場合の簡単な手順を教えて下さい。 ①作りたいテスト環境の作り方を検索する。 ②サーバーを用意する ③物にあわしてサーバーを調整 ④物を転送 ⑤おかしな場所を修正
>fuchs_vulpesさん2016/4/819:33:01 ＞MySQLとPHPを使い下のような掲示板を作るにはどのようにすれば良いでしょうか？ クラウドソーシングに頼むといいんじゃないかな。
期間というのは、DATE_1 から DATE_2 が 指定期間を含むということでいいですか？ で、IDの個数は重複しない数かな？提示データでは、IDはuniqueのようだけど select VALUE, count(distinct ID) as count_id from TBL where DATE_1 < "2014-04-02" and "2014-05-03" < DATE_2 group by VALUE ;
はてなダイアリーのカテゴリがCentOSとなっていることからわかるように、Linuxの話ですので、Windowsでは使えません。
push通信ですね。幾つかそういった技術はありますが、原則として通信を受け取る側は待ち受けていないと、コネクションが張れません。 通信が繋がらないということです。 通常ブラウザは、通信を待ち受ける機能は持っていないので、擬似的にそう見せかけているものが多いです。もしくは、接続しっぱなしとするものですが、これはサーバー側の負荷が大きいです。 スマホには、そういった仕掛けがあらかじめ用意されていますが、AndroidとiOSはpushしてくれるサーバーに依頼する形になります。 ブラウザの種類とバージョンによっては、web push に対応しているものもあります。特定のブラウザのみという制限があります。 push通信 で検索して、要件にフィットしたものを探してみてはどうでしょうか？
1レコード＝1人 （何人かをカウントしたいならレコード数を数えればよい） であれば、 SELECT グループ区分, count(*) FROM ( select case when グループ between '1' and '10' then グループA グループ between '11' and '50' then グループB ・・・・・ else グループD end as グループ区分 from テーブル ) GROUP BY グループ区分
>viridian_7777さん >http://webcraftlog.net/hueman/sidebar-child-category-align-right/ これって、他人のページじゃないの？
Shift_JIS の代わりに cp932 と指定してください。 これで、Windows の機種依存文字は、サポートされます。 参考サイト https://yamazon.wordpress.com/tag/phpmyadmin/
MySQL 5.6でtimestamp型の動作が変わっています。 https://dev.mysql.com/doc/refman/5.6/ja/upgrading-from-previous-ser... を"implicit"でページ内検索してみてください。 my.cnfの[mysqld]セクションに`explicit-defaults-for-timestamp= 0`を追加すると、従来の動作に戻ります（非推奨ですが） ``` mysql56> CREATE TABLE t1 (ts TIMESTAMP NOT NULL DEFAULT current_timestamp); Query OK, 0 rows affected (0.02 sec) mysql56> SELECT @@explicit_defaults_for_timestamp; +-----------------------------------+ | @@explicit_defaults_for_timestamp | +-----------------------------------+ | 0 | +-----------------------------------+ 1 row in set (0.00 sec) mysql56> INSERT INTO t1 VALUES (NULL); Query OK, 1 row affected (0.01 sec) mysql56> SELECT * FROM t1; +---------------------+ | ts | +---------------------+ | 2016-01-13 16:58:38 | +---------------------+ 1 row in set (0.00 sec) ``` ``` mysql56> CREATE TABLE t2 (ts TIMESTAMP NOT NULL DEFAULT current_timestamp); Query OK, 0 rows affected (0.02 sec) mysql56> SELECT @@explicit_defaults_for_timestamp; +-----------------------------------+ | @@explicit_defaults_for_timestamp | +-----------------------------------+ | 1 | +-----------------------------------+ 1 row in set (0.00 sec) mysql56> INSERT INTO t2 VALUES (NULL); ERROR 1048 (23000): Column 'ts' cannot be null ```
PHP5.3.xの「x」はなんでしょうか？ここが重要です．「charset=utf8」でDSNから指定できるのはPHP5.3.6以降です．以下の方法を検討してください． http://qiita.com/ngyuki/items/d88a4df860abb51eb714 ですが，「SET NAMES utf8」でも サーバ側: utf8 クライアント側: latin1 の場合はSQLインジェクションは発生しませんので大丈夫です．アウトな場合は以下のいずれか．非常に稀なケースだとは思いますが． ・PDO::ATTR_EMULATE_PREPARESを無効化せず，かつ「SET NAMES cp932」または「SET NAMES sjis」している ・PDO::ATTR_EMULATE_PREPARESを無効化せず，かつlibmysqlclientのコンパイルオプションでデフォルト文字セットをcp932またはsjisに変更している なお http://blog.everqueue.com/chiba/2009/02/05/129/ >> 追記1; ああ、重要なことを1点言い忘れてるね。mysql_server_prepareを使えばこういう問題はもちろん起きません。なのでこっちの対策を個人的には推奨したい。 とありますが(PDO::ATTR_EMULATE_PREPARESを無効化すること)，個人的には http://dsas.blog.klab.org/archives/52021703.html >> 変数を含むSQLを正しく実行するのに、別にプリペアドステートメントを使う必要はありません。変数の値を、正しくエスケープ処理して、SQLに埋め込めば良いのです。そして、 PDO::ATTR_EMULATED_PREPARE を利用すると、PDOのプリペアドステートメントを普通に使うだけで、PDO内部で正しくエスケープされたSQLを構築してMySQLに投げてくれるので、クエリ実行時に発行するコマンドが1つですむようになり、DBサーバーのCPU,ネットワーク帯域、パケット数を全て削減できます。 の考えを支持したいところです．既に述べたとおり，アウトになるケースはごくごく稀で，変にコンパイルオプションをいじっていない限りは安全だからです．これは人によって意見が割れるとは思いますが．
OSの種別、バージョン、MySQLのバージョンを提示してください。
こんにちは。 重要でございます。
MySQLなら ALTER TABLE テーブル名 AUTO_INCREMENT=1; ですかね。 http://tweeeety.hateblo.jp/entry/2015/04/28/201956
接続するプログラムを近所の業者にでも外注してください。
MySQLでは、InnoDB、MyISAMなどストレージエンジンによって、構造が一部分、異なります。 それ以前に、B-Treeインデクスについてまったくイメージできていないようなので、Oracleの簡易な例ですが、下記を参照してみてください。 http://www.atmarkit.co.jp/ait/articles/0409/10/news095.html MySQLでの具体的な構造や管理情報は、マニュアルで文章で解説されています。 https://dev.mysql.com/doc/refman/5.6/ja/optimization-indexes.html
BとCで入れ替え状態のデータをグループで扱いたいということかな？ 全部の文字数が同じなら、文字列連結順序を適宜判定すればいけるのでは？ order by ColA, case when ColB < ColC then concat(ColB,ColC) else concat(ColC,ColB) end , ColB ； mysql は order by に式がかけるから、上記でいけそう。
Linux系列の話で良いでしょうか。 mysqlについては私は詳しくないのですが、(詳しくても質問文だけでは情報不足で答えられないかと思う。)エラーの解決法として出てきた意味について説明します。 指定の場所にsocketファイルがあるか確認 ls -al /var/lib/mysql/ のうち、2行目は、Linux系のコマンドライン(端末・コンソール・console)上に打つコマンドです。その意味は、 /var/lib/mysql/ というディレクトリ(フォルダ)の中にある ドットを含むファイルの情報を詳しく表示する のようなものです。分解すると、 ls … ディレクトリの中の情報を一覧表示 -al … -a オプションと -l オプションを合体させたもの。-aは先頭にドットを含むファイル(Windowsで言う隠しファイル)も表示させるようにするもの。-lは各ファイル(ディレクトリ)の情報を詳しく表示させるもの。 /var/lib/mysql/ … mysqlのディレクトリフルパス。Windowsで言うなら "C:\var\lib\mysql\" というフォルダを指定しているようなもの。 そして、 「指定の場所にsocketファイルがあるか確認」 指定の場所とは、「mysqlディレクトリの中」のことかと思います。先ほどのコマンドにより、mysqlの中に存在するファイル群を表示出来ますので、その中から「socket」というファイルがあるかどうかを探してみて下さい。 (あったとして、それをどうするかは私にはわかりません。) まずは出たエラーや実行環境(OS等)を詳しく説明するところから始めましょう。わかるものもわかりません。
XAMPPのPEAR::MDB2にはドライバが入っていないようなので、自分でMDB2_Driver_mysqlをインストールします。 これがないと、MDB2 Error: not foundになります。
DB名を省いた後 http://www.php.net/manual/ja/mysqli.select-db.php これで選択できますか？出来なければ ・ユーザ名が間違っている ・パスワードが間違っている ・当該ユーザにデータベースへのアクセス権限が無い のいずれかです． なおmysqliはかなり使いにくいところがあるのでPDOをおすすめします．こちらのほうがPostgreSQLやSQLiteにもほぼそのまま転用できて汎用性も高いです．
やりたいことは select column from table order by case when flg=マイナス then 1 else 2 end,column かな
こんにちは。 これは大切で ございます。
おかしいですね，商品IDが同じなのに商品名が違うという状態に違和感を感じます． ちなみに以前の質問で用意したサンプル ( http://pastebin.com/hFSU7zCx ) であれば，id=1で検索すると [{"id":"1","name":"りんご","price":"120","seller":"山田農園"}] というレスポンスになりますね… また { "id":"1", "name":"山田農業", "shohin": [ "りんご", "ぶどう" ] } としてまとめてしまうと，何を主体としたデータなのか分からなくなってしまいます．商品なのか，取扱店なのか…設計ミスな気がします．
どちらに置いても構いません。 このシステム構成であれば、 ・Webサーバーからのアクセスはクエリーベースオンリー ・DBサーバーへのそれ以外の手段での接続はFireWall内部のLAN側機器からしかできない(Webサーバーからもできない) という構成になる、ということはわかると思います。 この構成の場合、 ・DBサーバーをDMZに置いた場合 →ルーター外からの攻撃はWebサーバーの乗っ取りによるクエリーベースの攻撃 ・DBサーバーをFireWallの内側に置いた場合 →ルーター外からの攻撃はWebサーバーの乗っ取りによるクエリーベースの攻撃 となり、どちらもセキュリティ上は変わりがありません。 ただし、これは理想的な話で、現実的な話をすると ・設定ミスでDBサーバーに接続できてしまうルートができるのを防ぎたい →FireWall内に置いたほうが安全 ・パフォーマンスをできるだけ高くしたい →DMZに置いたほうが速い（FireWallは速度を低下させるので） という選択になります。
単純にデータベースに入る情報が間違ってるだけでは？
MYSQLは 重要でございます。
う～ん，考えたところ，分かりませんでした... お詫びと言っては何ですが，雑学を一つ。 ウーロン茶にはダイオキシンが入っているｗ 参考になったと思ったら，ベストアンサーとナイスをお願いします！！
恐らくMySQLのパスワードを間違えて撃ち込んだのでは… yum -y remove mariadb mariadb-server && yum -y install mariadb mariadb-server して再インストールしましょう。
64bit 版にするのは Apache なの？ MySQLじゃないのかな？ それぞれ64bit版を個別にインストールし、 設定するしかないのでは？
こんばんわ。 大切な ものでございます。
select date_format(ymdhms,'%Y-%m-%d') ,sum(case hour(ymdhms) when 0 then 1 else 0 end) as h0 ... ,sum(case hour(ymdhms) when 23 then 1 else 0 end) as h23 from tbl group by date_format(ymdhms,'%Y-%m-%d') order by 1 です。
ER図なんて千差万別なので、それを読み取る解説サイトなんてありません。 リンク先のURLのテーブル設計はMySQLの構文そのままになっているので、ユーザーテーブルを11カラムで作成を開始してカラムにフィールド名、種類と長さにタイプ、デフォルトにデフォルトを入れて、IDだけインデックスでPRIMARY張れば完成します。 このへんはDBの初歩の初歩、習いたての初心者が最初に習うレベルの話です。どんな入門書でも必ず習う内容です。 まずは初心者向けの入門書なりサイトなりを一通り読んだほうがいいと思います。
RAIDカードを導入する目的は、HDDの故障に対する可用性の向上や、ストレージのパフォーマンスアップなどです。 Webサーバーに可用性やパフォーマンス向上が必要ないなら不要です。Webサーバーなので、負荷分散され、可用性やパフォーマンスに問題がないということもかんがえられますが、そうでないなら必要になることが多い気がします。
そのような構文は使えないからうまくいかないんじゃないかな。
>カラム数というのがわかりません。カラム数とはなんですか？ 項目の数です。
MYSQL は おはようございます。 必要です。
情報カラムのうち、シリーズ名が決まれば、メーカー名も決まると思うので（複数メーカーで同じシリーズ名で売りだすことは無いですよね？社名変更はあるかもだけど？）、 シリーズ名の方にidを付けて シリーズテーブル(シリーズid ,シリーズ名, メーカー名) を作れば、CPU商品テーブル側では、メーカー名とシリーズ名の２カラムがシリーズidの１カラムに集約できるのが正規化のひとつ。 ただ、運用の場面で、商品名から、シリーズ名経由でないとメーカー名が割り出せなくなるので、商品名関連情報としてメーカー名を直接とりだすとかメーカー名から検索するなどが多いなら、正規化しないのも一つの手です。検索するとき、同じテーブルにあればindexが使えるけど、join先情報だとindexがうまく使えないことも多々あるので。 コア数については、ヒモ付く情報があるというよりは、選択肢が決まっているなら、mysqlでは、enum型で、入力値の制限をかけることが出来るので別テーブルにする必要は無いと思う。 ただし、使うデータベースシステムによっては、そういうデータ型がないので、コア数テーブルに存在しない値を入力できないよう外部制約をかけるという意図で別テーブルを作ることもあります。 コア数はいずれ増えていくと考えると、enum型だとテーブル定義の変更になるけど外部テーブルでの制約は、外部テーブルの行を増やすだけなので長期的には有利かも。
>分かりやすく説明して頂けないでしょうか 基本を判らない人に判りやすく説明すると言う事は、データーベース技術者に育ててくれと言っている事なので、費用を出して習うような事になります。 なので、まずは習ってまで必要な事かどうかを考える所から始めると良いと思います。
ロジック以前にURLの最大長について勉強された方が良いと思います。 やりたい事はなんとなくわかりますが、何故その読み出し方を思いついたのか。 外部サーバー上にファイルをおけない理由を明確にし、公開できない理由があるなら外部サーバー上でログインしないとファイル閲覧ができないようにする方が早いと思います。
mysql_num_rowsがうまく動かないバグの話か、と思いましたが? while ( $month <= 12 ) { ここ $month++; } で、$num_rowsは、一度も変更されていませんので、最初に取得した1がずーっと表示されています。 idと月はどのような関係がありますか。
>分かりやすく説明して頂けないでしょうか 基本を判らない人に判りやすく説明すると言う事は、データーベース技術者に育ててくれと言っている事なので、費用を出して習うような事になります。 なので、まずは習ってまで必要な事かどうかを考える所から始めると良いと思います。
MYSQLは やはり 大切で あると 思います。
表を構成する列数です。 列のことを、英語でcolumn（カラム）と言います。
アトラクションに並んでいるとキャストの人に時々、調査カードというものを渡されたりします。 それを入り口でもらったゲストが、アトラクションののり口にいるキャストに渡すまでにかかった時間で、アトラクションなどのおおよその待ち時間を把握しています。 それを元に公式のサイトやパーク内の掲示板に待ち時間を表示しています。
MySQLの質問をする場合、MySQL 5.6.xといったレベルまで、バーションを提示するようにしてください。MySQL 5.6.xと5.6.yで、大きな機能拡張は仕様変更が行われたりします。 「FOREIGN KEYの解除」とは、外部キーを削除したいということですか？ それとも、一時的に制約を止めたいということですか？ 外部キーを削除するなら、ALTER TABLE文で行えます。 http://dev.mysql.com/doc/refman/5.6/ja/create-table-foreign-keys.ht... 制約名が必要になりますが、もし制約名を付けていないなら、どういう名前がMySQLにより付与されたかは、INFORMATION_SCHEMAのKEY_COLUMN_USAGE表を検索すれば、知ることができます。 http://dev.mysql.com/doc/refman/5.6/ja/key-column-usage-table.html 外部キーを削除するのでなく、一時的に制約を止めたいということなら、最初のURLに記載されているページで SET foreign_key_checks = 0 or 1 ; で行えることが記載されています。
以下の設定を行い，エラーが見えるようにしてください． http://qiita.com/mpyw/items/2f9955db1c02eeef43ea#%E5%85%A8%E3%81%A6... そうすると， Fatal Error: Uncaught Exception: ... というエラーが見えると思います．このエラーはExceptionをキャッチすることによって防げます（といっても致命的なExceptionが発生しているので，分かりやすくエラーメッセージを自分で表示して終了する，ぐらいしかやることはないですが．） 普通はこんな感じの構成にするんじゃないかと思います． <?php try {          $pdo = new PDO(...);     $pdo->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);     $rows = $pdo->query('SELECT * FROM users')->fetchAll(PDO::FETCH_ASSOC);      } catch (PDOException $e) {          header('Content-Type: text/plain; charset=UTF-8', true, 500);     exit($e->getMessage());      } function h($str) {     return htmlspecialchars($str, ENT_QUOTES, 'UTF-8'); } header('Content-Type: text/html; charset=UTF-8'); ?> <!DOCTYPE html> <title>Example</title> <h1>会員一覧</h1> <ul> <?php foreach ($rows as $row): ?>     <li><?=h($row['name'])?></li> <?php endforeach; ?> </ul>
サブクエリ（exist not exist）やJOINを使わずに、GROUP BYだけで要件を満たしますが？ >scheduleDate 2016-01-11と2016-01-12で両方に存在するproductIｄ SELECT productid FROM AA WHERE scheduleDate IN('2016-01-11','2016-01-12') GROUP BY productid HAVING COUNT(DISTINCT scheduleDate)=2 ; >逆に2016-01-11と2016-01-12で2016-01-11しか存在しないproductIｄ SELECT productid FROM AA WHERE scheduleDate IN('2016-01-11','2016-01-12') GROUP BY productid HAVING COUNT(DISTINCT scheduleDate)=1 AND MAX(scheduleDate)='2016-01-11' ; それとも、サブクエリやジョインを使ってみたいのでしょうか？
VPSサーバっていうのは仮想ではありますが、サーバを一台丸々借りるのと同じ様なものと思えば良いです ですから、基本的にあらゆることは自由です serversmanは使ったことがありませんが、root権限ありと書いてあるので、間違いないでしょう したがってMySQLのデータベースをいくつ使おうがあなたの自由です もっと言えばMySQLをインストールするもしないもあなたの自由です
ユーザIDとイベントIDにつけない、 というのはこの２つのカラムのみでプライマリキーに するという意味ですか？ それであれば同一のユーザが同一のイベントを発生させることは かなりあると思うので、ユニークにならないので無理ですよね。 それとも、IDと３つでプライマリキーにするということですか？ IDだけでユニークになるんですよね。 それであれば、その他２つは不要ですよね。 あと、一般的な話ですがログテーブルはキーを付けないことが多いです。 それほど正確でなくてもいいですからね。
SELECT * FROM テーブル名 WHERE no=1; という SQLをデータベースに問い合わせれば、結果を取得できるでしょう。 PHP公式サイトのマニュアルで、PDO についてお調べください。 サンプルもあるので、適宜ご自分の環境やＳＱＬに合わせればそれほど難しくないでしょう。
【出庫】 B2=LOOKUP(1,0/((Sheet1!$A$2:$A$100<$A$1)*(Sheet1!$B$2:$B$100=B1)),Sheet1!$C$2:$C$100) ★右にコピー 【入庫】 B3=MAX(B2,SUMPRODUCT((Sheet1!$A$2:$A$100=$A$1)*(Sheet1!$B$2:$B$100=B1)*Sheet1!$C$2:$C$100)) 【距離】 B4=B3-B2 ◆A1の日付を変更すると、その日の日報になります
普通は全面的にPHPコードの見直しを行います。なぜならPHPが一番チューニング効果が出るからです。 PHP5.6をPHP7に替えたりMySQLのクエリを見直したりすると良いです。
モデル名が違ってるようです。 s のあるなしで別物と見なされるので。 $paginate = array('Circles' ← 'Circle'
select * from テーブル２ where CD in(select min(コード１) from テーブル１ where 年度='201601' group by 番号１) です。ただし、番号１の意味が今一不明瞭ですので正しいかどうかは不明です。
wp-contentがある階層のファイルは基本的にWordPress本体なので削除すると動かなくなる可能性があります。 ですので、WordPressを新しく入れ直したほうがいいかと
リコンパイルしましたか？
osが64bit dllが32bit版なのに 64bit用のregsvr32を使用しているとかではないですか。 https://support.microsoft.com/ja-jp/kb/249873
検索が効いてないのでしょうね。 ソースコード見ないとどうなっているかわかりませんが。
クエリーにユニオンクエリーと言う物が有ります。これを使うのが、手っ取り早いかと思います。 SQLの記述が少し必要となりますが、使えると色々と集計の幅が広がります。 しかし、スピードが遅くなる可能性も有るので、出来るだけ回避できると良いのですが。 http://www.sk-access.com/syo_query/sqa013_union.html
＞qwerty_dvorak_keyboardさん ＞ロリポップにMediaWikiをインストールする方法を詳しく教えてください。 アップロードして、インストールスクリプトにアクセスして指示に従う。
root のパスワードが設定済みですから、パスワードなしには接続できないですね。 でも、リセットする方法はありますので「MySQL root パスワード リセット」とでもキーワードを入れて検索してみてください。 phpMyAdmin の設定ファイルに root のパスワードが書いてあるかもしれませんね。 インストールの状況が判りませんから場所は不明ですが、config.inc.php をいうファイルを探してみてください。
どちらも、その前の前提条件がないと解けない問題ですので、誰も解答できません。 まずは前文を張ってください。
表示できると思います。
システムエラーというのは何によるものでしょうか？ 【ハードウェアの劣化】 これはどうしようもないです．日頃からメンテナンスしましょう． データベースを使っているかどうかには無関係です． 【プログラムのバグ】 これはコードを書いたプログラマが悪いです． 十分動作検証されたまともなコードを書いていれば， ソフトウェア的なエラーは一切起こらないはずです． これもデータベースを使っているかどうかには無関係です． データベースの導入によるデメリットを危惧されているのでしょうか？何らかの情報を見通しよく記録し続ける必要があるなら，データベースを導入するデメリットよりも，データベースを導入しないことによるデメリットのほうが大きいと思います．
MySQL 6.0は6年半前に破棄された古いバージョン（いわゆる黒歴史）なので、MySQL 5.6のことかなと思いつつ。 http://lists.mysql.com/announce/603 MySQL 5.6であれば、概ね以下のようになると思います。 ``` $ cmake -DDEFAULT_CHARSET=utf8 -DDEFAULT_COLLATION=utf8_general_ci -DMYSQLD_USER=mysql -DCMAKE_INSTALL_PREFIX=/usr/local/mysql5627 -DMYSQL_DATADIR=/usr/local/mysql5627/data ``` 日本語リファレンスマニュアルあります。 http://dev.mysql.com/doc/refman/5.6/ja/source-configuration-options... cmake -iで対話モードでcmakeできるので、私はオプション指定よりは-iの方を好んで使っています。 ( ´-｀).oO(CentOS 6.5でMySQL 5.7.8もビルドできています。Boost-1.58を要求される話であれば、cmake -DDOWNLOAD_BOOST=1 -DWITH_BOOST=/tmp/boost とかでいけます。。 http://yoku0825.blogspot.jp/2014/09/mysql-575boost.html
PHPでの記事投稿は、MYSQLに直でなくて、XML-RPCを使ったほうがいいですよ。 失敗している原因は、クォーテーションのエスケープができていないからだと思います。
現場で、よく使われているのはRedHatやCentOSです。 自分でサーバーをたててみることは、よい経験値になると思います。 私は、FTPによるファイルサーバーや、メールサーバーをたてていた時期がありました。仰るようなWEBサーバーも基本です。 ある程度、実務に慣れてきたら、LPICという資格試験の取得を目指されるのもよいかと思います。
手順としては ①XAMPPなどのサーバーソフトをインストールして設定する ② ①で設定した公開フォルダにWordpressをインストールする で自分の家の中だけなら見えるようになります。 外からもアクセスするとなると上の項目に加え ①独自ドメインを取得 ②ドメイン宛のアクセスがあったとき家のルーターに転送するように設定 ③ルーターのLAN側IPアドレスを固定 ④PCのIPアドレスを固定 ⑤ルーターの設定で外からホームページ宛にアクセスがあった場合PCへ転送するように設定 という手順が必要になります（この設定が慣れていないと？？になります）。 設定経験ありますが、２４時間パソコンを起動し続けておくのには月１５００円程度（設置前と後で電気代比べた感覚です）かかりますし、当然ずっと稼働しているわけですから音もするし壊れるときもあるしであまりメリットはないと思います。 １５００円あったら結構なレンタルサーバー借りれますからね。 それからある程度アクセスがあるサイトになるとパソコンは非力だなぁと実感できる位表示するのに時間がかかるサイトが完成します。 参考になれば・・・
$menuのスコープは・・・？ ttp://php.net/manual/ja/language.variables.scope.php エラーをすべて表示する設定にしていなければ、デバッグは大変ですよ。 たとえば、こんな簡略化したコード <?php function select($id){ $str = $id; } ?> <div class="contents"> <?php select('1'); echo $str;?> </div> でも動かないのがわかると思います。
＞ Servletを使用したMySQLからの画像取得と表示 可能ですよ。Content-type を指定するか、base64あたりでHTMLに埋め込んじゃえばいいんじゃないですか？ ＞ 一つのクラスファイル内で文字の表示と画像の 表示を同時に行うことは可能かどうか クラスの役割と実装次第じゃないですか？ image タグでしたら、srcで指定したURIに別リクエストが飛んできちゃうので、それに対して画像を返せば良いでしょう。 iPhoneからなんで、プログラムはご勘弁。
PDOの基本をまずおさえてください． http://www.php.net/manual/ja/book.pdo.php http://dotinstall.com/lessons/basic_php_db http://qiita.com/mpyw/items/b00b72c5c95aac573b71 >> $sql = 'INSERT INTO geotweetdata (screen_name, name, long, lat, time) VALUES ( " '. $A. ' " , " '. $B. ' " , " '. $C. ' " , " '. $D. ' " , " '. $E. ' " ); これ一番やっちゃダメなやつですね…．「SQLインジェクション」で調べてみてください．PDOではプリペアドステートメントおよびそのプレースホルダを用いるのが正しい方法です． PDO::prepare()がPDOStatementを生成 → PDOStatement::bindValue() で値をバインド (文字列以外は型指定が必須) → PDOStatement::execute() で実行 >> var_dump関数を使って観察する方法もあるようですが、var_dumpの（）内にどのような変数（？引数？？）を記せば良いのかも分かりませんでした。 $callback に代入しているクロージャ(無名関数) の第1引数の $status ですね． var_dump($status); ただ情報が膨大なので，数件流れてきたらすぐ止めないと読んでいられませんｗ 今度はあえてまるまる回答全部書かずに部分的に欠くようにしておきます．「???」の部分は適当に埋めてください．なお，投稿時刻のカラムはDATETIME型であると仮定しています． <?php require 'TwistOAuth.phar'; $ck = 'XXX'; $cs = 'XXX'; $ot = 'XXX'; $os = 'XXX'; $dsn  = 'mysql:dbname=XXX;host=localhost;charset=utf8'; $user = 'XXX'; $pass = 'XXX'; try {          $to = new TwistOAuth($ck, $cs, $ot, $os);     $pdo = new PDO($dsn, $user, $pass);     $pdo->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);          $stmt = $pdo->???("         INSERT INTO geotweetdata(screen_name, name, long, lat, time)         VALUES(:screen_name, :name, :long, :lat, :time)     ");          $callback = function ($status) use (???) {                  if (!isset($status->text)) return; // イベントなどは除外                  $screen_name = $status->user->screen_name;         $name = $status->user->name;         list($long, $lat) = isset($status->coordinates->type) && $status->coordinates->type === 'Point'             ? $status->coordinates->coordinates             : ['?', '?']         ;         $text = htmlspecialchars_decode($status->text, ENT_NOQUOTES);         $time = (new DateTime($status->???, new ???('???')))->format('???:???:??? ???:???:???');                  echo "@$screen_name - $name [$long, $lat]: $text ($time)\n";                  $stmt->???(':screen_name', $screen_name);         $stmt->???(':name', $name);         if ($long === '?') {             $stmt->???(':long', null, ???);             $stmt->???(':lat', null, ???);         } else {             $stmt->???(':long', $long, ???);             $stmt->???(':lat', $lat, ???);         }         $stmt->???(':time', $time);                  $stmt->???();              };          $params = [         'locations' => implode(',', [             -122.75,36.8,-121.75,37.8,             -74,40,-73,41,         ]),     ];     $to->streaming('statuses/filter', $callback, $params); } catch (Exception $e) {     echo 'Error: ' . $e->getMessage(); }
設計によるでしょうね。 投稿表示にユーザーテーブルを利用しないのなら投稿ごとにDBに保存した方がいいでしょうし、IDから名前等をユーザーテーブルを参照して出すのなら、どちらでやってもおなじになります。
リサイズするということは最終的な画像データは「リソース」の状態ですよね。イメージリソースをいったんファイルに書き出して、それを読み込むのが手っ取り早いと思います。 たとえばイメージリソースが$imgとして、 $tmp = tempnam('./'. 'img_tmp'); // （jpegと仮定） imagejpeg($img, $tmp); $_SESSION['imgdata'] = file_get_contents($tmp); unlink($tmp);
ありますよ。 設計時に想像しなかったフィールドが実働時に必用になった時に追加するとか、型を変更したほうが良かった時とか。
設定変更した後にmySQL再起動してみました？
>①～③に上記の得た内容をそのまま入力しました パスワードの次にホスト名（MySQLサーバ名）の入力はありませんでしたか？
何が書いてあるのか読めません。故に回答出来ません。 とりあえずテーブルは「顧客マスタ」と「商品マスタ」と「受注ジャーナル」の３つ作ればいいんじゃないですかね。 「顧客マスタ」 顧客コード(キー) 顧客名 「商品マスタ」 商品コード(キー) 商品名 単価 「受注ジャーナル」 受注コード(キー) 顧客コード 受注日 商品コード 受注数 受注総額 テーブル、項目の英語化、ローマ字化は自分のセンスで適当に付けて下さい。 型はコードは文字型、受注日は日付型、数とか金額は数字型、顧客名と商品名は何が入って来るのか分からないのでvarchara2(全角半角混在可能な文字型)とかにしとけばいいんじゃないですかね。 あと受注総額は計算で単価×受注数で出せるから私ならＤＢの項目にはしません。無駄ですから。 あと受注コードは受注明細コードとかもあった方がいいと思います。そうすれば ■受注コード：J00001 受注明細コード：001 ～ 商品コード：S00001 ■受注コード：J00001 受注明細コード：002 ～ 商品コード：S00002 みたいに一回の受注レコードに複数の商品の取引が管理出来るので。
SQLは単純な文法の物ですので、テーブル上に存在しない物又は存在する物から導かれる物以外は表示出来ないようになっています。なので表示する物がテーブルに無い場合は表示したい内容を持ったテーブルを作る事で対応します。質問の場合は年と月をペアにして切れ目の無いデータを持ったテーブルを作って、それを結合する事で表示させます。
データウェアハウスは、企業のさまざまな活動を通して得られた大量の データを、整理・統合して蓄積した大規模なデータベースのことです。 効果的な情報分析や戦略的意思決定を支援するためのものです。
> mysql_fetch_array ずいぶん前から mysql系は非推奨で、最新のPHP7では廃止されています。 参考にされている資料が（十分すぎるくらい、言い換えれば危険なほど）古いので、新しいものを参考にされると良いと思います。 PDOでデータベースを扱うのをお勧めします。 一般に、リレーショナルデータベースへの格納イメージは、質問者さんが書かれたように > [no.] [reading] [alphabet] > 1 あ a > 2 い i > 3 う u フィールド名に対応した値のセット（組）が複数個存在すると考えます。 ＿＿1, あ, a というのが一組ですよね？ なので、単に SELECT で取り出すと、この一組の値が取り出せます。 ぶっちゃけ、一組の並び方が縦でも横でもどちらでもＯＫですが、レコード単位での操作なのは変わりませんから、例示のテーブルから取得されるのは 1, 2, 3 ではなく、1, あ, a です。 ＿＿特殊な事をすれば 1, 2, 3 と取り出せない事も無い？ > 横方向は何かで表せないのでしょうか？ PDOなら、fetchAll() で全ての結果を二次元配列で取得できるので、縦方向・横方向を自由に扱えます。 $sth = $dbh->query('SELECT * FROM ｔｂ'); $result = $sth->fetchAll(PDO::FETCH_ASSOC); であれば $result = array( array('no'=>1, 'reading'=>'あ', 'alphabet'=>'a'), array('no'=>2, 'reading'=>'い', 'alphabet'=>'i'), array('no'=>3, 'reading'=>'う', 'alphabet'=>'u'), ) なので、 $result[0]['id'] は 1 $result[1]['id'] は 2 $result[2]['id'] は 3 のように
> sql文が間違っているのでしょうか？ たぶんそうだと思います。 > 'SELECT thread_id FROM thread_info ORDER BY ? DESC LIMIT 1' 整列の対象カラムを後から与えるのは出来ないと思います。 どこかでこういうのがチャンと動作するのを確認されたのでしょうか？
HTML出力中に「or die」を書いてはいけません．参考書にそう書いてあったならば手抜きです．失敗したときに <!DOCTYPE html> <html>     <head>         <meta charset="UTF-8">         <title>Test</title>     </haed>     <body>         <form>             <select> のように，途中で壊れたHTMLが出力されてしまいます．<!DOCTYPE html>よりも前に全てのSQL発行処理を書きましょう． また，「mysqliの手続き型」「mysqliのオブジェクト指向」いずれとも使いにくいので，出来れば「PDOのオブジェクト指向」のほうで覚えましょう．こちらはmysqliよりもシンプルでかつMySQL系以外のデータベースにも共通して使えるものです． <?php try {          // dbnameは適宜変更してください     $pdo = new PDO('mysql:dbname=test;host=localhost;charset=utf8');          // SQL発行失敗時にPDOExceptionが投げられるようにする     // (デフォルトではfalseになるだけで使いにくい)     $pdo->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);          // numbersのnumカラムの全件を1次元配列として取得し，     // 後にissetで判定できるようにキーと値を反転しておく     $nums = array_flip(         $pdo->query('SELECT num FROM numbers')                ->fetchAll(PDO::FETCH_COLUMN, 0)     );      } catch (PDOException $e) {          // 失敗した時は 500 Internal Server Error で     // テキストとしてエラーメッセージを吐いて終了する     header('Content-Type: text/plain; charset=UTF-8', true, 500);     exit($e->getMessage());      } header('Content-Type: text/html; charset=UTF-8'); ?> <!DOCTYPE html> <title>Test</title> <form>     <select> <?php for ($i = 1; $i <= 10; ++$i): ?> <?php if (!isset($nums[$i])): ?>         <option><?=$i?></option> <?php endif; ?> <?php endfor; ?>     </select> </form> (備考) ・html, head, body はDOCTYPE宣言すれば省略可能なので省略しました ・HTMLが見やすく書けるようにfor，if，echoの別構文を使いました
それでいいんじゃないですか
プラグイン「Duplicator」を使ってバックアップしてはどうでしょう。 Duplicate は 複製するという意味。 ワードプレス本体やプラグイン、データベースまでくるっと丸めてくれます。 私は引越しの際にこのプラグインと出会い、非常に便利だなと感じました。 まるでスナップショットのように「その時の状態」を複製し、保存します。 バックアップの際は、作成されたファイルをローカルに落とす等で保管すると良いです。 プラグインの相性やカスタマイズ失敗で一時的にワードプレス本体が表示不能になる事があります。 ワードプレスごと、再現できますので復旧も楽々。 いちど、お試しあれ。
簡単に年だけを検索条件に追加しているサンプルを作成しましたが、 年のDBの型がcharなのかintなのかわからないためもしかしたらエラーになる かもしれません。 動作確認も行っておりません。 動かない場合はサンプルを元に自分で調べてみてください。 最低限のコメントはふっときました。 <?php $db = mysqli_connect('localhost' , 'root' , 'password' , 'fukuokaken') or die(mysqli_conncet_error()); mysqli_set_charset($db, 'sjis'); // 検索用のSQLを変数にセット $sql = 'SELECT * FROM fukuokaken'; // postデータが画面より渡ってきているかチェック if(!isset($_POST['year'])){ // 渡ってきた場合に年の検索条件を追加 $sql .= ' where year1 = '.$_POST['year'] } $recordSet = mysqli_query($db, $sql) ?> <!-- 検索フォームを追加 --> <form action="このファイルが置いてあるパス/itiran.php" method="post"> <input type="text" name="year" value="">年<br> <input type="submit" value="検索する"> </form> <!-- 検索フォームを追加 ここまで--> <table border="1"> <tr> <th scope="co1">年</th> <th scope="co1">月</th> <th scope="co1">平均気温(℃)</th> <th scope="co1">平均湿度(%)</th> </tr> <?php while ($table = mysqli_fetch_assoc($recordSet)) { ?> <tr> <td><?php print(htmlspecialchars($table['year1'])); ?></td> <td><?php print(htmlspecialchars($table['month1'])); ?></td> <td><?php print(htmlspecialchars($table['temperature'])); ?></td> <td><?php print(htmlspecialchars($table['humidity'])); ?></td> </tr> <?php } ?> </table>
実行されているのは、CREATE TABLEですから、生成されている訳ですよね？ CREATE DATABASEが、生成されていないのでは？ データベースが定義されていないなら定義するか、既に定義（作成済なら、そのデータベースを選択して、インポートしてください。 (1)データベースの定義・・・CREATE DATABASE文 http://dev.mysql.com/doc/refman/5.6/ja/create-database.html (2)使用するデータベースの指定・・・USE文 http://dev.mysql.com/doc/refman/5.6/ja/use.html
タブ区切りデータをインポートしたいだけなら、プログラムを作らなくてもMySQLの機能の LOAD DATA INFILE を使ってはどうでしょうか？ MySQL LOAD DATA INFILE タブ区切り で検索してみては？
設定は各種単体での設定と同じなので、それを見れば最新版の設定が判ります。
データベースというより、PHPの設計の話しになるのでDB関係なしに考えて見ると良いんじゃないかな。
カラム構成が一緒ということですかね。 であれば UNIONでくっつければ良いかと思います。 こんな感じでしょうか。 select sum(価格), avg(価格) from ( select * from table1 union select * from table2 )
一番最後の列がないデータがあるからです。 ArrayOutOfBoundsは、配列の要素数をオーバーしてアクセスした、というエラーです。 今回のケースですと String syokujinaiyou=col[4]; を実行しようとしたら、csvデータが3までしかなかったために、配列のアクセス可能数を超えてエラーになっています。 再度入力データを確認してみてください。 なお、 9999,平成28年1月1日,水曜日,朝, みたいなデータは、デフォルトですと最後の,は無視されて配列の長さは5ではなく4になります。 このようなケースであっても,があるならデータを""で格納したい、という場合は、 String[] col=line.split(",",-1); としてください。 参考： System.out.println("1,2,3,4,5,,,,".split(",").length); →結果は5 System.out.println("1,2,3,4,5,,,,".split(",",-1).length); →結果は9
nameの末尾に[]をつけると配列として出ますけど、 このプログラムの場合、search1という配列の中に、さらに配列が入ります。 構造としては、 search1 => Array([0] => '青木', [1] => '田中' という感じですね。 これを処理すればよいです。
後半部のやりたい処理を文章化してみましょう。 ・指定されたファイルを１行読む。 ・ファイルがエンドでないなら ・・CSVファイルをカラムに分解する ・・データをDBにinsertする ・・insertしたデータ件数を加算する ・ファイルがエンドなら ・・insertした件数を表示する です。 しかし、記述されたロジックは ・指定されたファイルを１行読む。 ・ファイルがエンドでないなら ・・CSVファイルをカラムに分解する ・・データをDBにinsertしない(ps.executeUpdateしてない) ・・insertしたデータ件数を加算する ・ファイルがエンドなら ・・最後のデータだけDBにinsertする(ps.executeUpdateする) ・・insertしたデータ件数(=最後の1件)を加算せずに格納する ・・ＤＢをコミットする ・・insertした件数（=最後の1件)を表示する となっています。 まず、合計件数を表示したいなら、変数rは while ((line = br8.readLine()) != null) { より手前で宣言する必要があります。 また、 ps.executeUpdate(); はpsに値をsetした直後に発行しないと、ＤＢに格納されません。 その際に r+=ps.executeUpdate(); として、件数を加算するようにすれば、やりたい処理になるでしょう。
max_allowed_packetを変更する必要あるアプリかどうか。 https://dev.mysql.com/doc/refman/5.6/ja/packet-too-large.html ようは、でっかいデータを突っ込もうとした場合、max_allowed_packetの制限で送れない(複数回に分割しなきゃ行けなくなる）よってこと。 普通は不要だと思うよ。
＞ちなみに、simple membershipはつい先日ダウンロードしたばかりで、最新版のものを使っています。 報告なら自分のぶろぐでするといいですよ
残念ながらWindows用のmysql.exeはCMDやPowerShellで動作することを期待しているため、Cygwinでは動きません。 Cygwinのsetup.exeから"Database" => "mysql"でコマンドラインクライアントが入手できますのでそちらを使うのはどうでしょうか（今日現在、バージョンが5.5.45ですが、クライアントとサーバーのバージョンが合っている必要はあまりないため、不自由はないかと思っています）
MySQLのバージョンを、MySQL 5.6.xといったレベルまで提示するようにしてください。 OSは、Windows系ですか？ >ENCLOSED BY '"' これは数値データも含め、すべての値が、「"」で囲まれているとういう指定です。 「"」で囲まれていないデータがあるなら、OPTIONALLYを指定することで回避できるかも知れません。 LINES TERMINATED BYを指定していませんが、CSVファイルの改行はどうなっているのでしょうか？ LINES TERMINATED BY '\r\n' などの指定が必要では？ http://dev.mysql.com/doc/refman/5.6/ja/load-data.html
> こちらもアンインストールしなきゃいけない、とか インストールしてあっても起動してなければ問題は無いです。 「windows10 xampp」で検索してみてください。 Windows10 では IIS が有効になっていて、ポートが使われているからって話が見つかると思います。
http://detail.chiebukuro.yahoo.co.jp/qa/question_detail/q1315223253... こちらの質問とまったく同じかと思います。
1. 新しいMySQLのdatadir（yumでインストールしたならデフォルトは/var/lib/mysqlですが、変更しているならそのディレクトリー）にバックアップのdatadirを *まるごと* (ibdata1, ib_logfile*なども含めて全部)コピーします。 $ sudo cp -pr path_of_backup/* /var/lib/mysql/ 2. ファイルのオーナーが違っている場合は以下でmysqlユーザー（デフォルトでは。my.cnfなどで指定しているならそのたユーザー）をオーナーに変更してください。 $ chown -R mysql. /var/lib/mysql/* 3. 新しいMySQLを起動します。 $ sudo service start mysqld * 新しいMySQLと古い（バックアップ元の）MySQLのリリース系列が違うと起動できない or 起動できてもエラーを吐く場合があります（アップグレードまたはダウングレードにあたる） http://dev.mysql.com/doc/refman/5.6/ja/upgrading-downgrading.html
簡単な逃げ方は、 SELECT 'INSERT INTO DISTRICT VALUES ('''||districtcode||''','''||districtname||''');' ↓ SELECT 'INSERT INTO DISTRICT VALUES ('''||TRIM(districtcode)||''','''||TRIM(districtname)||''');' こうすれば解決します。あとはTABLEの型設定等の問題でもあるでしょうね。
left join でうまく行きませんか？
>IDが1つだけしか作成できないです。考えられる原因は何なのでしょうか？ 元のソースが間違っているか、作ったソースが間違っているかになります。
ひょっとして「join」？ 送信先ID/送信元IDはIDに紐づく感じ？ IDは主キーあるいは一意キー？ 上記条件をすべて満たすなら SELECT (SELECT 会員ID FROM テーブル2 WHERE 送信先ID=会員ID), (SELECT 会員ID FROM テーブル2 WHERE 送信元ID=会員ID) FROM テーブル2
githubに上げるときはパスワードをマスクしてください。 また、もしパスワードを使いまわしているのであれば、今すぐパスワードを変更することをお勧めします。 さて、質問に対する回答は、他の回答者さんが書かれたとおりで、SQLで取得する順番を指定していないためです。 String sql = "select SY.A,SY.B,SY.C,SY.D,SY.E,SY.F,SY.G,SY.H,SY.I,SY.J,YA.C,YA.D from SY,YA WHERE SY.G=YA.B order by SY.A DESC"; とすれば、日付の降順に表示されるようになります。 もし、日付の降順,患者IDの昇順にソートしたいなら order by SY.A DESC,SY.D とすれば期待した結果が得られるでしょう。
select テーブル2.ID ,sum(case when 日付>'指定した日付' then 0 else 数値 end),sum(数値) from テーブル2 inner join テーブル1 on テーブル2.ID=テーブル1.ID group by テーブル2.ID です。
> 最初のwhili文しか機能しませんでした 正常な動作です。 最初の while で、問い合わせた内容の全てを取得済みですから。 但し、結果が期待通りのモノかは疑問ですが... > 上から5件だけ表示させる方法 「上から」というのが何を基準にするのかを明確にしないとSQLになりません。 単純に ID の昇順でよいのなら ORDER BY ID LIMIT 5 というのを付加してやればよいのでは？ $dbh->setAttribute(PDO::ATTR_DEFAULT_FETCH_MODE, PDO::FETCH_ASSOC); $iconLimit = 2; $sth = $dbh->prepare('SELECT * FROM posts WHERE rpg=? ORDER BY ID LIMIT 5'); $sth->execute(array(1)); $icons = ''; $detail= ''; foreach($sth as $k=>$row) { if ($k < $iconLimit) { $icons .= 取得した値を使ってアイコン用の HTML を記述 } $detail= 取得した値を使って詳細用の HTML を記述 } ?> 必要なところで <div class="icons"><?=$icons?></div> <div class="detail"><?=$detail?></div> のようにして表示
PHPはよく知らないのですが、 $sql = "INSERT IGNORE INTO 12_23 (id,name,tweet,time) VALUES ('$id','$name','$content','$time')"; ではなく、 $sql = "INSERT IGNORE INTO 12_23 (id,name,tweet,time) VALUES ('" . $id . "','" . $name . "','" . $content . "','" . $time . "')"; でないとダメなのでは？
状況をザックリ書くだけではなく、どこまで原因調査をしたか記述してください。 アドバイスのしようがありません。 コマンドラインでmysqlにアクセスした際、ソースに記述したユーザーとパスワードでログインできますか？ phpinfo();で確認して、mysql欄にバージョン情報等が表示されていますか?(PHPとmysqlの連携自体ができているか) PHPファイルとmysqlは同じサーバーにおいてありますか？ 等々 「いろいろ試した」の内容こそ重要です。
MySQLのバージョンは、何でしょう？ MySQL 5.xで、確かキーワードの仕様変更があったと思います。 補足の文字コードの表示は、MySQL Command Line Clientなど、今回の問題になっている経路とは違う方法で確認していませんか？ 今回の経路でSHOW VARIABLESを実行すれば、違う結果になっている可能性があります。 [mysql]は、MySQL Commad Line Client等のクライアン側の設定です。 サーバー側の設定、[mysql]が有効とならないアプリ等の設定を追加してください。 [mysqld] default-character-set=cp932 [client] default-character-set=cp932
「重複」といっていますが、「期間の重なり」をチェックしたいのでは？ >予約ID(yoyaku_id)='1'、FROM(from) 2015-01-01 TO(to) 2015-02-01 > => FROMが重複するのでNG id=1、2と期間が重なっているから、どちらともNGでは？ SQL例 set @yoyaku_id='1',@from='2015-01-01',@to='2015-01-30'; SELECT COUNT(*) AS cnt FROM t1 WHERE yoyaku_id=@yoyaku_id AND @from<=`TO` AND `FROM`<=@to;
MySQLのTEXT型は"()"を使って長さ指定っぽい書き方ができます（ただし、書けるだけで読み飛ばされます） LONGTEXT型などはできません。 というわけでMySQLのパーサー側に準拠したんじゃないでしょうか。 ``` mysql57> create table t (test text(255)); Query OK, 0 rows affected (0.12 sec) mysql57> create table t1 (test longtext(255)); ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '(255))' at line 1 ``` 他のRDBMSやSQL標準との互換のためなのかなーとか思ったんですけど、ググってもよくわかりませんでした。。
ドメイン名のDocumentRoot に Wordpress をインストールしたのですね。 仕方が無いので、VirtualHost でも使ってください。 NameVirtualHost *:80 <VirtualHost *:80> ServerName ドメイン名 ServerAlias www.ドメイン名 DocumentRoot wordpress の場所 </VirtualHost> <VirtualHost *:80> ServerName IPアドレス DocumentRoot phpmyadminの場所の１つ上 </VirtualHost> とでもしておけば、 ドメイン名だと WordPress IPアドレス/phpmyadmin だと PhpMyAdmin なんて使い方ができます。 <Directory タグでちゃんとアクセス権を立てるのも忘れないでください。
UPDATEがいいとおもうんだけどなー。
MySQLのバージョンは、何でしょうか？ MySQLは、MySQL 5.x.xと5.x.yで、大きな仕様変更が行われたりします。 文字コードは、以下の4か所に設定されていますか？ [mysqld] [mysql] [client] [mysqldump] データのエクスポートとインポートは、mysqldumpで行ったのでしょうか？ さくらインターネットで、mysqldumpで --default-character-set=binary を指定することで、文字化けを対策できたという事例が以下URLで紹介されています。 http://www.mori-soft.com/2008-08-15-01-36-37/2008-08-15-01-43-22/15...
データ（ID、氏名、よみがな、身長、体重、BMI値）を入れるテーブルを作成し、これを元にフォームを作成します。 そうすると、フォームで入れたデータは直接テーブルに入ります。 （これが、「連結フォーム」です） 身長、体重までは手入力しますが、最後のBMI値は身長、体重をそれぞれ入力した時の更新後処理のイベント(VBA)でセットします。 身長が0の時は、計算結果がエラーになってしますので、計算前にチェックして、計算しないようにします。(入力されていない(Null)の場合は、計算結果もNullになるのでそのまま計算させます） 下記の式は、体重をKg , 身長をcmで入力していると仮定しています。 Private Sub 身長_AfterUpdate() If Me![身長] > 0 Then Me![BMI値] = Me![体重] / ((Me![身長] / 100) ^ 2) End If End Sub Private Sub 体重_AfterUpdate() If Me![身長] > 0 Then Me![BMI値] = Me![体重] / ((Me![身長] / 100) ^ 2) End If End Sub ※性別や年齢によって補正する場合もあるようですが、標準的な式で記述しています。
Aでやって、ダメならBって感じでいいんじゃないですか？ ファイルをコピーするくらい、たいした手間ではないと思うんですが。 「ダメなら」ってのは、プラグインがないと動作しないようなテーマの作り方をしていた場合ですね。
>Excelでは当然演算子として認識されています。 >現在はテキストエディタで文字列置換でなんとか=+を外して通常の文字列に >Aをダブルクオーテーションで囲まず、それ以外のところをダブル >クオーテーションで囲み そのCSVのデータは、Excelで使ったりもするのですか？ MySQLにインポートして、SQLで操作できればいいのですか？ もし、MySQLで操作したいだけなら、テキストエディタで文字置換など、必要ありません。 LOAD DATA INFILE文で、インポートしてください。 http://dev.mysql.com/doc/refman/5.6/ja/load-data.html もし、CSVの値を、一部加工したりする必要がある場合は、LOAD DATA INFILE文で行えます。
＞SQLの課題なのですが、全くわかりません。どなたか助けてください。。 しゅくだいは自分でするべきだとおもう。
＞ＳＱＬ文の課題なのですが全くわかりません...全てじゃなくてよろしいので、どなたか助けてください。 自分でしないとそつぎょうできないとおもう
3*rs.getDouble(11)が15以上だからではないかと思います。 この場合、条件に該当しませんので。 恐らくですが、 }else if("分3 朝食後".equals(rs.getString(9))&&3*rs.getDouble(11)>=15&&"3カプセル".equals(rs.getString(8))){ が }else if("分3 毎食後".equals(rs.getString(9))&&3*rs.getDouble(11)>=15&&"3カプセル".equals(rs.getString(8))){ の間違いなのでは？ ところで、こういう、if elseブロックの羅列は非常にわかりづらくなりますので、switch-caseブロックというのを使うとよいです。 ちょっとswitch-caseに書き直してみますね。 switch(rs.getString(9)){ case "分1 朝食後": switch(rs.getString(8)){ case "1錠": if(rs.getDouble(11)<15){ fp.println("薬剤点数:"+(1*rs.getInt(10))); }else{//rs.getDouble(11)>=15 double a=Math.round((((rs.getDouble(11)))/10)); fp.println("薬剤点数:"+(int)(rs.getInt(10)*a)); } break; case "2錠": if(rs.getDouble(11)<15){ fp.println("薬剤点数:"+(1*rs.getInt(10))); }else{//rs.getDouble(11)>=15 double a=Math.round(2*(((rs.getDouble(11)))/10)); fp.println("薬剤点数:"+(int)(rs.getInt(10)*a)); } break; } break; case "分1 就寝前": switch(rs.getString(8)){ case "1錠": if(rs.getDouble(11)<15){ fp.println("薬剤点数:"+(1*rs.getInt(10))); }else{//rs.getDouble(11)>=15 double a=Math.round((((rs.getDouble(11)))/10)); fp.println("薬剤点数:"+(int)(rs.getInt(10)*a)); } break; case "2錠": if(rs.getDouble(11)<15){ fp.println("薬剤点数:"+(1*rs.getInt(10))); }else{//rs.getDouble(11)>=15 double a=Math.round(2*(((rs.getDouble(11)))/10)); fp.println("薬剤点数:"+(int)(rs.getInt(10)*a)); } break; } break; case "分2 朝食後と夕食後": switch(rs.getString(8)){ case "2錠": if(rs.getDouble(11)<15){ fp.println("薬剤点数:"+(1*rs.getInt(10))); }else{//rs.getDouble(11)>=15 double a=Math.round(2*(((rs.getDouble(11)))/10)); fp.println("薬剤点数:"+(int)(rs.getInt(10)*a)); } break; } break; case "分3 毎食後": switch(rs.getString(8)){ case "3カプセル": if(rs.getDouble(11)<15){ fp.println("薬剤点数:"+(1*rs.getInt(10))); }else{//rs.getDouble(11)>=15 //【ロジック抜け】 } break; case "3錠": if(rs.getDouble(11)<15){ fp.println("薬剤点数:"+(1*rs.getInt(10))); }else{//rs.getDouble(11)>=15 //【ロジック抜け】 } break; } break; case "分3 朝食後": switch(rs.getString(8)){ case "3カプセル": if(rs.getDouble(11)<15){ //【ロジック抜け】 }else{//rs.getDouble(11)>=15 double a=Math.round(3*(((rs.getDouble(11)))/10)); fp.println("薬剤点数:"+(int)(rs.getInt(10)*a)); } break; case "3錠": if(rs.getDouble(11)<15){ //【ロジック抜け】 }else{//rs.getDouble(11)>=15 double a=Math.round(3*(((rs.getDouble(11)))/10)); fp.println("薬剤点数:"+(int)(rs.getInt(10)*a)); } break; } break; break; } 【ロジック抜け】のところを通った場合、結果が出なくなります。
出力されない理由はii3pvy63さんが書かれた通り。 JavaではStringとStringの比較はString.equals(String)で行います。 ×if((rs.getString(9)=="分1 朝食後"||rs.getString(9)=="分1 就寝前")&&rs.getDouble(11)<15.0){ ○if(("分1 朝食後".equals(rs.getString(9))||"分1 就寝前".equals(rs.getString(9)))&&rs.getDouble(11)<15.0){//下の(※に補足があります) c:\upper.txtを指定してエラーになるのは、そこにあるとおり、「アクセスが拒否」されたからです。 Windows10では通常、c:\には一般ユーザーには書き込み権限がありません。 そのため、OSから書き込みを拒否されています。 c:\にアクセス権限を付与するか、あるいはフォルダを作成してアクセス権限を付与するか、あるいはもともとアクセス権限のあるC:\Users\ユーザー名\以下を指定してください。 ※補足 equalsの比較で"分～"のほうを先に書いているのは、rs.getString(9)の結果がnullの場合、null pointer exceptionが発生してしまうためです。 null.equals("分1 就寝前")はnullのequalsメソッドにアクセスすることになり、エラーとなりますが、"分1 就寝前".equals(null)はStringのequalsメソッドにアクセスしているためfalseが返るだけでエラーになりません。 Java8の場合はOptionalで回避できますが、今はまだそのレベルではないと思うため、書きません。Optionalについて詳しく知りたい場合は時間があるときに調べてみて、わからなければ質問してください。
>このファイルがいくらやっても開けません 拡張子=phpのファイルを開いて編集する方法が、分からないという質問ですか？ それとも、テキストエディタやIDEなどで開けるはずが、何らかの事象が起こっているという内容ですか？
javaですか ソース貼ってくれないとなんとも言えないです
学校の課題か、検定試験などの問題でしょうか？ 外部キーは、主キーと内部的に勝手にジョインしてくれる機能ですか？ 参照制約を定義すれば、主キーにない外部キーを持つ行の存在を、RDBMSが抑止してくれます。 「外部キーを定義すれば、主キーと内部的にジョインしてくれて・・・」なんて、どこからか聞いたのですか？ 結合条件を、指定してください。 結合条件を指定しないで表を結合すると、直積になります。 表Aにm件、表Bにn件のデータがあると、結果はm×n件になってしまいます。 今回の例では、受講.学籍番号='0001'で20件に絞り込めたとして、科目が全体で50件あるなら、20×50件の結果が返されます。 なお、 FROM t1,t2 という記述形式は、古い時代からの内部結合の書き方で、WHERE句で結合条件と抽出条件を両方書くことになります。 FROM t1 INNER JOIN t2 ON 結合条件 WHERE 抽出条件 といったJOINの構文を覚えることを薦めます。
＞如何したらいいのかわからず検索してみても解決策が見つからずここで質問させていただいています。 そういう時はホームページ制作会社に頼むと良いですよ。
InnoDBはテーブル定義情報を.frmの他にibdata1の中に持っています（どのテーブルがどの.ibdファイルを使っているかの情報） .frmと.ibdがあっても、ibdata1にその情報がないので "#1146 - Table 'テーブル名' doesn't exist" が返っていると思います。 新サーバーのibdata1, ib_logfile* を消して古いサーバーのibdata1, ib_logfile* を戻すことで見えるようになると思います（が、新しいサーバーで作ったテーブルなどは消えてしまいますのでそちらはmysqldumpなどで保管しておく必要があります）
＞最近勉強をはじめたばかりで無知なので、勉強も兼ねて今回、EC CUBEをインストールをしているのですが、うまくいきません。 報告なら自分のブログでするといいですよ
MySQLはデーターの管理だけなので、フォームを作成することは出来ません。
while(rs.next()) { //問い合わせSQLの書き出し while(rs.next()){ ↑while(rs.next())を2回やってるからでは？ 1個目の「while(rs.next()) {」で1行目が読み込まれ、2個目の「while(rs.next()){」で2行目が読み込まれる。 2個目のループで2行目〜21行目までに対して「String str="受験番号"+・・・」の処理が行われて、2個目のループを抜ける。 1個目のループに戻るけど、既に21行目まで処理しちゃってるからrs.next()がfalseになって、1個目のループも抜ける。 結果、2行目から21行目まのでデータが出力される。 1行目のデータが出力されてないから、テキストファイルの中身が20行になる。
商品名=' アンアースリーインペリアルIPA(アメリカ) ' この条件がマッチしないからでしょう。 ・最初のクォーテーションの直後に半角スペースが入ってるように見える ・（）やアルファベットの全角半角が違うかも？ このあたりをチェックしてみてください。
「楽観ロック」「悲観ロック」を調べると良いかもしれません。
手元にPHP環境がないので、確認していないのですが、 $counterInt = mysql_query($sql, $connect) or die ("クエリーを実行できません"); mysql_close($connect); while ($row = mysql_fetch_array($counterInt)) { $num = $row["countinc"]; } $num++; mysql_close($connect);を、$num++;の後に持ってきてはいかがですか。 データを使用する前にcloseしているので、読み込めないのではと考えました。
※Javaとmysqlの環境は整っています。 とのことですが、少し厳密にお伺いします。 Javaの環境とは、 ・Javaの実行ができる JRE ・Javaの開発ができる JDK どちらでしょうか。必要なのは、開発のためのJDKです。 Windowsなら、スタートボタンをクリックして、 「プログラムとファイルの検索」に javac.exe と入力して検索します。 見つかれば、JDKはインストールされているはずです。 次に、 「プログラムとファイルの検索」に cmd.exeと入力して検索します。 見つかったプログラムをクリックすると、黒画面に白文字のウィンドウが 立ち上がります。ここで、 javac.exe -version と入力して 'javac.exe' は、内部コマンドまたは外部コマンド、 操作可能なプログラムまたはバッチ ファイルとして認識されていません。 と表示されれば、環境変数が正しく設定されていません。 ここまでの構築は、「jdk インストール パスの設定」で検索してみてください。 javac.exe -version と入力して、たとえば javac 1.8.0_60 と表示されれば、開発環境は整っています。 メモ帳でコードを書き、.javaのファイル名で保存して、 javac.exe ファイル名.java でコンパイルでき、ファイル名.classが生成されます。実行は、 java.exe ファイル名.class です。 最近では、統合開発環境のEclipseを使うことが多いのではないでしょうか。 「java eclipse 環境構築」 で検索してみてください。 同様に、MySQLの環境として Connector/Jが必要です。 「mysql jdbc」で検索してみてください。
プラグインのエラーなんで多分バージョンに対応してないんでしょうね。 根本の解決ではないですが、 wp-config.phpでWP_DEBUGの定数の箇所をfalseにするとエラーが出てこなくなると思います。
>どのページからでも全ての検索条件にするにはどうしたらよいでしょうか？ PHPをそのような動作をするように組むしかありません。
空間データがどういう形式でテーブルに保存されているのか、どれをどういう形に変換したいのかをきちんと説明しないと、誰も答えようがありませんよ。
> ここでエラーとなります。 どんなエラーなのかを公開する気にはなれませんか？ エラーに対応するための一番大きなヒントがエラーメッセージです。
> ダメなようです 何がどのようにダメなのでしょうか？ そこを明確にすると改善の道が見えてきますよ。 ＿＿○○になると思ったら△△だったとか、エラーになったとか... mysql系の関数は、ずいぶん前から非推奨です（PHP7では廃止）。 ご参考にされているモノは情報が（危険なほど）古い可能性が高いです。 PDOに置き換える事をお勧めします。 > $id = $_GET['id']; > "SELECT * FROM `posts` WHERE `ID` = '$id' " 外部から取得した値で直接SQLを構築してはダメです。 ＿＿SQLインジェクションについてお調べください プリペアドステートメントをお使いください ttp://php.net/manual/ja/pdo.prepared-statements.php > それからどうしたら良いかわかりません 公式マニュアルのサンプルをご一読ください。 ttp://php.net/manual/ja/pdostatement.fetch.php ID がプライマリキー（またはユニーク制約）であるなら、得られるのは一つだけでしょ？だったら while() でループにする必要が無いのでは？
別のシートにCSV取り込みセル参照でいいのでは A4 =IF(Sheet2!D2="","",Sheet2!D2) B4 =IF(Sheet2!A2="","",Sheet2!A2) C4 =IF(Sheet2!C2="","",Sheet2!C2) D4 =IF(Sheet2!B2="","",Sheet2!B2) A4:D4下方向にコピー この後数式範囲コピーして貼り付け→貼り付けのオプション 123（値）選択 またはCSV取り込み列移動させてコピー＆ペーストでも
データマイニングについて、ゼロから勉強しなおしましょう。 何と何を購入するか、その理由が明確あるいは仮説化できるなら、データマイニングとは言いません。 おそらくバスケット分析をしたいのでしょうけど、これは今まで未解析だった想定外の相関関係を発見するから意味があり、だからこそデータ”マイニング（鉱山堀り）”と言うのです。
自分自身に接続しているならブックを分ける そうでないならFindメソッドとかだと遅くてこの仕様なのでしょうか？ 検索するデータベース側が大きいならACCESSにしたら早いかな？
MySQLの質問をする場合は、MySQL 5.x.xといったレベルまで、バージョンを提示するようにしてください。 大きな機能追加や仕様変更が、突然、行われることがあります。 簡単な例としては、次のようになります。 SELECT x,y FROM tbl WHERE `数値`>=60-5 AND `数値`<=60+5
原因でしたら、最後の行の Server ran out of threads to serve requests. Consider raising the ThreadsPerChild setting です。 直訳すると 要求に応えるためのスレッドを使い果たしました。 ThreadsPerChildの設定を上げることを検討してください。 です。 搭載メモリ量、OS、32bitか64bitか、 httpd.confの ServerLimit, MaxClients, ThreadLimit, ThreadsPerChildの 設定を書き込んでおくと、詳しい方から回答がつくかもしれません。
1千万件といったデータを扱うには、DB設計があまりにもひどすぎます。 MySQLのマニュアルなど、性能に関する情報を、まったく見ていないのでしょうか？ MySQLのマニュアル参照箇所 http://dev.mysql.com/doc/refman/5.6/ja/optimization.html >ORDER BY NUMBER DESC SELECT文での集計結果でソートするというのは、MySQLだけでなく、RDBMSで、最もオーバーヘッドになる処理を要求していることになります。 対象件数は、何件くらいになる見込みでしょうか？ 数万件といった単位でも、「インデクスを使った、SQL実行時の作業ファイルを使ったソートの抑止」に逆行するもので、オーバーヘッドになる処理をわざわざRDBMSにさせることになります。 どうしても、リアルタイムに近い状態でのソートが必要なら、RDBMSでの検索結果を、外部プログラムでソートした方がいいです。 あるいは、 (1)集計結果の表を作り、リアルタイムでなく、一定の時間間隔での集計結果をDBに保存しておく。 (2)INSERTなどの背景で、(1)の表にトリガで結果を反映する といった対策も考えられます。 >NAME VARCHAR(1000) NOT NULL >INDEX GOODS(NAME(255)) USING BTREE VARCHARで1000などの最大長を指定したり、TEXTなどの長大文字のデータ型は、論理的な行を管理する物理的な基本の行（レコード）とは、別のレコードとして格納されます。1行の1列で、物理的に1レコード以上で格納されます。 MySQLでは、一定の長さまでを指定することで、インデクスを定義できるようになっていますが、多くの仕様上の制限があります。実際に列データを、取り出す場合、長大データ型を使っている場合は、I/O回数が何倍にもなってしまいます。 また、キー長が255などと最大値にすると、インデクスの1ページで管理できるキー値が少なくなり、インデクス段数が多くなってしまいます。 >WHERE B.NAME LIKE 'DVD' 長大データで定義して、LIKEで完全一致というのは理解に苦しみます。 種別などをVARCHAR(5)などで持って、「=」条件で検索するようにできるのでは？ あるいは、完全一致でない検索があったとしても、VARCHAR(10)などで、LIKEの前方一致などで対応できませんか？ >WHERE A.FILE_ID IN( >SELECT A.FILE_ID >FROM RELATION_GOODS AS A MySQLでは、IN(サブクエリ)のような、値を返すサブクエリ、相関サブクエリ（外側のクエリとサブクエリ内で結合検索）は、性能上の非推奨になっています。 これは、MySQLでのサブクエリの実装が、MySQL 4.1と遅かったため、ジョインで書き換えられるものは、ジョインを使うよう推奨されています。 相関サブクエリを使う場合でも、[NOT] EXISTSのように、列値でなく、行が真であることを返す使い方が推奨されています。 以上、3点の回答をしましたが、最初に書いたソートによるオーバーヘッドが一番、大きいでしょう。 大幅な性能向上をしたいなら、提示したような対策をするしかありません。 たくさん、インデクスを定義していますが、ざっと見たところ、まったく使われていないものもあると思いますよ。 EXPLAINなどの結果も、提示するといいと思います。 SELECT文の先頭に、EXPLAINを指定すれば、表示できます。
select created ,case to_days(now())-to_days(created) when 1 then 1 else 0 end from contents order by 1 です。
テーブル1の105(2行)×テーブル2の105(3行) テーブル1の106(1行)×テーブル2の106(1行) の合計7行が返ります。 実際のデータは↓のとおり。 user_id login payment 105 10:00:00 1000 105 10:00:00 2000 105 10:00:00 3000 105 11:10:00 1000 105 11:10:00 2000 105 11:10:00 3000 106 13:00:00 1000
それはエラー表示では無く、ただのQueryの内容なので、それを見てもどうにもなりません。
> なんのディレクトリなのか？ MySQLのデータ本体を保存する場所です。 /etc/my.cnf または、/var/lib/mysql/my.cnf ファイルのなかに、 datadir=/home/mysql といった記述があれば、 /home/mysql というディレクトリをつくる必要があります。 ちなみに、MySQLそのものの勉強のためであれば、Windows版が楽です。 私も、Linuxは使えますが、環境設定が面倒なので、Windows版を使っています。
update seat set se_id=(SELECT se_id FROM ticket WHERE price is NULL) where se_name='内野S' です。ただし、SELECTで検索される行が１行の場合のみ可能です。
MySQLのバージョンは、何ですか？ OSは、何を使っていますか？ 結論からいうと、自分で加減算する必要があります。 >テーブルの先頭から 全件、変換するという意味ですか？ MySQLのバージョン、OSの回答を求めたのは、システムのタイムゾーンとは別に、クライアントが接続中に別のタイムゾーンを使うといった機能が、MySQL 5.6で実装されたからです。ただし、これは、時差を変換したりといった機能ではないですけど。
> 自分のパソコンの中身が、WEBに公開されたりするのでしょうか？ そうしようと思えばできなくもないけど、普通はしません。 Apacheの設定ファイル(httpd.conf)の、DocumentRootという項目で設定するディレクトリ(フォルダ)以下を公開します。ここを"C:/"にしちゃったりするとアレだけど、普通は"C:/xampp/htdocs"のようにするので大丈夫。 そして前の人が書いているように、自宅のルーターの設定しだい。 > webサーバー専用pcとはならず、これまで通り、ワードやエクセルなどを使うパソコンとして、使用できるのですよね？ もちろんOK。
MySQLのバージョンを、MySQL 5.6.xといったレベルまで提示するようにしてください。 MySQLは、5.6.xと5.6.yで、大きな機能追加や仕様変更が行われたりします。 MySQL 5.6.28でも、SHOW構文やINFORMATION_SCHEMAでは、サーバー定義の情報は参照できません。 SELECT * FROM mysql.servers; あるいは、 USE mysql SELECT * FROM servers; で、serversテーブルを検索してください。
１．必要な学習 html,cssも必要です。 商品のテンプレの作成に使います。すこし複雑な構造をつくるときは、phpの中でhtmlを手書きする必要があります。 foreach ($arr as $value) { echo "<li>$value</li>\n" } このコードは、phpとhtmlがわからないと、意味がわからないと思います。 他、XAMPPなど手元の開発環境の立ち上げ、公開用サーバーの確保、サーバーへのアップロード、データのバックアップについても学習が必要です。 ２．検索では、断片的に情報がみつかるので、流れが見えないと思います。 基礎からのmysqlの目次を見てみましたが、「PART 05 MySQL+PHPの実践」をそのまま実行できるようになると、目的の方法がわかると思います。 まずPART05を読んで、わからないところをページを戻って調べて、それでもわからないところを個別にネット検索すると良いと思います。
いろいろやりすぎて、システムにゴミが残ってしまっているようです。 個人的には、MacOS はそういったことで汚したくないと考えていますので、仮想環境にLinux などを入れて、失敗しても仮想環境を捨てればMacOS そのものは汚れないようにしています。 mysql はクライアントとサーバで構成されていますが、 表示されているエラーは mysql のクライアントが表示しているものです。 クライアントとサーバの接続方法には２つあります。 １つは、tcpコネクションで、ネットワークを利用した接続方法です。 この場合は、クライアントで -h で接続先を指定する必要があります。 もう１つは、unix domain socket によるプロセス間通信です。 これは、同じマシンにサーバがある場合に高速でつなぐことができます。 今回表示されているエラーは、こちらのエラーです。 サーバーが起動するときに、my.cnfを見て、これらの接続に必要な設定を取り込みます。 クライアントも、同じくmy.cnf を見て設定を取り込みます。 my.cnf のサーバの設定は [mysqld] socket= の部分です。 同様にクライアントの設定は [client] socket= です。今は [client] socket=/Applications/MAMP/tmp/mysql/mysql.sock こうなっていると推測されます。 原因は、サーバーの設定とクライアントの設定が不整合をおこしているからなのですが、インストールをいろいろとやってしまったようなので、 my.cnf が複数できてしまっている。 my.cnf は１つだが、それぞれ設定が違っている。 サーバーが起動していない の３パターン考えられます。 複数できてしまっても、読み込み順序があるので、複数あることが即マズイとはいいきれません。 クライアントは mysql --help で読み込む対象の my.cnf が表示されるでしょう。 サーバーは mysqld --verbose --help での表示になります。 mysqld コマンドには PATH が通っていないかもしれません。 すでに動いているのであれば ps aux で調べられるかもしれませんが、サーバーが起動していなければ表示されません。 サーバーが起動していない場合は、起動しなければなりません。 インストールしたものによって、起動方法は違うかもしれないですが、自動起動を設定しているのであれば、OS再起動で起動するかもしれません。 初心者でいろいろ難しいと思いますが、Amazon などで MySQL mac をキーワードに検索すると初心者向けの書籍があるので、１つ用意しても良いかもしれません。 つまり、MacOS に関する知識と MySQL に関する知識、コマンドライン操作の知識が必要なので、本１冊分の前提知識が必要で、回答者は大変だなぁということです。 少なくとも、自分のシステムの状態がどうなっているか？ぐらいは調べられるといいのですが、何をどうやってインストールしたかなどにもよるので、慣れて覚えるしか無いというのも正直なところです。 慣れてくると勘で検討が付くのですけどね。
＞初心者のため平易に解説頂ければ助かります 条件付きで回答がほしい時はITコンサルタントに頼むといいですよ。
環境不明ですが、ＶＰＳや専用サーバーなら一括バックアップをクロンで設定可能です。 或いは、コントロールパネルにて可能です。 若しも、クロンが使えるならばメールでバックアップファイルを自動送信してくれます。 何よりも、貴方の環境を書かない限りは推測回答しかありません。
＞なにか書き換えなければならない部分などがあるのでしょうか？ そうだとおもいますよ
strCon = "ODBC; Driver=..."でDBは接続できたとしても、「 データベース変換のＯＤＢＣインポート」相当の処理はできないと思います。パラメータにDSN=が必要になるからです。 ・DSNを作成して、データベース変換のＯＤＢＣインポートをするか、 ・DSNを作成しないなら、レコードセット処理で取り込む のどちらかになると思います。
集約関数（集合管数）は、SQLの基本的な操作ですから、SQLに関するどんな書籍や雑誌、IT系サイトなどでも調べられます。 MySQLで注意しなければならないのは、集約関数を使う場合に使うGROUP BYで独自仕様があることです。 SELECT c1,c2,COUNT(*) FROM t1 GROUP BY c1 上記のSQLは、標準SQLや主要なRDBMSでは、構文上、許されません。 c2列の値が、定まらないからです。 標準SQLや主要なRDBMSでは、GROUP BY使用時、SELECT句に書けるのは、GROUP BYに指定した列、集約関数、定数だけです。 標準SQLなどでは、次のように書き方になります。 SELECT c1,c2,COUNT(*) FROM t1 GROUP BY c1,c2 ところが、MySQLの標準インストール時の設定では、最初のSQLが、何のエラーや警告もなく、動作してしまいます。 MySQLでは、最初に示したSQLが、2番目に示したSQLと結果が同じになるなら、最初のSQLの書き方での結果は保証する。結果が異なるなら、エラーや警告は出さないけど、結果は保証しないとなっており、初心者に誤使用させてしまうような仕様になっています。 http://dev.mysql.com/doc/refman/5.6/ja/group-by-handling.html MySQLでは、この独自仕様を適用しないようにするオプションなどが用意されていますが、標準設定では独自仕様で動作してしまいます。
WHERE id=? はどこ行ったんだ？ 該当するidの行だけ表示したいんじゃないのか？
MySQLはリレーショナルデータベースの1つです。リレーショナルデータベースはデータを一番単純な構造の２次元の表で持ちます。構造が単純なので、それを操作する言語のSQLの文法も簡単で命令数も少なく、結構複雑な処理でも簡単のこなせる優れ物ですので、今までのようにプログラミング言語でデータを操作する方法よりも格段に簡単に出来、生産性が劇的に改善されました。必ず役に立つのでSQLを勉強する事をお勧めします。
CLというのが何なのか分かりませんが、外部プログラム、あるいはライブラリということでしょうか？ たしかにCSVの読み込みは大して難しいものでもありませんが、いろいろと考慮すべきことはあります。 たとえば以下のようなCSVデータがあったとしましょう。 1,品目A,"1,000",品目Aのメモ,100 2,品目""B"",450,"以下とセット。 ・項目1 ・項目2",200 これは、だいたいの場合は以下のような5フィールドの2つのレコードとして読み込むべきですよね。 # 改行部分は「<\n>」として表現しています。 「1」，「品目A」，「1,000」，「品目Aのメモ」，「100」 「2」，「品目"B"」，「450」，「以下とセット。<\n>・項目1<\n>・項目2」，「200」 こういった、エスケープや改行処理などを、漏れなく正しく作るのが意外と面倒というのは1つかと思います。 また、外部プログラムやライブラリ等であれば設定によっていろいろなパターンにも対応できるかもしれません。 たとえばエスケープに「"」じゃなくて「'」を使うとか、改行コードを統一するとか、テキストエンコーディング(いわゆる文字コード)を指定できるとか。 だいたいの場合、設定値を変えるだけでカスタムできるようになっているとおもうので、融通が利くというのもあるかもしれません。 # CLというのがどういう機能をもっているのかは、知りませんが。
これをどちらにすべきか、というのは非常に難しい問題です。 もし、保有ポイントの合計値を持つカラムを保持した場合、ポイントの出入りが発生するたびにレコードの更新が発生し、そのカラムのためにテーブルが頻繁に更新されすぎてしまいます。 一方で毎回ポイントの出入りを集計したのでは、出入りが激しい場合は表示速度が遅くなります。 そのため、よく行う手としては１か月分より前のポイント明細(pont_old)および集計テーブル(point_sum)と１か月未満の出入りテーブル(point)を夜間バッチで更新し、集計はpoint_sumとpointの合計で表示するという、質問者さんが書かれた２つのアイデアの折衷案です。
0.5秒が遅く実用にならないと言われると困ってしまいますが、頻繁に更新されないデータで有れば、集計検索した結果を別テーブルに記憶して置いて、それを見に行く方法が良いと思います。
>軽くでいいので「こんな感じ」みたいなソースや詳しく乗ってるサイトなどを教えて下さると助かります 軽いものだとしても、何時間も掛かる物になり無償でやらせるような物ではありません。 基本的に１つ１つ自分で解決しようと出来ない方は自作は無理です。
mysql_*関数はもう古いので使うべきではありません．最新のPHP7では非推奨を超えて，完全に削除されて使えなくなっているぐらいです． PHPに関する情報は腐るのが早いので，書籍やブログ記事を漁る場合，最終更新を確認するようにしてください． http://dotinstall.com/lessons/basic_php_db http://qiita.com/mpyw/items/b00b72c5c95aac573b71
ロケーションヘッダを header('HTTP/1.0 302 Redirect'); header('Location:http://localhost/web/mypage.php'); setcookie('id_cookie', $_POST['id'], time() + 3600); としてやるとどうですか？
機能として実装されていないのなら、それはプログラムになるので 教えてください=プログラマーになれるように指導して下さい。と言う話しになり、 無償で習う物では無く費用を掛けて習う物になります。 なので費用を掛けるか諦めるかを決める事になります。
複数表のUPDATEの構文で、「グループ毎の平均」を得るクエリをグループの値でジョインする方式で行えると思います。 UPDATE t1 AS x ,(SELECT grp,AVG(val) val_avg FROM t1 GROUP BY grp) AS y SET x.val_avg=y.val_avg WHERE x.grp=y.grp ; マニュアル参照 http://dev.mysql.com/doc/refman/5.6/ja/update.html
charは８ビット文字格納用で、ncharは16ビットのUNICODE文字格納用です。
番号に英字が有るとエラーになる事から推測するに、比較する前に番号を数字に変換してから比較している為と思います。数字であれば先頭に０が有っても無くても一致します。
select 購入者ID,購入商品名 ,row_number() over(PARTITION BY 購入者ID ORDER BY 購入日時) as 購入番号 from customer です。
「1レコードの最大バイト数」とは、何を意味しているのでしょうか？ データ型が固定長の列、可変長の列があります。 可変長の列には、VARCHAR(n)のように最大長を定義するものと、TEXTのように上限を定義しないものがあります。 最大長のnも、MySQL 4.0まではバイト数でしたが、MySQL 4.1からunicodeの実装により、文字数に仕様変更されました。つまり、文字コードにより、バイト数が異なります。さらに、可変長の列には、長さなどのRDBMSが管理する情報があります。 TEXTを使ったり、VARCAHRに長大な長さを使うと、論理的な行を物理的に格納する基本のレコードとは、別の物理的なレコードとして格納されます。 物理的なレコードにも、MySQLが管理する情報があります。 まず、MySQLの各データ型により、ストレージがどのくらい必要なのかをマニュアルで見てみてください。 http://dev.mysql.com/doc/refman/5.6/ja/storage-requirements.html LENGTH関数でバイト数、CHAR_LENGTH関数で文字数を得ることができます。 http://dev.mysql.com/doc/refman/5.6/ja/string-functions.html INFORMATION_SCHEMAのCOLUMNS テーブルを、SELECT文で検索すれば、列のデータ型や最大長が定義されるものには長さが格納されています。 以上の説明から、何を得たいのか、整理してみてください。
最低限の修正を加えるのであれば echo $row["k_no"] ; echo $row["k_sho"] ; echo $row["k_days"]; echo $row["k_suu"]; echo "<br>"; ↓ echo $row["k_no"] . " "; echo $row["k_sho"] . " "; echo $row["k_days"] . " "; echo $row["k_suu"] . "<br>"; でいいんじゃないですかね． 【蛇足】 ・phpタグをドカッと置いてechoを連呼することはあまりいいコーディングスタイルではありません．以下を参考に「制御構造の別構文」や「echo短縮構文」を取り入れるようにしてみてください．これらはHTMLを書いていく時に役立ちます． http://detail.chiebukuro.yahoo.co.jp/qa/question_detail/q1115398537... http://www.php.net/manual/ja/control-structures.alternative-syntax.... ・EUC-JPでコードを書かず，UTF-8に統一しましょう．参考にしている資料が非常に古い可能性があります． ・MySQL_c1がどういう実装になっているのか気になります…内部的にPDOを使っている場合はいいのですが，mysql_*関数/PEAR::DB/PEAR::MDB2を使っている実装だとちょっとマズいです．
ページが無いと言うエラーなので、そのアドレスに対してページを作るのが対処法になります。
mysql.user.pluginカラムを確認してみてください。 ``` mysql56> SELECT user, host, password, plugin FROM mysql.user WHERE user= 'test'; +------+------+----------+-----------------------+ | user | host | password | plugin | +------+------+----------+-----------------------+ | test | % | | mysql_native_password | +------+------+----------+-----------------------+ 1 row in set (0.00 sec) ``` 最近のMySQLではデフォルトでmysql_native_passwordという値が入るようになっているのですが、ここを変な値に書き換えると再現します。 ``` mysql56> UPDATE mysql.user SET plugin= PASSWORD('hogehoge') WHERE user= 'test'; Query OK, 1 row affected (0.00 sec) Rows matched: 1 Changed: 1 Warnings: 0 mysql56> FLUSH PRIVILEGES; Query OK, 0 rows affected (0.00 sec) $ mysql -utest ERROR 1524 (HY000): Plugin '*0B025000DCF68B1D374153A7005639E320D41D5B' is not loaded ``` mysql.user.pluginには「認証に使うプラグイン」が記載されていることになっており、そこにプラグインとして存在しない何かの文字列が入っているため "is not loaded"と言われていると思います（おそらく、passwordカラムを更新しようとして何故かpluginカラムを更新しちゃったんじゃないかなという文字列ですが） mysql.userテーブルのデータに依存しているので、インストール方法によらず、同じデータディレクトリーを使っている限りは再現すると思います。 戻し方は↑でおかしくした時の逆で、 ``` mysql56> UPDATE mysql.user SET plugin= 'mysql_native_password' WHERE user= 'test'; Query OK, 1 row affected (0.00 sec) Rows matched: 1 Changed: 1 Warnings: 0 mysql56> FLUSH PRIVILEGES; Query OK, 0 rows affected (0.00 sec) $ mysql -utest mysql56> SELECT CURRENT_USER(); +----------------+ | CURRENT_USER() | +----------------+ | test@% | +----------------+ 1 row in set (0.00 sec) ``` mysql.user.pluginの値をmysql_native_password（または、別のプラグインを明示的に指定しているのであればそのプラグイン名）でUPDATEしてFLUSH PRIVILEGESしてやれば良いです。
恐らく、 > 本では「MySQLモニタ」というプログラムでMySQLを操作する、 > と書いているのですが、 > MySQLモニタでやってないからダメなんでしょうか？ これですね。 start transaction; delete from tb where bang='test'; rollback; これを1つのSQLとして実行すれば期待された結果 (tbから何も削除されない) が得られると思いますが、分けてしまうと 1つのトランザクションとみなされないのだと思います。
どのように登録しましたか、insertで0001の前後にシングルコーテーションを付けませんでしたか、付けないと数値データを文字データに暗黙的に変換するので000が取れるようです。 insert into t values(0001) go insert into t values('0001') go 最初は'１'となる、２番目は'0001'。
jetmagroさんの指摘の通りです。 SQL例にすると、次のような方法があります。 まずは、SELECT文で、内容を確認してみてください。 (1)まずは、SELECT文で加工結果するイメージを確認してください。 SELECT ID ,SUBSTR(REPLACE(CONCAT(',',Name,','),',田中,',',中田,'),2,CHAR_LENGTH(Name)) AS cName FROM tbl ORDER BY ID; (2)問題なければ、UPDATE文の例 UPDATE tbl SET Name=SUBSTR(REPLACE(CONCAT(',',Name,','),',田中,',',中田,'),2,CHAR_LENGTH(Name)) ;
テーブルデザイナのリレーションシップをクリックするといいそうです。 ER図を出しくれる画面で、マウスでドラッグすればリレーションシップを作れます。最近離れているのでER図の出し方はわすれました。ダイアグラムエディタだったかな？
EXCELやoutlookとなんら変りありません。 ロックがかかっている為と移動の仕組み？を知らないからだと思います。
> 2ページ目は残りの二件が消えてしまって それはご提示の var_dump($stmt) の結果にもあるように、検索の条件が違うからだと思います。 ＿＿ area = 1 と area = 0 > $area = (int)$_POST['area']; 2ページ目以降はただのリンクで移動していますから、$_POST には何も無いハズです。 リンクのパラメータとして、検索条件も付けるか、$_SESSION で保存するかのどちらかでしょう。 ＿＿JavaScript で無理やり...というのも不可能ではないと思うけど > 2ページ目のリミットを9,16、3ページ目を17,24 2ページ目は 8,8、3ページ目は 16,8 でいいのではありませんか？ > query("SELECT COUNT(*) FROM sample_01 WHERE area = $area") こういう使い方はダメです。 「SQLインジェクション」についてお調べください。 ＿＿「セキュリティは後から」という考えもダメです せっかく htmlspecialchars() のラッパまで用意しているのに使っていないんですね。 $row['title'] については必要だと思います。 以下参考になると思います。 ttp://php.net/manual/ja/security.variables.php ttp://php.net/manual/ja/faq.html.php
目的に合わせて使い分けます。
業務内容によるので、それが判断出来ない時点で理解して質問していないと思われるので、早くはならないはずです。
> トップページにもってきたい ページの先頭部分に表示したいという意味でしょうか？ それとも、そういう内容が書いてあるページを表示したいという意味でしょうか？ > 例えば12月を選択した場合 form 内の select ですから、通常は選択しただけでは何も起こりません。 送信ボタンを押したら上記のような状態のページを表示したいという事でしょうか？ そうではなく、（送信する前に）選択するものを変えると連動してころころと変わるようなにしたいという事でしょうか？ （送信をしないで）選択肢を変えるとそれに連動して先頭部分に表示される文章が変化するモノだとして回答します。 クライアント側のみで完結する（＝そのページからサーバにデータを送らない）ものは、JavaScript でやるのが普通です。 「JavaScript select 取得」で検索すると情報がたくさん見るかると思います。 トップに表示するのもいろいろと方法がありますが、解り易いのはこんな感じでは？ 表示したい部分に <div id="may2015" class="topComments"> 2015年5月用の文章 </div> <div id="jun2015" class="topComments"> 2015年６月用の文章 </div> （以下省略） としておいて、スタイルシートで以下の様に指定して、表示しないようにしておきます。 div.topComment { display: none; } そして、JavaScript で何が選ばれているかを取得して、その値からそれぞれに対応する文章の id の値を作ります。 ＿＿選択されている option の value の値から作るとか ＿＿class に設定されている値から作る（同じものをセットしておくと簡単） ＿＿data-target="may2015" のような属性値をセットしておくとか ＿＿方法はいろいろ そしてその id の要素に対して display プロパティに block をセットするという流れです。 ＿＿block をセットする前に class="topComments" な要素全て再度 none ＿＿にしておかないと、消えてくれませんのでご注意を この部分は「JavaScript スタイル 変更」で検索すればこれもいろいろ見つかるでしょう。 もう少し違ったものだと、選択された値に関連した文書をサーバに問い合わせてそれを表示するという事も出来ます。 「AJAX」で検索するとヒントが得られるでしょう。
例えば以下のような感じでいかがでしょうか。 // $sortに、ソートしたいカラムを読み込む $sort = filter_input(INPUT_GET,'sort'); // もし$sortが、idでもpriceでもなければ、idにする if(!in_array($sort,array('id','price'))){ $sort = 'id'; } // $orderに、昇順か降順かを読み込む $order= filter_input(INPUT_GET,'order'); // もし$orderが、ASCでもDESKでもなければ、ASCにする if(!in_array($order,array('ASC','DESC'))){ $sort = 'ASC'; }
個数が０か、０ではないかでグループ分けしたうえで、商品コード順 ということですよね order by `個数`=0 , `商品コード` 式の結果でグループ化や整列できます。 `個数`=0 の結果が true だと１，false だと 0 なので、昇順ならfalse 条件の行が先に来る
1時間毎に集計という説明ですが、得たい結果の例は10分毎になっていますが？ SQL例を二つ示します。 条件式の日付など、そちらの環境に直して、やってみてください。 「日付および時間関数」のマニュアル記載 http://dev.mysql.com/doc/refman/5.6/ja/date-and-time-functions.html... (1)10分毎 SELECT x.f_tmst,COUNT(*) AS cnt FROM (SELECT *,DATE_FORMAT(u_tmst,'%Y-%m-%d %H:%i') AS f_tmst FROM tbl WHERE DATE(u_tmst)='2016-01-06' ) AS x GROUP BY x.f_tmst ORDER BY x.f_tmst ; (2)1時間毎 SELECT HOUR(u_tmst) AS hh,COUNT(*) AS cnt FROM tbl WHERE DATE(u_tmst)='2016-01-06' GROUP BY hh ORDER BY hh ;
RDBMSは、ここのカテゴリ通り、MySQLですか？ バージョンを、MySQL 5.x.xといったレベルまで提示するようにしてください。 MySQL 5.x.xと5.x.yで、大きな仕様変更が行われたりします。 id列は、従業員毎に一意に付与されたもののようですが、それで合ってますか？ つまり、name列の値は、別のクエリでid列により得られますよね？ 'in'、'out'がmax(date)、min(date)で得られるというのも、どういうデータを格納しているのかよく分かりませんが。。。 母体データ例、得たい結果の例も示してもらえると、説明文と「希望通りに動作していない」SQLと合わせて見ることで、より適切な回答が、より早く得られる可能性が高くなります。 今のSQLを流用して、例えば以下のようなSQLではどうでしょうか？ max(name) は、紐付くid毎にnameを1行だけ得るための方法の一つとして使っています。SELECT句内にサブクエリを書く方法などで、結果は1行未満である必要があるためです。 SELECT r_in.id ,(SELECT max(name) AS name FROM kintai WHERE id=r_in.id) AS name ,r_in.in ,r_out.out FROM (SELECT id,max(date) As `in` FROM kintai WHERE act='in' GROUP BY id ) AS r_in INNER JOIN (SELECT id,min(date) As `out` FROM kintai WHERE act='out' GROUP BY id ) AS r_out ON r_in.id = r_out.id;
せっかくですので、考え方のヒントをお教えします。 まずソートボタンは、テーブルの付近にHTMLで書けばいいです。 formでも、aリンクでもどっちでも可能。 aタグでやる場合は、例として <a href="list.php?sort=id&order=DESC">ID降順</a> みたいな感じ。 で、PHP側では、 $_GET['sort']と$_GET['order']にソート指示が送られてきますので、 これを変数に受け取ります（適宜filter_input()関数などを用いてください）。 またこの部分は、SQL接続前におこないましょう。 例として、$sortと$orderに入ったとしましょう。 その後、 $sql = "SELECT * FROM {$db} ORDER BY {$sort} {$order}"; みたいな感じで、SQL文を構築するときに潜りこませればよいです。 ※これをこのまま書くと、ソート指示が無いときにエラーになりますので、空のときは何にする、といったデフォルト指定するコードも書く必要があります。 ※また、上記はもろにSQLインジェクション脆弱性を含んでいますので、「空の時は」と一緒に、「指定した値ではなければ」も追加しましょう。たとえば、idとprice以外でソートする気がないのであれば、idとprice以外の値だったときはデフォルト指定でおこなうようにするとか。本当はprepareするべきなんですが別の話ですので掘り下げないでおきます。 ※また別件ですが、JavaScriptでもソート可能ですよ。前述のように、ページ送りがなければ。DBから取得したデータだろうが、JavaScriptがブラウザ上で実行されるときにはただのHTMLですから。
SQL に ORDER BY をつけて SELECT するだけのことでは？
ページをそのままで並び替えたい場合は、JavaScriptでおこないます。 ソートアルゴリズムは自分でプログラムを書くと大変ですので、既存のjQueryプラグインを用いるのが賢いでしょう。 「jQuery table ソート」などで検索しますと、色々と配布サイトや解説サイトが見つかると思うので、トライしてみてください。うまく設置できない場合、「どのプログラムを用いて、どう設置したら、どうなったのか」をまた質問すればよいかと思います。 場合によっては、うまくソートさせるためにPHPから出力するデータの見直しが必要になるかも知れません。
OR wp_posts.post_date < NOW() の条件があるから、 wp_posts.id in(384,388,390) の範囲外の値がたくさん拾われただけでは？ wp_posts.id inとwp_posts.post_dateの関係が分かりませんが、 AND (wp_posts.id in(384,388,390) AND wp_posts.post_date < NOW() ) と、AND条件になるのでは？
文字定数は、「'」（単一引用符）で囲む必要があります。 'ああ', 'カナ', 'ああ', 'doradora.jpeg' MySQLは独自仕様で、「"」（二重引用符）で囲んだものも文字定数として扱われます。 標準SQLや他の殆どのRDBMSでは、「"」（二重引用符）で囲んだものは、表や列の名前になります。 MySQLでも、ANSI構文モードでMySQLを動かせば、標準SQL準拠でSQLを書けます。 (1)MySQL構文・・・MySQLインストール時の標準設定 「'」（単一引用符）で囲んだものは、文字定数・・・'abc','a-c' 「"」（二重引用符）で囲んだものも文字定数・・・"abc","a-c" 「`」バッククォートで囲んだものは、表や列等の名前・・・`abc`,`a-c` (2)MySQLのANSI構文モード 「'」（単一引用符）で囲んだものは、文字定数・・・'abc','a-c' 「"」（二重引用符）で囲んだものは、表や列等の名前・・・"abc","a-c" 「`」バッククォートで囲んだものは、表や列等の名前・・・`abc`,`a-c`
共有のレンタルサーバーは、コンパネ（phpmyadmin ですよね？）以外から直接mysqlのコマンドライン操作はできないところが多いと思います。 phpmyadminの「エクスポート」には、csv 指定のところにも文字コード指定もあるはず。 指定しなければ、サーバーdefaultの文字コードになります。日本のサーバーならおおむねutf8でしょう。この場合、化けたように見えるのは、表示してるアプリケーションが文字コード判別できてないから。 海外サーバーだと latin1で多バイト文字は全部 「?」文字にされてしまったりしますので、文字コード指定必須です。
ORDER BY check desc,name,time とすればいいような・・・。
HTMLの知識はあるのでしょうか？ echo '<img src="img/'.$row['id'].'.png">'; とか、単純に出力したいHTMLの一部を変数から出力するだけのことかと思います。 ソートは、ページ送りを挟む予定がないのであればJavaScriptでやったほうが賢いかと思います。PHPでやりたければ、クエリーストリングでソート指示を送って、それを受け取ってselect文のorder by句に反映させればいいだけです。
AUTO_INCREMENTの列は、テーブルに1個しか作成できません。また、ユニークでかつ非NULL値の制約（NOT NULL）である必要があります。 PRIMARY KEYは、「ユニークでNOT NULL」に、暗黙的になります。 (1)表定義例 CREATE TABLE tbl (Number int NOT NULL AUTO_INCREMENT UNIQUE ,ID char(13) PRIMARY KEY ,data varchar(30) ); なお、MySQLの質問をする場合は、MySQL 5.x.xといったレベルまで、提示するようにしてください。MySQL 5.x.xと5.x.yで、大きな仕様変更が行われたりします。
何が分かって、何が分からないのでしょうか？ MySQLのバージョンを、MySQL 5.x.xといったレベルまで、提示してください。MySQL 5.x.xと5.x.yで、大きな仕様変更があったりします。 >statusとstatus1に関して status1でなく、status2の誤りですよね？ やりたい処理を文章だけで説明するのでなく、自分なりに考えたSQLも提示するようにしてください。 得たい結果は「以下」だけど、「こういう結果」しか得られないといった提示をしてもらえれば、文章の説明で分かりづらい部分も、他人が見て判断の助けになります。 >これをSQLで出来る限り短く負荷が少ない形でまとめたい 母体データが何件くらいあり、その内、何件くらいが操作対象になるのでしょう？ 行を一意に識別できるのは、ID列でですか？ (name,regist_date)では、重複値が存在する可能性はありますか？
>これはPHPからMYSQLに指示を出す部分で無限ループが起こっているような可能性を考えた方がよろしいのでしょうか？ そうだとして、修正できるのなら考えたほうがいいでしょうが、考えても修正出来なければ意味が無いので考えなくても良いと思います。
そんなことできないですよ
ls -l /tmp/importtest.csv は、何と表示されますか？ 別の人が既に使っているのでは？
PHP のシステム的が正常に動作しているなら、無いでしょう。 「破棄」ではなく、「つながらない」状況はＤＢサーバや通信路その他が原因で発生するかもしれません。 どちらにしても、プログラマが心配する事では無さそうですが、質問者さんがこれを質問したい理由は何でしょうか？ ＿＿質問者さんがプログラムだけではなく他の管理者を兼ねるなら別ですが もしもプログラムが動作しない原因を「PDOが破棄される」と考えるのなら、「『無自覚に』PDOのインスタンスを破棄した」の方があり得る事だと思います。
それは参考になるソース以前に、基本的な利用法で出来ることなので、その部分の講義が必要なら専門学校へ行くなりシステム屋にコンサルとして頼むような話しだと思います。
指摘を受けたということは少なからず、パフォーマンスにうるさいところなんですね。 大量データで計測されても良いかと思いますが、後者の方が速いでしょうね。 何れにせよそのテーブルは全件更新がかかるのだから、1回の更新で済ませてしまった方が、待ちがなくて良いでしょう。 テーブルやインデックスキーの更新待ちも1回で済みますし。
http://informa.sourceforge.net/quickstart.html これで、Hibernate 用の ChannelBuilder 使えばデータベースに保存できます。
大雑把な手順です。 ①MySQLのテーブルをODBC接続でリンクしテーブルとして扱えるようにします。 MS AccessからMySQLのデータベースに接続する http://www.hm-lab.net/archives/305 ②選択クエリに①のテーブルを配置し、必要な項目だけをフィールドに配置し、 抽出条件を設定したり、並び替えの設定をします。 クエリで並べ替えの指定方法 https://www.microsoft.com/japan/office/previous/xp/suminaka/access/... ③上記クエリをExeclなどに出力することが出来ます。 AccessのデータをExcelに出力する http://www.xn--lhry58ekee5td.com/access%E3%81%AE%E3%83%87%E3%83%BC%...
select user,Host from mysql.user where user='U1'; を実行して drop user 'U1'@’Hostの内容'; で消えます。
全く PHP の問題ではないので MySQL カテの諸兄から適切な回答が得られると思いますが... > Table 'product' already exists って言っているのだから、そのクエリを実行する際に、product テーブルが存在するのに CREATE TABLE しようとしているって事では？ うまく DROP 出来ていないんじゃないでしょうか？ > 直接下の文章を実行すると > INSERT INTO product (name, price) VALUES('鉛筆', 80), > INSERT INTO product (name, price) VALUES('消しゴム', 50), > ... SQL の区切りはカンマ( , ) じゃなくセミコロン( ; )じゃないの？ 更に、id がプライマリキーだとしているのに、INSERT文で与えていないのはまずいんじゃない？ オートインクリメントも指定していないのに、勝手にはセットされないでしょ？
テキストデータなどの場合は、そう気にしなくていいとは思いますが、blob型などのバイナリデータ（画像や動画データ）を入れる場合、制限があります。mysqlの設定ファイル（my.iniやmy.cnf）にてそれを変更してやる必要があります。
(seller,product)が同じ行は、必ず5行で固定なのですか？ それとも、5行未満や6行以上あるものも、操作したいのですか？ idx、namexは、どんどん文字としてカンマ(,)区切りで連結するのでは、問題ありますか？
ナレッジベース・全文検索・統計解析・・ロト7・競馬の予想とか
遅くなるかならないかは環境によって変わるので、理屈的な回答でもよいでしょうか？ 前提として、 MySQLはSQL処理上、1テーブルにつき1インデックスしか用いません。 降順が苦手です。（一見、降順インデックスが張れるけど内部的には作らない罠） メモリ上に載っていないと激遅になります。（特にインデックス） があります。 質問1への回答： 有効なインデックスがあれば、カウント処理（先頭からのOFFSET分）だけ遅くなると思います。 （実使用上、WHERE無しの全件SELECTでORDER BYのみという使い方は中々想像できないです。） 質問2への回答： WHERE で絞り込む条件とインデックスが合っているかが使う条件です。（前提の1インデックスのみ） またインデックスを読み込みきれていないと使わない事があるようです。（2回目からは使うとか） カーディナリティ（選択度）が低いインデックスは論外です。 他にも遅くなる理由としてORDER BYでの条件がWHEREと一致していないと、USING temporaryでメモリかディスクかでのソート処理が発動すると思います。 複数のWHERE条件を用いる際は複合インデックスの使用を検討しますが条件として、 複合インデックスを作成すること。 作成した複合インデックスと同じ順番でWHEREを書くこと。 同様にORDER BYも書くこと。 の全てが必須ですので、テーブル設計からの検討が必要な事もあると思います。 これらの挙動の確認は参考記事の通り、実データーが入ったテーブルで使いたいSQLの先頭にEXPLAINをつけて実行するのが良いです。 これでどの検索方法でどのインデックスを使用するか、メモリかファイル（5.7以外はMyISAM）でソートしたかが分かります。 それと実際の実行時間の計測ですね。 端的に言うと、この確認方法が一番早くて確実です。 （ハード構成とmy.cnfとスキーマとデーターと使い方が一緒の環境なんて無いので、理屈的な話だけになってしまうのです） 話は変わるのですが、もし大量データで遅い事でお悩みなら、どうしたら「速くなるのか？」で質問される方が良いと思うのです。 EXPLAIN結果があるとなお良いと思います。 「遅い」理由だけならどれだけでも出せてしまうのがデーターベースですので。 あと古いですが、挙動は変わっていないので参考URLも良ければご覧ください。 オトコのソートテクニック2008 http://nippondanji.blogspot.jp/2008/12/2008.html
動作未確認ですが、 SELECT * FROM (select * from テーブル order by 登録日 desc limit 5) order by 登録日 あるいは、 select * from テーブル order by 登録日 limit (select count(*) from テーブル) - 5, 5
>複数結合するとき、重複するフィールド名をまとめる 「フィールド名をまとめる」とは、どういう意味でしょうか？ (1)異なる表に同じ列名がある t1.c1、t2.c1のように、「表名.列名」という形式で、記述する方法があります。 (2)同一表を使って結合 SELECT x1.c1,y.c2,・・・ FROM t1 AS x,t1 AS y WHERE x.c1=y.c1 AND ・・・ といったように、表に別名を付けて記述する方法があります。 別名は、列、列などの加工結果、サブクエリでの結果の集合にも付けられます。 SELECT c1 AS a1,SUBSTR(c2,1,5) as a2,COUNT(*) AS a3 FROM ・・ ・ SELECT t1.c１,x.c3 FROM t1,(SELECT * FROM t2 ・・・) AS x WHERE ・・・ 質問の内容が上記のような意味でないなら、もう少し具体的な内容を提示してください。
CREATE TABLEで定義する表の構成列で、文字のデータ型の列について、文字コードを個別に定義しなかった場合、DEFAULT CHARSET=utf8が省略時の設定となります。
抽出で0件でしたら、warningは特に出ませんが。←自分でやってみて確認してください。 もし、warningが出るようであれば、 show warnings; で内容を見て、warningの内容は何か（例えば桁落ち)を確認して warningが出ないようにするべきだと思います。 なんのwarning確認しましょう
>情報が足りたいことがあると思いますが、教えていただけましたら幸いです。 それは、Postgresqlにすると言うのは確定した話なのかな？ しない。と言う選択肢は無し？期間の想定は？ それを第三者に教えてもらうのなら、FTPやコントロールパネルの情報の開示は必須になります。 業者に投げても2ヶ月工数以上は取られるでしょうから、習うなら3倍以上は掛かると思いましょう。 参考サイトに殆ど手作業と書いてあるように、その部分の内容は書いてありません。 DBの知識、型の知識、サーバーの知識も必要になると言う事です。 そこらへんの作業の考え方を理解するだけでも、システム屋のコンサル等に助言を貰わなければデザイナーが理解するのはほぼ無理だと思います。 費用が掛けられるのならコンサルは可能ですが、掛けられないのでしたら無し。と言う方向性も考えた方が良いかもしれません。
マルチマスターは障害発生時の対応が激しく面倒なことになるのと、そもそも障害発生が起こりやすくなるというものです。 で、そのメリットは……思いつきません。性能向上でマスター増設？ムリムリ。 マルチマスターとは、2つのDBで1つのテーブルを管理するようなイメージをしてみて下さい。 別々に同時にインサートされても重複制約は保たれるのでしょうか？ 同じ行を別々に更新されるとどうなるのでしょうか？ シングルマスターなら MVCC で制御して、結果を bin-log で直列化してスレーブに投げ込むだけです。 ＞レプリ先データの信頼が上がる 同期手法とマルチマスターは切り分けて考えてみてください。 真逆になるのではないでしょうか？ 考え方としては、うまく動かない時にどうなるか。です。 ちなみにマスター／スレーブ構成でも検索（参照）は２台どちらでも可能です。 今時はシャーディングやクラスタリングが主流で、マルチマスターは選択肢に無いですねぇ。 （最新だと話のネタはあるようですが、まだなんとも） もっとハッキリ言うと、２台構成に一体何を期待しているんだ！？！？という事になると思います。
「同値更新を抑止したい」という質問ですか？ 同値更新かあるいは別の意味なのか分りませんが、何か問題になっているのでしょうか？ 更新前後が同じ値か、いちいちチェックしていたら、オーバーヘッドになると思いますが？ MySQLのバージョンを、MySQL 5.x.xといったレベルまで提示するようにしてください。MySQL 5.x.xと5.x.yで、大きな仕様変更が行われたりします。
mysqli_ 系の関数は、必ず第一引数に、 mysqli_connect() の返値であるリンクIDを入れる必要がある。 mysql_ 系では、この引数は最後で省略可能だったが、省略不可能になった。オブジェクト指向型で書けば、先にobject内にリンクIDが保持されてるから、いちいち引数に入れる必要はない。 $connect = mysql_connect(/* 省略 */); → $connect = new mysqli(/* 省略 */); $result = mysql_query($sql,$connect); → $result = $connect->query($sql); mysql_num_rows($result) → $result->num_rows $bukken = mysql_result($result,$r,0) から $ensen2 = mysql_result($result,$r,4) まで → list( $bukken , $ensen1 , $eki1 , $toho1 , $ensen2 ) = $result->fetch_row();
次のSQLでどうでしょうか。 select 組番, case when max(FIN) = '0' then '未着手' when min(FIN) = '1' then '完了' else '途中' end as 作業状況 from テーブル group by 組番
検索で引っかかったものでは、こんなものがありました。 http://www.kagoya.jp/multi-plan/database/ 共用：5GB～10GB (HDDプラン：\540/月～\3,240/月(月払の場合)) 他には、Amazon RDSのように従量課金のものもあります。 また、VPS(仮想プライベートサーバ)上に自分でmysqlサーバを 構築する方法もあります(管理は自分でやることになりますが)。
それはdreamweaverは関係ありません。 プログラムを勉強するか、外注に出して下さい。
SQL Serverのカテゴリで質問されていますが、MySQLを使っているのですね？ >「商品情報入力」 phpMyAdminの表の作成（定義）機能で、列にコメントを付けたということでしょうか？ >試しに２つ無料レンタルサーバを貸り試してみました MySQLやApache等のlogを見ることは、可能なのでしょうか？ 管理者に「エラーの発生した日時」を知らせるようにと、メッセージが出ていますが、やりましたか？
実機確認していませんが、SQL例を示します。 SELECT x.bang,x.avg_uria FROM ( SELECT bang,AVG(uria) AS avg_uria FROM tb GROUP BY bang HAVING AVG(uria)>=50 ) AS x WHERE x.avg_uria>=120 ORDER BY x.avg_uria DESC ;
バインドの妥当性は見ていませんが。。。 バインド変数で与えらるのは、条件式の値部分だけです。 (UPDATEの検索条件の値、更新の値、INSERTの格納値など） SQLの条件式など、構文が変わるようなものはバインド変数では可変にできません。文字列でSQLを組み替える必要があります。 提示されたSQLでは、「id=値」の値部分しか変えられません。 '値 OR 条件式'など、条件式を追加したりすることはできません。 >"IS NOT NULL"で出せるのかな 「WHERE id IS NOT NULL」で、nullでない行を検索できます。ただし、提示されたような「id=値」で値部分だけ変える方法でなく、SELECT文を文字列で組み立てる部分で、条件式を入れてPREPAREする必要があります。 また、MySQLでは、「IS NOT NULL」など、全件ヒットするような条件式の使用は、推奨していません。 SQLの実行で、バインド変数で値を可変にする仕組みは、何のためにあるのかお分かりですか？ SQLの構文解析、表の列やインデクスの定義から、RDBMSのオプティマイザはアクセス計画を作ります。これを、「前処理」と呼んだりします。 性能を重視するシステムでは、SQLを実行する度にこの処理が行われれば大きなオーバーヘッドになります。そのため、「前処理」を一回だけ行い、値を変えながら多くのSQLでの操作を行える様にする仕組みです。 そのため、アクセス計画自体が変わる条件式の変更などは、バインド変数では行えません。SQLを文字列で組み立て直して、前処理する必要があります。
クエリA-1とクエリB-1の IIf(IsNull([フィールドx]),Null,[フィールドx]) AS 式x としているところを、すべて IIf(IsNull([フィールドx])," ",[フィールドx]) AS 式x と変更してみて下さい 「Null値との(比較)演算結果はすべてNull」になってしまうので、 これを回避できればうまく行きます。
何の説明も無く出されたのなら、出された時に確認すればいい。 そこで、確認しなかったのなら今からでも確認すれば良い。
CentOS ですよ。 ソースからインストールするのは、難しいので、 su - で root ユーザーになって yum -y install mysql-server でインストールして、 service mysqld start chkconfig mysqld on とやってください。
> 何が原因なのでしょうか while ループの中で var_dump($row); とやってみてください。 そうしたら、公式マニュアルの mysql_fetch_array を見てください。 ＿＿MYSQL_BOTH（デフォルト）がミソです mysql 系はオワコンです。 PDO で書き換えるのが良いでしょう。
１つの方法は、 刺激前＝１、刺激後＝２、というカテゴリーデータを付けて、 データ数＋１の項目を用意し、まとめて入れる。 刺激前と、刺激後を別にして集計することもできるし、 クロス集計することもできる。 クロス集計、アンケート分析に便利なエクセル・フリーソフト、 下記のサイトのフリーソフトをお試しください。 ↓ okonomimura.web.fc2.com
>OP TABLE IF EXISTS `ad_address`; おそらくは、DROP TABLE IF EXISTS `ad_address`;というクエリが書かれている（書かれていた）と推測しますが、今現在のデータにはそのクエリは（DROP TABLE ～ と完全な形で）存在していますか？ まさかメモ帳で開いて上書き保存したなんてことはありませんよね（メモ帳でUTF-8を扱うと先頭に余計なBOMが付加されてしまう）。
既に別の mysqld が立ち上がっているのかは確認できますか？ 「コンピューターの管理」の「サービス」にmysqld が登録されていて、自動で起動していないか確認してみてください。 起動していたら、そこで停止させてXAMPPから起動させてみてください。 他にはXAMPPの起動時に管理者権限をつけて起動してみるか、ファイヤーウォールを止めてみるかですね。 後は上記のログにあるとおり、Windows Event Viewer でログを確認するのが必要になると思います。 起動に失敗させてから、管理ツールのイベントビューワーを起動すると、上の方に出ていると思うので、それを追記で貼って相談すると良いと思います。
パソコンがMacならTapFormsいかがでしょう。
＞改善策をご教授願います。 依頼ならプログラム制作会社にすると良いですよ。
MySQLのバージョンを、MySQL 5.x.xといったレベルまで提示するようにしてください。突然、大きな機能追加や仕様変更が行われたりします。 ビューには、定義方法により、更新可能なビューと更新が許容されないビューがあります。 基の表とビューで、行、列が1対１で対応し、加工もしておらず、ジョインもしていなければ、多くの場合、更新可能です。 本題に入ります。 今回のビューは、「Priceが200以上しか表示しない」というビューですね。 MySQLでは、ビュー定義時に、WITH CHECK OPTIONの指定がない場合、範囲外の列値を持つ行のINSERTは抑止されません。 DELETEは、「WHERE ID=05」といった条件を追加して実行したのでしょうか？ その場合、ビュー定義時の「WHERE PRICE>=200」にANDで条件が付加されてDELETEが実行されます。「WHERE PRICE>=200 AND ID=05」という行は存在しないので、削除行=0になります。 この辺りの仕様は、MySQLのマニュアルのCREATE VIEWの箇所に記載がありますので、参照してみてください。 https://dev.mysql.com/doc/refman/5.6/ja/create-view.html https://dev.mysql.com/doc/refman/5.6/ja/view-updatability.html
Pathが合わなくなっているからです。
それは相手側の設計の問題なので、利用者側ではどうにも出来ません。
＞この場合、どのようにすれば、インポートが可能になりますでしょうか。 ホームページ制作会社に頼むと可能ですよ。
１はCreate Table 文の文法を良く調べて書くしかないです。 データの型やForeign key、primary key の設定の仕方はググればでてきます。 2. 氏名の空欄を認めないというのは、データベースにデータを登録するときに、その項目が空だと、データベースへの登録を認めない（データベースがエラーを出して登録させない）ようにするという意味です。非NULL制約とか、NOT NULL制約とかいいます。create table の書き方を調べれば設定の仕方が出てきます。
レジは１台ですか？ 日付は、日時まで持っているのですか？ 客通番など、客の情報がないと、本当に同時に購入したのか、わずかの時間差で購入されたのか区別がつかないと思われますが。 m種類の中でn種類を持っているグループは、以下のようなSQLで得られます。 SELECT hiduke FROM zisseki WHERE name IN('A','B') GROUP BY hiduke HAVING COUNT(DISTINCT name)=2 ORDER BY hiduke
>しかし，mysql> show variables like ‘port';を打ってポート番号を確認したところport 0 と表示されました． はっきり言って、MySQL のインストールに失敗しているのだと思います。 もう一度正確にインストールし直してください。 多分、TCP/IP の通信が、OFF になってインストールされています。
> なかなか上手くいきません 質問者さんがお考えになる『上手くいっていない所』は何でしょうか？ 回答する側が「あまりこういう事はしないよなぁ」と思っても、意図的に作ったものなら間違いではないでしょう。 文法的なエラーでしたらその旨表示されるでしょうから、すでにお気付きと思います。 ＿＿当然エラーは表示するようになっていますよね？ ＿＿シンタックスハイライトの使えるエディタかIDEを使うのがお勧めです > exit(); マニュアルには「exit は言語構造です。 status を指定しない場合は括弧なしでコールできます。」とあります。 SQL に対しても、HTML に対してもエスケープがされていません。 多分何かを参照されているとは思いますが、それに沿って作られた結果がご提示のモノであるなら、その参照先はセキュリティに対して無防備ですから止めた方が良いです。 質問者さんが意図的に省いたのなら、そういう手抜きは絶対にやめるべきです。 > $sSub2=$_POST['fSub2']; 変数の名前を変えなきゃならない理由が解りません。 $fSub2=$_POST['fSub2']; で良いのでは？ 質問者さんの独自の判断でしょうか？ ＿＿register_globals = On だった頃の名残りかも 変数はそれを見るだけで何のための値であるかが解るようにしておくべきでしょう。 僕なら <input type="submit" name="btnExit" value="退室"> ですね。
最終的に形になれば、正しい方法は気にしなくてもかまいません。 自分の出来る事で作り、問題があれば修正しましょう。
やり方は二つあります。 ・自宅ネットワークでサーバーを作る ・レンタルサーバーを借りて作る 自宅でＷｏｒｄｐｒｅｓｓを構築するのであれば、 まずはHTTPD , MySQL ,PHP をダウンロードしてインストールする必要があります。 インストールだけではなく、外部の人が見れるようにポート解放したりしなくてはなりません。 さらにサーバーで使うパソコンを２４時間つけっぱなしにしなくてはなりません。この方法はブログ、個人の利用であればおすすめしません。 レンタルサーバーの場合のほとんどはＷｏｒｄｐｒｅｓｓをインストールできる環境です。 レンタルサーバーに必要なのは PHP,SQLがつかえるか、 維持費も安いのでレンタルサーバーのほうをおすすめします。
xamppに入ってる mysqlは、ややversion が古い。とはいえ、xampp自体が最新なら、そんなに問題になるほど古くはない。 my.ini設定は、xampp内のディレクトリーに全部展開する設定でxamppインストール時に自動で書き換えられるので自前で入力するところもあんまりない。rootユーザーのパスワードは最初は空欄、あとで自前設定必要。 apacheサーバーも起動済みならphpmyadminからすぐに操作可能、またはxamppコントロールパネルの shellボタンからコマンドプロンプトを起動してmysql クライアントに接続できる。 official サイトのも、windows版なら、自動インストーラーもついてるようだから、そんなに面倒もなくインストールできたような？ファイアーウォールがインストーラーをブロックということもあったような。最近の動向はよく知らないです。 最後に root ユーザーパスワードを必ず設定しないと、自動インストーラーは正しく終了しない。
根本的なところに間違いがある気がします。 私はこのプログラムは次のような出力を目指すものだと思います。 ----- トマト 50円 100円 150円 ナス 100円 150円 ... ----- つまり、table_Aに項目が複数あって、それぞれの「id」に対応するこれまた複数あるtable_Bの情報を列挙する、という動作です。 これを行うためにはtable_Aの行一つに対して複数のtable_Bの情報を表示しなければなりません。 そうすると、table_Bから取ってくる列に複数の行が存在してしまうことになり、SQLで受け取ることのできる表の形式から外れてしまうのではないでしょうか。 以下のように。 -----このようなデータは(基本的に)扱えません。 ＿＿＿＿＿＿＿＿＿＿ |（＿）|（＿）|50円 | |トマト|・・・|100円| |（＿）|（＿）|200円| |＿＿＿|＿＿＿|＿＿＿| |？？？|・・・|100円| |（＿）|（＿）|150円| |＿＿＿|＿＿＿|＿＿＿| -----（＿）はセルが結合されていると思ってください。 このようなデータは一つのクエリで取ってくることができませんので、別々のクエリで取ってくることになると思います。 あと、PDOStatementは一度行を読み出すともうその行に戻ることはできなかったはずです。 今回値が表示されなかったのは、<body>前のwhileと<table>でのforeachで2周ループしようとしたためです。 方法を変えても二回同じデータを取り出すことはできません。 ===== その辺りを踏まえてプログラムをなんとなくこんな感じかなと思うように変えてみました。 <?php $pdo = new PDO($dsn, $user, $password, $options); // 上に述べた理由により、まずAだけを取得します。 $st = $pdo->query("SELECT * FROM table_A"); // Aの情報は複数あるので、配列を作成します。 $table_A_info = array(); foreach ($st as $row) { // 配列に連想配列として一行分の情報を書きます。 $table_A_info[] = [ 'A1' => h($row['table_A1']), 'A2' => h($row['table_A2']), 'id' => $row['id'], // Bの情報はまだ取得していません。 // B1は複数の値をとるため、空の配列を準備しておきます。 'B1' => [], ]; } // 念のために閉じておきます。 $st->closeCursor(); // Bの情報をAの数だけ読むので、プリペアドステートメントです。 $table_B_query = $pdo->prepare("SELECT * FROM table_B WHERE id = ?"); $table_B_query->bindParam(1, $reading_id, PDO::PARAM_INT); // 配列の要素をいじるときにforeachを使ってはいけないらしいので、forです。 for ($iterator = 0 ; $iterator < count($table_A_info); $iterator++) { // Aの情報を参照として取り出します。 $one_table_A = &$table_A_info[$iterator]; // プリペアドステートメントに紐付けた変数に代入して、「id」を指定します。 $reading_id = $one_table_A['id']; $table_B_query->execute(); // Bから「id」で取ってきた結果についてのループです。 foreach ($table_B_query as $row) { $one_table_A['B1'][] = h($row['table_B1']); } // 念のために閉じておきます。 $table_B_query->closeCursor(); } unset($one_table_A); ?> <body> <?php foreach ($table_A_info as $one_table_A):// Aの行のループです ?> <?= $one_table_A['A1'] ?> <?= $one_table_A['A2'] ?> <table> <?php foreach ($one_table_A['B1'] as $one_B1): // B1のループです。 ?> <tr> <td><?= $one_B1 ?></td> </tr> <?php endforeach; ?> </table> <?php endforeach; ?> </body>
ロリポップって、コマンドは使えるのかな。？ 解凍するしか方法はないはずだけれど。
utf8mb4のMySQLでの実装は、MySQL 5.5のようです。 移行先のバージョンは、問題ないでしょうか？
＞自己解決できました。質問失礼しました。 うむ。
うーん、ちょっと誤解を含んでいるので、このへんをどうぞ。 http://anond.hatelabo.jp/20140722001658 http://anond.hatelabo.jp/20140722034243 http://plaza.rakuten.co.jp/matsunopage/diary/201011300000/ なお、最近はMySQLの開発者がフォークしたMariaDBというのがあり、そちらを利用するケースも多くなってきています。
'c67'と'c68'の両端が一重引用符で有ると文字列と判断し０件に成ってしまいます。一重引用符を全て取れば正しく動くと思います。
’ （数字の７の文字）リテラルを置換してあげればいいんです そうすればただの文字列になります
オフロードページのことまでご存知そうなので簡単に。 TEXTとMEDIUMTEXTではパフォーマンスは実際にデータを格納している量にのみ依存し、データ型では変わりません。 可変長文字列の長さを指定する領域のサイズが1バイト増えますが、文字列本体の長さに比べれば1バイトは微々たるものだと思います。 http://dev.mysql.com/doc/refman/5.6/ja/storage-requirements.html max_allowd_packetのデフォルトは1MBなので、TEXT型にギリギリまで詰め込んだパケットはおそらく通りますが、MEDIUMTEXT型にギリギリまで詰め込むと通りませんので、デフォルトのまま使っている場合は増やしてあげてください。 https://dev.mysql.com/doc/refman/5.6/ja/server-system-variables.htm...
>DBをインストールしようとしたら DBのインストールではなく、データのインポートですよね。用語は正確に（意図が誤って伝わる怖れがあります）。 >容量オーバーになってしますので 何の容量オーバーでしょうか？ファイルサイズ制限やタイムアウトで引っかかるならダンプファイル（SQL文の集合体）を分割して実行すればいいですが、DB容量で引っかかるなら「どうやっても無理」としか言えません。 >以下のようなメッセージが表示されます テーブルwp630357term_relationshipsでプライマリキーの重複エラーですね。元のダンプファイルで当該行と同じキーのデータがないか確認してください。 >エクスポートする時に、50000位だった数値を100に小さくしました 何の数値ですか？「作成するクエリの最大長」ですかね。だとしたら（エラーとは）無関係だろうとは思います。
MySQLではサーバ側の文字セットを気にする必要はない（クライアントの文字セットに変換して取り出すのが基本）です。 >以上はためしました 提示れている文字セットがMySQLのものではないですね。MySQLなら、utf8 / cp932 / sjis / ujis / eucjpms / ujis あたりです。 もし「MySQLと無関係」なら、当該DBのカテゴリもしくは（中カテゴリの）データベースカテゴリ（http://chiebukuro.yahoo.co.jp/dir/list/d2078297625/）でどうぞ。
MySQLのバージョンが不明ですが、インストール時の標準設定ではlatin1とかになっています。 つまり、日本語をデータとして扱うには、my.iniなどで、日本語を使用する設定をする必要があるます 実際にエラーが発生したアプリから、SQLを入力できる環境で SHOW VARIABLES LIKE '%char%'; を入力してみてください。日本語を扱える文字コードの設定になっていればいいですが、latin1などになっていれば、日本語を適正に扱えません。
> 自分で調べたのですが、 問題のエラーは何が原因で、どういう解決方法が見つかりましたか？ > もしかしたらiniファイルを弄らなければいけないのでしょうか？ どこからそういう考えになったかをハッキリさせておくと、今後の糧になるかも知れません。 > dbname = test_datebase; > host = mytest.ne.jp; 僕自身試した事は無いので自信がありませんが、DSN中に改行や空白を含まない方が良いのではありませんか？ dbname=test_datebase;host=mytest.ne.jp; ＿＿ホスト名が先の方が理解しやすいだろうと思いますし ＿＿何事もマニュアルの例に倣うのが良かろうと思います
> ちっともうまくいきません 一度くらい var_dump($row) をやっておけば、エラーが出ている原因は解っただろうと思います。 エラーについてではなく、やりたい事に対しても勘違いなどあるように思います。 > １つでも○があれば、×があっても×を表示したいです という条件なのに > where テーブル１.Ａ like ? and テーブル２.Ａ like ? だと、テーブル１とテーブル２の『両方とも』Ａカラムが○の場合となっているのは なぜでしょう？ ＿＿ここで LIKE を使う意味は無いというのはともかく 更に > from テーブル１,テーブル２ だと無意味な行をたくさん取得してしまいませんか？ 少なくとも name が一致するものという条件は必要なんじゃないでしょうか？ WHERE テーブル１.name = テーブル２.name AND ( テーブル１.A ='○' OR テーブル２.A ='○') そして、結果として全テーブルのカラムＡが欲しいでしょうから、それらをカンマ( , )で連結してみます。 SELECT テーブル１.id AS id, テーブル１.name AS name, CONCAT(テーブル１.colA, ',', テーブル２.colA) AS colAs ＿＿PHP 側でデータ取得後 , で分割してから表示を細工すればいいでしょう これらをつなげればＯＫだと思われるのでテーブル数を３にして書いてみます。 SELECT テーブル１.id AS id, テーブル１.name AS name, CONCAT(テーブル１.A, ',', テーブル２.A, ',', テーブル３.A) AS colAs FROM テーブル１,テーブル２,テーブル３ WHERE テーブル１.name = テーブル２.name AND テーブル１.name = テーブル３.name AND ( テーブル１.A ='○' OR テーブル２.A ='○' OR テーブル３.A ='○') ＿＿最後の条件は ＿＿AND CONCAT(テーブル１.A, テーブル２.A, テーブル３.A) LIKE '%○%' ＿＿でもいいだろうと思います。 カンマで連結した部分を分割するのはこんな感じですね。 list($a1, $a2, $a3) = explode(',', $row['colAs']);
使っているバージョンはたぶん5.1ですよね。 5.1とそれ以前のバージョンではALTER TABLEの"type"は予約語で、ストレージエンジンを指定(変更)するキーワードでした（5.5移行、"type"はキーワードから外されています） なので、`alter table AAA type text;`は「AAAのストレージエンジンをtextストレージエンジンに変更する」という意味になります。 そしてtextストレージエンジンというものは（自分で作っていない限り）存在しないストレージエンジンのため、MyISAMかInnoDB(`SELECT @@storage_engine;`で確認できます。my.cnfに自分で指定していなかったならMyISAMでしょう)に自動でフォールバックされます。 元のテーブルがMyISAM => @@storage_engineがMyISAMの場合、何も起きません。 元のテーブルがMyISAM => @@storage_engineがInnoDBの場合、テーブルはInnoDBに変換されました。 元のテーブルがInnoDB => @@storage_engineがMyISAMの場合、テーブルはMyISAMに変更されました。 元のテーブルがInnoDB => @@storage_engineがInnoDBの場合、断片化の解消（テーブルの再構築）が行われています。 ``` mysql51> ALTER TABLE t1 type text; Query OK, 0 rows affected, 2 warnings (0.09 sec) Records: 0 Duplicates: 0 Warnings: 0 mysql51> SHOW WARNINGS; +---------+------+-------------------------------------------------------------------------------------------------------------------------+ | Level | Code | Message | +---------+------+-------------------------------------------------------------------------------------------------------------------------+ | Warning | 1286 | Unknown table engine 'text' | | Warning | 1287 | 'TYPE=storage_engine' is deprecated and will be removed in a future release. Please use 'ENGINE=storage_engine' instead | +---------+------+-------------------------------------------------------------------------------------------------------------------------+ 2 rows in set (0.00 sec) ``` 手元でやったところ、こうでした。"text"なんてストレージエンジンは知らないぞ、"type"キーワードでストレージエンジンを指定するのは古い書き方だから"engine"キーワードを使え、という2つのワーニングが出ています。
どのようなSQL文で挿入し、検索されたのかが無いので正確な回答が出来ません。 一般的には「time_added time default NULL」で登録し、「select DATE_FORMAT(time_added,'%r') from tbl」で検索します。ただし、結果は「時:分:秒 AM」と成ります。
上ののSQL文はemployeesに有ってsalesには無いEmployeeIDの行も削除されます。下のSQL文は削除されません。
CentOS が、Windowsのファイルを取りにいくことはありません。 接続先のCentOSで、mysql コマンドを実行しMySql サーバーに接続後、対象のsql ファイルをメモ帳などのエディタで開き、コピペしたら良いでしょう。 mysql コマンドでの接続は、設定によりオプションが変わってきますが、 mysql -u 接続ユーザー名 -p DB名 で、その後パスワードを聞いてきます。 ホスト情報が必要な場合は -h localhost をオプションに加えると良いでしょう。
ドメイン名hogehogeとした場合、 hogehoge/test1 hogehoge/test2 のような感じでフォルダを分けて、testにそれぞれwordpressを入れます。 その後、自動的になっていると思いますが、 管理画面のサイトurlの部分をそれぞれに変えたらいけると思います。
SELECT DISTINCT sports FROM テーブル名 です。
decimal(22,11)は、22桁の10進数で、小数点以下が11桁という意味です。 decimalは、小数点以下の精度を保証するデータ型です。11桁が本当に必要な要件かまず考えてください。 表示方法は、何らかのプログラミング言語を使用しているなら、そちらでやるべきです。MySQL側でやるなら、関数などを使うことになりますが、その分、冗長なSQLになってしまいます。
１次元のデータ列を２次元の表のようにしたいのなら、ループ変数（例えば .index とか .iteration とか）を使って、お望みの位置で <tr>（および </tr> ）を出してやればいいでしょう。 因みに、３の剰余を見れば３の倍数であるかはチェックできるのはご存知ですよね？ 僕なら、２次元の配列をプログラムで生成して、それを Smarty の二重ループでテーブル要素を完成させるけど。 行番号＋列番号（それぞれループ変数を利用）が奇数か偶数かでクラスを変更すれば交互にスタイルを変更できるでしょう。ただし、列数を奇数にしないと例示のような市松模様的な配置にはなりませんが。
SSH(SecureShell)の設定がうまくありません。 phpstormでも、mysqlでもなく、仮想サーバの設定に問題があります。 phpsotrmでmysqlならば、VirtualBox（VMWare）とapacheでしょうか。 環境がわからないので何とも言えませんが、 「VirtualBox SSH ポートフォワーディング」 「VirtualBox SSH Apache」などで検索してみてください。 Apacheデフォルトポートは80を使用するので、 ウェルノウンポート以外のポートを、80にフォワーディングしてください（例えば8888など）。 そうすると、 ホスト側でポート8888を使用すると接続できるはずです。
まず、テーブル設計を考えなおしては？ noといった一意な値を持つ連番列は、必ずしも必要ではありません。本来なら、学生番号や社員番号、店idなどといった一意な値を持つ列が、存在すると思います。 SQLの学習などの例題などでは、簡単なテーブルを用いるため、noといった列を必ず付けています。 テキストファイルなどで、create tableのひな形を作っておいて、それを基に作成するようにしては？ (3)は、primary keyとしてでなく、単なる列の追加ですか？primary keyには、nullを格納できません。 noに、どのような役割を持たせるのですか？ 例えば、次のようなことが不明です。 (1)行を一意に識別できる値であればいい (2)行を一意に識別できるだけでなく、連番でなければだめ。欠番はあってもいい (3)行を一意に識別できるだけでなく、連番でなければだめ。欠番はあっては困る (1)、(2)であれば、MySQLの独自仕様のauto_incrementを使えば簡単です。 (3)を実現するには、いろいろ工夫する必要があります。 格納済のデータに対し、no列の値を、どういう順番で付けるつもりですか？ T1(A,B)という表を作り、データを格納してしまったとして、一時的に別の表を定義＆データコピー。 CREATE TABLE wT1 (no int primary key auto_increment ,A データ型 ,B データ型) SELECT null,A,B FROM T1 [ORDER BY ・・・] wT1の内容を確認し、OKならT1をDROPして、wT1をT1に名前を変える。
ちょっと解説を覗いた感じでは、Microsoft SQL server Mangement Studio + 独自機能のように見えますので、基本はストアドプロシージャを作って実行することで複数のテーブルに処理を行うことになります。
VPS なら何でも出来ますが、 共有サーバーでは、できるかどうかなんて、運用している人にしか分かりません。 KDDI に問い合わせてみてください。 https://contact.secure.ne.jp/webapp/form/12402_ajs_3/index.do でも、やっている人が、いるみたいですから、出来るのでしょうね。 https://plus.google.com/115509722816007031843/posts/2opQ4ikLwfG この人の追加した部分以外は、単に解凍した owncloud を置いてアクセスするだけかもしれません。
V8.1は、メモリートラッカーで確認します。 # db2mtrk -i ご存知かと思いますが、V8はとっくにサポートが終了しており、オンラインマニュアル（Knowlegde Center）もV8.1はすでに存在しないので、PDF版で確認するしかないです。 「DB2 V8.1 コマンド・リファレンス」 ftp://public.dhe.ibm.com/ps/products/db2/info/vr8/pdf/letter/nlv/db... （P.114 - db2mtrk - メモリー・トラッカー） 以下の情報も、昔はよくお世話になりました。参考までに。 「DB2 UDB(PC&UNIX) V7.1 および V8.1 デザイン・ガイド」 http://www.ibm.com/developerworks/jp/data/library/handouts/dguide.h... 機能的にも、セキュリティ的にも早急にアップグレードすることをおすすめします。
>1のほうは問題なくできるのですが ためしに、その１のSQLを返信で教えてもらえませんか？
ここはMySQLカテゴリです。適切なカテゴリに移動してください。
天国と地獄と輪廻です。 証拠ないとか、科学的でないとか、勉学力の弱い人は言います。 ニュートン（近代物理学の創始者）は、いつも親殺しを考えて、勉強したことを神に懺悔したことを日記で書いています。 近代物理学の創始者がクールなど、後世の馬鹿の嘘です。もう、ニュートンの特許権は切れました。 もし、地獄がなければ、もう、人間は何でもかんでもやっていいことになります。 ならない。 これこそ科学的です。 ニュートンは神を信じていました。 大科学者ほど、神を信じていることが多い。 良く考えろ。 地獄がなければ、人は、やりたい放題。 殺したければ殺す。 大科学者ほど、神を信じないという奴は、何でも言え。 死んだとき、裁きは来ます。 証拠？ 人は、地獄なければ、やりたい放題。 いい人の世界観です。 ※これに反抗したところで、クール=有名科学者の特許権は切れました。 そんな糞のようなことない。
スキーマとは、データの性質、形式、他のデータとの関連などの データ定義の集合のことです。また、スキーマの定義は、 次の３層スキーマを利用して行われることが多いです。 ・概念スキーマ … データベース全体の論理構造や名称を定義 ・外部スキーマ … 利用者から見たデータベースを定義 ・内部スキーマ … 物理的な構造（記憶領域や編成方式など）を定義
バックアップファイルは、 ある時点におけるデータベースをそのまま複写したもの。 ジャーナルファイルは、データベースに対して行われる更新処理を 記録したものです。ジャーナルファイルはログファイルともいいます。
主キーというのは、テーブルのタプル（レコード）を 一意に特定する項目のことです。主キーには以下の条件があります。 ・複数の項目からなる複合キーでもよい ・NULL値（空値）を許可しない（非NULL制約という） ・同じ表内の主キーは値の重複を許さない（一意性制約という）
E-R図とは、対象世界をエンティティ（実体）と リレーションシップ（関連）の２つの概念で表したものです。 データベースの概念設計で使われます。 また、E-R図では、リレーションシップの カーディナリティ（多重度）を表すこともできます。 カーディナリティには、「１対１」「１対多」「多対多」の３種類が あります。
射影は関係データベースにおける関係演算の一種であり、 「指定した属性（列）を抽出する」という動作を意味します。
複数の構成要素からなる組を総称する一般概念です。
テストをしていないので自信はありませんが、cmd.ExecuteはRecordsetを返すので、Recordsetのインスタンス化は不要です。 また2回目以降のADODB.Commandのインスタンス化も不要と思います。 mySQL = " SELECT SUM(受注数量) FROM 今年 " mySQL = mySQL & "WHERE 納入期日=" & Range("B13") & AA Set cmd = New ADODB.Command Set cmd.ActiveConnection = db cmd.CommandText = mySQL Set rs = cmd.Execute Range("I13").CopyFromRecordset rs mySQL = " SELECT SUM(受注数量) FROM 今年 " mySQL = mySQL & "WHERE 納入期日=" & Range("B14") & AA cmd.CommandText = mySQL Set rs = cmd.Execute Range("I14").CopyFromRecordset rs mySQL = " SELECT SUM(受注数量) FROM 前年 " mySQL = mySQL & "WHERE 納入期日=" & Range("K14") & AA cmd.CommandText = mySQL Set rs = cmd.Execute Range("M14").CopyFromRecordset rs mySQL = " SELECT SUM(受注数量) FROM 前年 " mySQL = mySQL & "WHERE 納入期日=" & Range("K15") & AA cmd.CommandText = mySQL Set rs = cmd.Execute Range("M15").CopyFromRecordset rs これで、ほんのわずかながら速くはなるだろうと思います。 コードを見る限り、インスタンス化を無駄に実行しているだけなので、コードの速度的にはほぼ最高と思います。 VBAコードよりも、クエリを実行するテーブル側に適切なインデックスが設定されていない可能性が高いです。条件によっては100倍くらいの速度差が出ます。 インデックスを設定しても改善されない様子なら、パラメータオブジェクトで値を設定する必要がるかもしれません。 「Parameter オブジェクト」 https://msdn.microsoft.com/ja-jp/library/cc364266.aspx
BLOBは、画像データそのものなどを格納するためのデータ型です。 他の文字や数値などのデータ型と異なり、関数や検索条件などで扱えないなどの 制約があります。 ファイルの保存先アドレスは、パスということですよね？ VARCHAR(n)を使うのが、一般的です。nを無暗に大きくしないように注意してください。また、TEXTも極力、使わないようにしましょう。 SQLで操作する上で、色々な制約があったり、オーバーヘッドの大きい処理になってしまいます。
集計関数が使えます。集計関数の主な物は合計をするSUM以外にCOUNTで件数、AVGで平均値、MINで最小値、MAXで最大値が有ります。
お使いの Linux のディストリビューションとバージョンは何ですか？ 今は、全然サービスの起動の仕方が統一されていません。 ディストリビューションとバージョンによって違ってしまっています。
多分の話ですみません。エクセルで扱えるメモリーは多分数十Mバイト程度ですので、全て受信出来たとしてもエクセル側が動かないと推測します。SELECTにWHEREを付けて、ほしいデータだけを受信されると良いと考えます。
>質問１ ファンになっている写真記事を10件表示したい場合、どのようなクエリを発行すればよいでしょうか？ “ファンになっている”とは、一体どういうことでしょうか？ funテーブルの説明に、 >※status が 1の時、fun状態を指すこととします。 と書いてあるだけが手がかりなので、 select * from fun where status = 1 limit 10 これくらいしか考えつきません。 また、あなたが挙げている例 >SELECT * FROM photo WERE id = '2' OR id = 4 OR id = 10・・・ を読み下すと、 「photoテーブルから、idが2,4,10....に該当するレコードを抽出する」 となります。ということは、 「photoテーブルにおいて、idが2,4,10...に該当するレコードが、“ファンになっている写真記事”だ」 ということですよね？ いったい何故、idが2,4,10.....がキモなのでしょうか？ 恐らく、何らかのキーによって、photoテーブルとfunテーブル（あるいはaccountテーブル）を結びつければ、idが2,4,10.....の秘密が解けるのだと思いますが、その手がかりが示されていません。
以下を参照してください。 http://webkaru.net/mysql/phpmyadmin-optimize-database/
time型は秒が必要だから、`時間`カラムは文字列型でしょうか？ 日付カラムと時間カラムとを使ってdatetime型書式になるように文字列連結して、それをdatetime 型にキャストしたものを最新チェック条件の`日付`カラムの代わりに使えばいいのでは？ cast( concat(`日付`, ' ' , `時間` , ':00') as datetime) 処理を速くと云うことなら最初から、日付と時刻一緒の datetime型で保持しておく方がよいと思われる。
mysql なら innodb テーブルエンジンとtransaction使うのがよいと思います。
BLOBのようなバイナリデータであれば、id等で紐づけ、別テーブルにする方法が考えられます。 また、特定列を除いたSELECT文が頻繁に使われるなら、テーブルの列構成の見直しの他、ビュー表で特定列の除いた定義を行い、ビュー表経由で操作する方法もあります。 なお、ビュー表を使って操作する場合、次のような定義をすると、INSERT、DELETEなどで制約を受ける場合があるので注意してください。 (1)複数表を結合している (2)列を加工している (3)GROUP BYなど、複数行が集約されている
>mysql.exeファイルのあるPATHは登録済みです。 pathを再確認してください（キチンとpathが通っていれば、提示されたエラーにはなりません）。
MySQLはリレーショナルデータベースのソフトですので、データベースの操作にはSQLを使用します、SQLを勉強して下さい。SQLは文法が簡単で命令数も少ないので習得は容易です。アドレス帳を作ると言う事ですのでアドレス帳のテーブル（データベースにデータを登録する為の２次元の表）をcreate tableで作ってinsert でデータをテーブルに登録します。その後selectでデータを読み出します。SQLはPHPでデータベースに接続しSQL文の文字列を組み立ててデータベースに送り結果を受け取ります。
社内ＳＥをしているものです。 ユーザーＩＤ と フォロー相手のユーザーＩＤ だけでは、 だめだと思います。 １発言に対して、ＳＥＱナンバーをつけるなりをして、 そのＳＥＱナンバーに対してのフォローを保持していく方法に する必要があります。 １ユーザーは、Ｎ発言する可能性があり、ユーザーＩＤだけでは そのフォロー内容がどの発言に対してなのかが、わかりません。 また、１発言に対して１フォロワーからのＮフォローもあり、 この場合にも処理が非効率になる場合があります。 発言Ｎｏ、ユーザーＩＤ、（フォローの）発言Ｎｏ、フォロアーのユーザーＩＤ、 発言内容。という項目がメインとなり、あとはタイムスタンプ等の項目も 必要だと思います。
>管理者が、練習用のデータベースを作って、その中では >なんでもできる権限を与える 普通はそうですね。共用のレンタルサーバなどでもそういう設定だし。 http://www.dbonline.jp/mysql/user/index5.html http://www.dbonline.jp/mysql/user/index6.html 自由勝手にデータベースを作成させたら収拾がつかなくなりますし、そもそも「自分が作ったデータベース」という概念がありません（ファイル管理との違い）。
testテーブルが数100万件でもない限り、パフォーマンスはどんなやり方でも大して変わりませんよ。 ■案１ SELECT * FROM test WHERE card1_id * 10000 + card2_id * 100 + card3_id in (102030,103020,201030,203010,301020,302010) ■案２ SELECT * FROM test WHERE CASE when card1_id 10 then 1 20 then 10 30 then 100 else 0 END + CASE when card2_id 10 then 1 20 then 10 30 then 100 else 0 END + CASE when card3_id 10 then 1 20 then 10 30 then 100 else 0 END = 111
> MySQLモニタでやってないからダメなんでしょうか？ 当たり前過ぎてワロタw セッションって分かります？ トランザクション貼って、deleteやって、rollbackを別々に動かしたら、そりゃ途中でコミットされるわw セッション切れまくってんだからw それが通用するなら、commit前にDBが落ちたら全部消えるの？ 100万件データinsertしてる途中で、DB処理中にシステムダウンで最初からやり直し？ 何の為にリランがあると思ってるの？
> 全件取得したいのですが、一件しか表示できません という事は、表示している部分のループが１回しか回っていないだろうと考えます。 なので、ループの終了条件である $rows の個数をチェックします。 予定通りの値が取得できていますか？ > while ($data = mysql_fetch_array($result)) { > $no = $data['id']; > $name = $data['detail_name']; > } > $rows = mysql_num_rows($result); たぶん、フェッチした後で行数を取得しようとしてもダメなんじゃないかと... 更に、while ループ内で $no, $name をセットしていますが、毎回同じ変数に格納している（＝上書きされる）ので、最後にフェッチした値しか保持されていません。 これだと $row が予定通りの値であったとしても、その個数分「同じ値」が表示されるだけでしょう。 > 全件表示させたいのですが、どうしたらいいでしょうか？ ＤＢから取得したデータ１行ごとに表示用テーブルの１行を生成するようにすべきでしょう。 なんらかのモノを参考に学習されていると思いますが、mysql系の関数を使っている時点でアウトです。 参考にするものを新しいモノに切り替えて、PDO で書き直してください。 > 'SET NAMES utf8' バージョン依存ですが、これもＮＧでしょう。 ググれば理由はたくさん見つかるでしょう。
手元のMySQL5.6.25ではエラーになりませんでした。 >エラーが出てしまいます。 エラーメッセージを転記してください、
>DBになるとほとんどのサンプルでロックをしていません。 update テーブル名 set count=count+1 where id=1 のSQL文を複数実行しても、実行した分だけカウントアップされるのはわかりますよね。各クライアントが物理データを直接読み書きしない（データベースサーバに依頼して実行してもらい、その結果を受け取る）のでロックする必要がありません。 もちろん「更新前の状態」を読み出してそれを書き替えるような場合には（その間に他から更新される怖れはありますので）select for update などで読んだりしますし、テーブル自体にロックをかける命令（lock tables）もちゃんと存在します。
単に指定しているセッション情報が正しくないだけのように見えますが。。 sid,serial#はユーザで決まるのではありません。 > connect testuser/password@ORAORADB > SELECT USERENV('SID') FROM DUAL; > select sid,serial# from v$session where sid=261 これで得られるセッション識別番号は「上記SQL文を実行しているセッション」の情報であって、取りたいセッションのセッション識別番号ではありません。 V$SESSIONの各列の値から欲しいセッションのsid,serial#を調べるか、sql_traceをalter systemで設定してから処理を実行してトレースファイル群から必要なセッションのものを探すか、でしょうか。
>PHP 5.4にてmysql コマンドにてアップロード アップロードしたSQLファイルをphpスクリプトから（セミコロンで分割して）SQL実行しているということでしょうか？ SQLファイルの1～7行目を転記してください（コメントアウトされている行は不要です）。 また旧サーバと新サーバのMySQLのバージョンは各々どうなっていますか？
> 主キーはそれ1つで一意のレコードを特定できるものという記述が見られます。 > これは「ユーザー情報テーブル内」での話 ↑です。 > 「主キーを元に他のテーブルを検索した時」 ↑は該当しません。 外部キーという言葉を調べてみてはいかがでしょうか。 http://itpro.nikkeibp.co.jp/members/ITPro/ITBASIC/20000919/1/ 図2の「個人情報テーブル」と「会社情報テーブル」を関連付けるために 使われている、「個人情報テーブル」の「会社ID」がまさに質問の例です。
まずは合計を取り出すところから 「指定の日時に対して」ですが、出力側が「dateは日にちのみ」ということですから指定するのは日付でいいのですよね？ select user, date_format(`date`, '%Y-%m-%d')as xdate, no, sum(value) as xvalue from hour group by user, no having xdate = '2015-06-04' とすれば user xdate no xvalue 001 2015-06-04 01 190 001 2015-06-04 02 320 002 2015-06-04 01 510 という結果が得られますので、これをinsertすればいいだけです。 insert into day select user, date_format(`date`, '%Y-%m-%d')as xdate, no, sum(value) as xvalue from hour group by user, no having xdate = '2015-06-04'
$sortの前後のシングルクオートが要らないです。 例えば、$select2==2の時 order by 'keiyaku_number,tbl01.id' となり、ソートカラムが見つからない状態になっています。
普通に select count(*) from table_name みたいな感じで。 count(*)の*は、カラムを一つだけ指定すれば十分です。 これで、table_nameというテーブルのレコードをカウントする事ができます。 表示・非表示などに条件があるなら、whereで絞ればOKです。 また、普通にselectして配列に値を入れ、 配列の数をカウントしても良いでしょう。 $DATA = array(1,2,3,4); printf("%d",count($DATA)); ざっくり言えばこんな感じ。 DBへのアクセスは比較的「重い」処理なので、複数回selectするよりも配列に入れたものをカウントする、方が、パフォーマンス的にはよろしいかと思います。
number での結合だけで、ほかは絞ってない（group byもない）ので、１行には 1 number に対応する 1 nameがでてきて 別の行で同じ名前の別numberのデータがあるはず。 order by tbl02.name を加えたら、複数行あるのがわかりやすくなるのでは？
引っ越しするならプラグインDuplicatorが簡単です。 データベースの余裕があるホスティング会社に引っ越し。 最近つくづく思うのですが、やはり最近のホスティングは良いです。 HDDがSSDになっていたりしますし、ワードプレスのようなサーバーやデータベースへ負荷をかけやすいCMSを使用するには、もはやSSD対応は必須かと。 データベースの容量が500MBというのは少々異常かと思います。 私のブログのひとつは、5年ほど経過しますが、データーベースは100MBを超えていません。（容量制限はなし） 週2回更新です。 不要となった記事は気が付いたら削除してリダイレクトプラグインでフロントページへ辿りつくようにします。 今確認すると227件がリダイレクト設定されています。多くの場合削除による設定ですので、200件程度の記事は削除した事になります。 記事そのものを削除しても、もし画像データをサイト内に格納していたら、残ってしまいます。 残すことなく完全に削除。 そうする事により、訪問者にとっても探しに来た情報に辿りつきやすくなるし、WP本体の動作も少し快適になります。 全体の容量、データベースの空き容量も減少します。 過去の情報は、よほどでない限り、惜しみなく削除してしまうことが重要かと思います。
編集をviでやってませんか？ vi /etc/mysql/my.cnf←のような記述ですとviで開いています。 viはメモ帳ライクには扱えませんよ。「vi 操作」←検索 readonlyとうのはおそらく権限が無いのでしょう。 root権限(sudo)で開いて編集してください。 僕の環境ですとメモ帳ライクに扱えるnanoというエディタが使えるので sudo nano /etc/mysql/my.cnf でnanoでファイルを開いて [client]の最後の方に default-character-set = utf8 [mysqld]の最後の方に character-set-server = utf8 を追加して「ctl+X」で終了時に保存「y」します。 （nanoの場合、操作方法が下に出ているので扱い易いですよ。）
逆位置のものは、大小が逆転するから、大小比較を追加して、 t1.no<t2.no で絞り込む ああ、追加というか、 <> を < にすればいいだけだね。
まぁ、フツーにどこぞのsqlの中身に問題があるのだと思いますけど。 三行目？が動いてないなら、 まぁ$mysqliがオブジェクト化されてないってコトでしょうね。 あと、仮にコレが動いたとしても 都度queryを走らせるのはパフォーマンス的にアレなので $query = array(); for($i=1; $i<=31; $i++){ $query = "(value1,value2)"; } $insql = sprintf("INSERT INTO tbl (column1,column2) VALUES %s",implode(",",$query)); $mysqli->query($insql); こげな感じで一括処理する方が良いと思いますよ。
全然 PHP でも MySQL でも無い気がする... > 久しぶりに触ったらエラーが > 特にPCの設定をいじったりはしてない そう言う方の大部分が、何らかの変更をしています。 何かをインストールした時に...とか。 何か問題が有ったら、そのサーバのログを見る事が最初です。 XAMPP のコントロールパネルの Logs ボタンから access.log, error.log を選べばヒントがあると思います。 時間（タイムゾーンを設定してないと日本時間じゃないかも）も記録されますから、実際に XAMPP のウェブサーバにアクセスしているかをチェックするのが最初でしょう。 ログから、実際に開こうとしたファイルが何であったかを知る事が出来るでしょう。 それが予定しているファイルであるかのチェックは必要でしょう。 蛇足ですが、 > 四苦八苦しながらも初期設定、文字コードの設定等を済ませて 変な設定をしない限り、初期設定も文字コードの変更も無しで動作すると思います。 わざわざ面倒な事をしている可能性があるように思います。
私も同じところで引っかかったのですが、そもそも最新版（5.6.14）には、 securityフォルダが無い（入れ忘れかも）ので、 http://localhost/security/には、アクセスはできません。 設定ファイルなどいろいろ触ってもさっぱりわからなかったので、 私は、最新版をアンインストールして、5.6.11をインストールしました。 （securityフォルダはもちろんあり、パスワードなどを変更できます。） XAMPPの古いバージョンが置いてある場所 http://sourceforge.net/projects/xampp/files/XAMPP%20Windows/ お力になれたら幸いです。
データベースの基本的な考え方は、１度登録したデータは可能な限り変更しない事です。つまり、生徒コードとクラスコードは年度替わりでは変更しない事とするので、そのクラスコードは今年は１学年で来年は２学年とする方法が良いです。私が作るとすればクラスコード内に入学年度を付加して分かり易くします。
phpMyAdminのバージョンが不明ですが、phpMyAdminのテーブル作成の機能で、列名やデータ型を設定して作成したのですか？ それとも、CREATE TABLEで作成したのですか？ >テーブル作成時のあらゆる入力値が全く反映されない 「テーブル作成」と「データの挿入」は、phpMyAdminでは別の操作で行うと思いますが、それについて明確に記載されていませんが、どういう方法で操作したのでしょうか？
適当な本、というのは適切な回答はできません（そのテの本はほとんど読まないので）が、 phpとmysqlで作るログイン・・・アカウント管理だとかアクセスコントロールだとか、いう部分は、大抵はセッション（session）を使って管理します。 ややこしいかもしれませんが、以下の様なロジックです。 1)フォームからID、PASSWORDをPOSTする 2)DBにアクセスし、特定のテーブルに指定したID、PASSWORDが含まれるか確認 3)場合によってはDBを暗号化 4)値があれば、DBから適当な情報を呼び出し、sessionに格納 5)後は、特定のsessionにしかるべき値が入っているか、を常に確認し、入っていればログインしている、入っていなければログインしていない、とみなす 6)ログインしている・していないで表示を切り替えたり転送したりして、ユーザのアクセスをコントロールする で、よくある「一度ログイン」したら、パソコン閉じてももう一回アクセスするとログインしている・・・というアレは、クッキーを使っています。（cookie） cookieはsessionとはだいぶ「感覚」が違うので、慣れるのに時間がかかるかもしれません。 本は、このテのキーワードを元に類似の記事があるか、を見れば良いかと思います。 ただ、経験的には本に書いてある事を丸写しでは、プログラムを覚えることは出来ません。勉強したいのではなく、あくまで「ログイン機能」を実装したいだけ、ならそれでも構いませんが。 ちなみに、sessionやらを柔軟にコントロールしようと思うと、 「多次元連想配列」と「サーバ変数」の理解が必須です。 前者はプログラムでは標準的な概念です。書き方は微妙に違いますが。 後者はphpの、というよりWEBシステムには必須の概念ですが、組込系ではあんまりない感覚のようです。 後者は、サーバ自体の情報（今アクセスしているページのFQDNやフルパスなど）や、アクセスしてきているユーザのユーザエージェント、IP、リファラーといったものを取得できます。 余談ですが、XAMPPである、と言う事はここではほとんど影響ありません。 いわゆるLAMP環境なので、phpとmysqlに絞って考えるべきでしょう。 ・・・まぁ、その気になればphpからLinuxコマンドを叩くことも出来ますが、ファイルの取り回し（圧縮するとか削除するとかコピーするとか）とかしないかぎり、そうそう使いません。
1. SELECT 名前 FROM テーブル GROUP BY 名前 HAVING COUNT(*) > 1; 2. SELECT 名前 FROM テーブル GROUP BY 名前, 性別, 年齢 HAVING COUNT(*) > 1;
普通は、jdbc というライブラリを使います。 jdbc は、DB の種類ごとに違いますが、アクセスの仕方は同じです。 たとえば、PostgreSQL なら、 postgres.jar という jdbc を使います。 MySQL は、Connector/J という jdbc を使います。 例では、 http://d.hatena.ne.jp/java-wizard/20100530/1275199963 大概、select になってますが、 stmt.executeQuery でなく、 http://www.javadrive.jp/servlet/database/index10.html こんな感じで、prepareStatment と、やって、 setInt や、setString で パラメータを設定して、 executeUpdate とやります。
私も同じところで引っかかったのですが、そもそも最新版（5.6.14）には、 securityフォルダが無い（入れ忘れかも）ので、 http://localhost/security/には、アクセスはできません。 設定ファイルなどいろいろ触ってもさっぱりわからなかったので、 私は、最新版をアンインストールして、5.6.11をインストールしました。 （securityフォルダはもちろんあり、パスワードなどを変更できます。） XAMPPの古いバージョンが置いてある場所 http://sourceforge.net/projects/xampp/files/XAMPP%20Windows/ お力になれたら幸いです。
管理者権限なのに情けない・・・・。 取り敢えず、サーバー再起動して下さい。 リソースが足らない原因は後にして。
環境変数に設定してあるのと、Rubyコマンドプロンプトからそれが見えているのは別の問題です。 Rubyコマンドプロンプトの実体は、おそらくバッチか何かになっていて、そこでRubyの実行に必要な環境変数をシステムの環境変数とは切り離して定義しているのではないかと思います。 したがって、直接そのあたりのファイルを操作してやるか、何か設定ファイルの類があればそこで必要な環境変数を定義し直してやることで、Rubyコマンドプロンプトからもコマンドを参照できるようになるのではないかと思います。
バージョンが不明ですが、MySQL 5.1頃の情報です。 データ量がどの程度あるのか不明ですが、性能を出したいなら、 create index tbl_idx1 on tbl(`title',`date`); というインデクスを定義すると良いでしょう。 SQL例を、3種類提示しておきます。 -- ------------------------- -- not exists -- ------------------------- select * from tbl x where not exists(select 1 from tbl where x.`title`=`title` and x.`date`<`date`) order by `title ; -- ------------------------- -- サブクエリの結果とジョイン -- ------------------------- -- MySQLでは、サブクエリの実装がMySQL 4.1と遅く、 -- 性能対策はまだまだ発展途上。 -- ジョインで書き換えられるものは、ジョインにした方が性能を -- 出しやすいケースが多い select x.* from tbl as x inner join (select `title`,max(`date`) as `max_date` from tbl group by `title`) as y on x.`title`=y.`title` and x.`date`=y.`max_date` order by x.`title` ; -- ------------------------- -- 相関サブクエリ -- ------------------------- -- 列値を拾う相関サブクエリは、MySQLでは非推奨 select * from tbl as x where x.`date`=(select max(`date`) from tbl where x.`title`=`title`) order by `title` ;
"MySQL server has gone away"は「MySQLへの接続が成功した」あと、「クエリーを投げようとしたらその接続が切れていた」時に発生します。接続からクエリーの間にmysqldがダウンした場合や接続のタイムアウトなどで切断された場合に出ることが多いです。MySQLがダウンしていなかったかどうか（していたとしたらその原因を取り除く）、タイムアウト設定値(wait_timeoutかまたはinteractive_timeout、どちらをタイムアウト値として選ぶかはクライアント依存です）を確認してください。
データマイニングによって法則性や規則性を 発見するために用いられる手法のひとつです。 スタースキーマは分析用データベースのスキーマ（データベースの 論理構造、格納構造、物理構造に関する定義と記述）のことであり、 分析対象を中心として放射線状に分析値を配置するものです。 スタースキーマ実装のためのインデックス作成は、 データマイニング実現のための準備の一つです。
この記述自体には、PHPの構文エラーはありませんよ。 エラーを探すのであれば、エラー指定行の1つ前の行も確認した方がよいです。セミコロンを付け忘れてるとか。
SELECT * テーブル1 WHERE 種別 LIKE '%' ＝ではなくてLIKEにしてはいかがですか？
MySQLはリレーショナルデータベースを扱う事の出来るリレーショナルデータべースマネージメントシステム（RDBMS）の1つです。phpMyAdminはMySQLを管理するためのソフトウエアです。SQLはリレーショナルデータベースを操作する為の言語です、JIS規格にもなっていますがRDBMS毎に方言のような文法の異なる部分が多いので注意が必要です。
MySQLは比較的に基本的なSQLでも、独自仕様が少なくないRDBMSです。 UPDATE table2,table1 SET table2.name=table1.name,table2.price=table1.price WHERE table2.table1_id=table1.table1_id
SQLインジェクションのやり方自体は様々ですが DBの種類とシステム上でのクエリ文字列の扱い方が肝です。 例えば、愚かにも例題のシステムが、 "select * from users where goodsNo= " + aParam という、受け取ったパラメータを信用して抽出をそのまま実行するようになっていたとしましょう。 するとこのシステムでは、aParamに10001 and 1=1を与えてやれば、goodsNo=10001 and 1=1が成立しますね。 他にもクエリとして関数が存在するDBであれば、KVSでもインジェクションが可能です。 予約語である関数を注入して、任意のコードを実行させることができます。
``` SELECT user.user_id, certification.cer_name, aggregate.cer_list FROM user JOIN certification USING(user_id) JOIN ( SELECT user_id, GROUP_CONCAT(cer_name ORDER BY cer_name) AS cer_list FROM certification GROUP BY user_id ) AS aggregate USING (user_id) WHERE cer_name ='15A002'; ``` 最後のWHERE句の部分を、検索したいcer_nameに変えてみてください。
やみくもに「なぜ」と考えるのではなく、コメントアウトしているそれが「何をしようとしている記述なのか」を考えればすぐわかると思います。 結論から言うと、INSERT文の実行結果からフェッチしようとすると例外が発生します。fetchはSELECT文に対してのみ使えます。 http://qiita.com/mpyw/items/b00b72c5c95aac573b71#2-19 また、$pdo = null; $stmt = null; ともに「その後にPDOに関連しない処理が長時間続く」という特殊な場合を除き、書く必要はありません。変数にnullを代入しなくとも、スクリプトが終了するタイミングでリソースは全て開放されます。
> PDOでの接続部分でエラーになっているみたい そのエラーメッセージをよく読んでください。 解決へのヒントが書かれているのですから。 エラーメッセージを読む努力が出来ない人はプログラムの開発に向いていません。
古い書籍で、「mySQL Excel」ならありましたよ。
SQL文法上のエラーにはならないけど、下手すると全行削除になるかも知れない危険な all or nothing 条件式ではある。 正しい対処法はすでに提示されているので、なぜそうなるかの解説。 where節で、カラム名と比較してないから、そのデータが0 か 0以外 かで falseか trueかを判定することになる。 A.与えたデータが文字列なら、整数値に変換を試みるが、mysqlでは、数字で始まっていない文字列は０とみなされる。提示条件では、sで始まっている。 ０は条件判定において false である。 よって、条件式の結果は常にfalseとなるので１行も削除実行されない。 B.しかし、もし、1で始まる文字列を与えていたならば、全行削除となる。 今回は１行も削除されないで発見されたからいまだ傷は浅いが、大量にデータを蓄積後に全行削除になってバグ発現するとダメージがでかい。
その頼んだ所が実際に制作しているか、仲介かによって価格の考え方は変わります。 制作するところの場合は、人件費で考えると良いです。(1月掛かる物はエンジニアの給料50万＋αのような感じで、大雑把に月60万*かかる月数で計算すれば良いと思います・仲介は、適当価格) >これは、WEB上で配布されているフリーまたは有料のプログラムによって実現出来るものなのでしょうか？ 普通、風俗のような流行を追わなくてはいけない物はフルスクラッチで作成します。 既存の物を使おうとする所は、依頼側も製作側も素人の場合が多く、作れないから間に合わせで納品と言う所が多いです。 >そういった抽出のプログラムを業者に依頼しております。デザイン的な部分の依頼は自社で行うとして たぶん、失敗でしょうね。 基本、両方まかせるのでなければデザインが先です。 上記のような説明をしているにも関わらず質問者が何も説明を受けていないのなら、まともな物を作れる業者では無いんじゃないかな。 どの程度の規模の店舗(1店舗か複数店舗か)判りませんが、風俗は企画込みで制作する＆出来る所で無いと、まともに宣材として機能しません。(デリヘルなら、サイト検索よりももっと重要な物を求められます。) 経験上、バラで発注をしているお店だと売り上げに繋げる為では無く、他社もやっているから自分もやろう。的な起業したての知識の無い所が大半で、全作り直しが多い傾向に有ります。 風俗店のサイトを作る上で重要なのは、キャストをアピールする事です。 サイト内の女の子の絞り込み=プロフィール、出勤表、ブログ、指名が全セットです。 複数店有るのなら、自分の店の宣伝もしながら系列店にも引き込む仕組み、系列店から自分の店に引き込む仕組みも求められます。 そんな感じで、そのような物を与えられる業者を見つけられたのか？と言う部分がキモになるでしょうね。
time(数値)の数値は小数秒の桁の設定です。これは最大で６桁までですので８はエラーと成ります。
> INSERT INTO td VALUES ('SH002' , '消しゴム' , 50)； 最後のセミコロンが半角になってない
変える必要が有る場合は当然変える必要がありますが、頻繁に変わる場合は、変更履歴が必要な場合が有るので、開始日や終了日を付けて、追加して行く方法を取ります。
bigint ではなくint(32bit) っぽいですね。 int で表現できる最大値を超えてるのでしょう。 だとすると、この関数では使えないですね。 64bit版でも、同様のようです。
そのような機能は有りませんwhereで消さないレコードを省く(NOTで否定する)設定をして下さい。
REPLACE関数では空文字列を扱えないので、NULLIF関数の方が良さそうです。 http://dev.mysql.com/doc/refman/5.6/ja/control-flow-functions.html#... ``` mysql57> SELECT * FROM t1; +-----+------+ | num | val | +-----+------+ | 1 | one | | 2 | | +-----+------+ 2 rows in set (0.00 sec) mysql57> UPDATE t1 SET val = REPLACE(val, '', NULL); Query OK, 0 rows affected (0.00 sec) Rows matched: 2 Changed: 0 Warnings: 0 mysql57> SELECT * FROM t1; -- 置換されていない +-----+------+ | num | val | +-----+------+ | 1 | one | | 2 | | +-----+------+ 2 rows in set (0.00 sec) mysql57> UPDATE t1 SET val = NULLIF(val, ''); Query OK, 1 row affected (0.02 sec) Rows matched: 2 Changed: 1 Warnings: 0 mysql57> SELECT * FROM t1; +-----+------+ | num | val | +-----+------+ | 1 | one | | 2 | NULL | +-----+------+ 2 rows in set (0.00 sec) ``` NULLと空文字列は別のものです（MySQLだけではなく、SQLがそもそもそういう設計になっています） https://dev.mysql.com/doc/refman/5.6/ja/working-with-null.html
誰もが一度は引っかかるSQLの間違いだと思います。 結果から言いますと、上記のSQLの修正を行った場合結果が変更されてしまいます。 テーブル内に下記のデータが存在しているとします。 (カンマ区切りで記載するのでエクセルにでも貼り付けてみてください） --------------- テーブルA ID,DATA 1,○ 2,× 3,△ 4,□ テーブルB ID,START_DATE,END_DATE 1,20150325,20150325 2,20140325,20150325 3,20140325,20140325 --------------- 変更前のSQLの結果 1,○,1,20150325,20150325 2,×,2,20140325,20150325 3,△ 4,□ 変更後のSQLの結果 1,○,1,20150325,20150325 2,×,2,20140325,20150325 --------------- ここまで読むと「外部結合にしているのに、なんで内部結合になっているのか」 と思われるかもしれません。 SQLには実行される順番が決まっています。 Where句はJoin句よりも後にかかるのです。 書き換えたSQLの流れを書くとこのようになります。 ①左外部結合が実施 1,○,1,20150325,20150325 2,×,2,20140325,20150325 3,△,3,20140325,20140325 4,□ ②Where句が実行され、条件に合致しない3と４が削除 1,○,1,20150325,20150325 2,×,2,20140325,20150325 という訳です。 あと、これは質問者さんにたいするアドバイスなのですが、今回のケースってSQLのパフォーマンスを向上させたいと思って書き換えを考えているんですよね？ でしたら下記のキーワードについて調べてみると今後の役に立つかと思います。 ・実行計画 ・オプティマイザ ・統計情報 あと、SQLについてもっと理解を深めたいのであれば「ミック」さんの本を読むことをおすすめします。 達人に学ぶシリーズなどは質問者さんが挑戦するにはよい本だと思います。 それでは、お仕事頑張ってください。
MySQLなら select * from テーブル名 group by D, F, H だけでいいです。 ＃ただし（当然ですが）D, F, H が同じレコードが複数ある ＃ときに「どちら」が取り出されるかは不定
$stmt = $db->prepare("select name from test where name like ? or name like ?"); $stmt->execute(array('あ%' , 'ア%')); で、いいと思いますよ。未確認ですけど。 そういや今って array() って [] でいいんでしたっけ？
オナニーやりまくりが最善策ですよ。
後ろの2つは判らないのですが、 ``` unknown variable 'character-set-server=utf8' ``` `character-set-server`はmysqld用のオプションなので、mysqladminは解釈できません。mysqlやmysqladminが解釈するためのオプションは`default-character-set`です。 [client]セクション、[mysql]セクションの`character-set-server=utf8`を`default-character-set=utf8`に書き換えてあげてください。 http://dev.mysql.com/doc/refman/5.6/ja/server-options.html#option_m... http://dev.mysql.com/doc/refman/5.6/ja/mysqladmin.html#option_mysql...
pathの話は最近でもいくつか出てますので、見てください。 http://detail.chiebukuro.yahoo.co.jp/qa/question_detail/q1415050779... EXE自体をPATHに追加しているとか。 画面がちょっと見ずらいです。 画像を半分にして、横並びにできませんか？必要な部分のみ
このページの「テスト内容チェックリスト」からざっくりは確認できます。 http://education.oracle.com/pls/web_prod-plq-dad/db_pages.getpage?p... Bronze相当の試験は2014/3に廃止され、現在は存在しません。 http://education.oracle.com/pls/web_prod-plq-dad/db_pages.getpage?p...
mysqldの最後のdはデーモンを意味します。デーモンとはUNIX系OSではバックグラウンドプロセス（起動時に立ちあがって、色々な処理を実行するソフト、Windows系ではサービスと言います）を指し、mysqldはクライアントからmysqlに送られた来たSQL等を処理して結果をクライアントに返す処理を受け持っています。
MySQLではなくphpの問題ですね。 二つ目のwhileで一度最後のデータまで読んだあとでカーソル（内部ポインタ）を先頭に戻さないといけません。 while ($date = mysqli_fetch_array($quryset,MYSQL_BOTH)){ echo "<p>"; echo $date["genre"]; echo "</p>"; while ($date2 = mysqli_fetch_array($quryset2,MYSQL_BOTH)){ if ($date["genre"] == $date2["genre"]) { echo "<p>"; echo $date2["hinmoku"]; echo "</p>"; } } mysqli_data_seek($quryset2, 0); }
よく見ると、PATH の設定が間違っています。 PATH は、mysql.exe の置いてあるフォルダのパスまで書きます。 mysql.exe まで書いたのでエラーになっていると思います。
> 全て > character-set-server = utf8 が間違えです。 これは、 [mysqld] だけです。 他は、 default-character-set = utf8 です。
ちょっと、実行する場所を間違えてます。 プロンプトが、 mysql> なって、ないのではありませんか？ まず、 mysql を実行して mysql> のプロンプトを出してからやってください。 終わったら、\q です。
MacにMySQLをインストールしたい場合はHomebrewというツールを利用するのが主流です。Homebrewについて調べてみるといいですよ。わざわざ公式サイトからMySQLをダウンロードする必要もなく、Macに最適なMySQLを自動的にインストールしてくれます。 Linuxコマンドは、やりながら覚えていっても十分だと思います。MacもUNIXベースなのでLinuxと大体同じコマンドが使えます。コマンドによっては使えなかったりオプションが異なってたりしますが基本は同じと考えて問題ありません。
別名またはエイリアスと呼ばれるものです。 FROM my_items i は my_items テーブルに i という別名をつけています。 本来は FROM my_items AS i と書きますが AS は省略可能です。 c については… 引用されているSQLはあってますか？ SELECT i.item_name,SUM(c.count) FROM my_items i ,carts c where i.id=c.item_id GROUP BY c.item_id; となっていませんか？ 別名を使う理由は、 1.テーブル名を短い名前で参照することでSQLが少し読みやすくなる 2.SQLをコンパイルするときに文字列解析の計算量が減ってパフォーマンスがする（かもしれない） 3.同じテーブル同士を結合するときに、結合条件のカラムが左右どちらのテーブルの物かを明確にするために必要（テーブル名は同じなので、違う別名をつける） ですね。3 以外は絶対に別名が必要というわけではありません。
以下をおさえる勉強をしてはどうでしょう。 ファイルの入出力 スレッド GUI 組み合わせれば簡易なシステムは組めますよ。
画像では文字が見れませんので、SQL文を記述してください。
INTOの後とVALUESの後が対応できていば問題ないのです。INTO以下が無い場合はVALUES内はカラム名の指定順番に記入する必要があります。尚、システムを構築する場合はカラムの順番や数が増えてもエラーと成らないように必ずINTO以下も書くルールとされる事をお勧めします。
>if (email in ("a"),"OK","NG") in は()内のどれかの値と完全一致した場合が真です。 RTFM. https://dev.mysql.com/doc/refman/5.6/ja/comparison-operators.html#f... >"a"を含むレコード https://dev.mysql.com/doc/refman/5.6/ja/string-comparison-functions... （例） select if (email like '%a%', "OK", "NG"), name from friends3;
すでに指摘があるように配列が混在する場合には波括弧構文を使ってください。 http://www.php.net/manual/ja/language.types.string.php#language.typ... というか、こういうSQL文の組み立て方は「あり得ない」と思います。普通はPDOでプレースホルダを使って $sql = "INSERT INTO schedule(uid,subject) VALUES(:user, :subject)"; $stmt = $pdo->prepare($sql); $stmt->execute(array($user, $_POST['subject'])); とします（実際はbindValueで割り当ててexecuteの引数は空にする方が多い）。百歩譲ってネイティブなMySQL関数を使っているとしてもエスケープ（http://www.php.net/manual/ja/function.mysql-real-escape-string.php）は必須なので $sql = sprintf("INSERT INTO schedule(uid,subject) VALUES(%s, %s)", mysql_real_escape_string($user), mysql_real_escape_string($_POST['subject']) ); mysql_query($sql) or die('database error'); などとします。とはいえ非推奨（http://www.php.net/manual/ja/mysqlinfo.api.choosing.php）のMySQL関数を使っているなら早急にPDOで書き直してください。
これですか？ http://www.codeigniter.com/user_guide/database/query_builder.html#l...
mysql は 関数名と ( の間に空白入れるとエラーだったはず。
明示的にgroup_concat関数にoprder byを指定しなければ出現順です。 https://dev.mysql.com/doc/refman/5.6/ja/group-by-functions.html#fun...
言語は何でしょうか？ phpであれば（おそらくはほとんどの他言語でも）プレースホルダに日本語は使えません。ドライバが非対応です。 （蛇足） 普通はテーブル名や列名も（バグの元にならないように）可能な限り日本語は使いません。エンドユーザが直接目にすることもないですから。
>tidが重複する場合 >重複分を削除することで たとえば id text tid ad 2 a 1 b町 3 a 1 b町地内 や id text tid ad 4 b 2 b町 6 b 2 b町 で（id=3や6でなく）id=2や4を取得するのはどういう条件でしょうか。特に条件がない（任意のレコードでいい）なら select * from `テーブル名` where ad like '%b町%' group by tid; で得られます（手元の5.6.25で検証）。
> PHPでログインした際のパスワードを使っていた場合、 > ログインパスワードを忘れた場合MAILADDRESSは復元できなくなります。 そうなるのがセキュリティ上正しいと思います。 平文でパスワードを保持するとすれば、暗号化の意味はほとんどないと思います。 どうしても保持したいのであれば… (どうやっても安全性は落ちると思います) 1. あるパスワード(管理者が管理)で暗号化して保存しておいて、 必要になれば管理者がそのパスワードで元のパスワードを取り出す。 問題点 ・管理者のパスワードの漏洩や、管理者による不正によって、 全パスワードが漏洩するおそれがある。 2. ユーザのパスワードを2つ設ける。 1つ目のパスワード(データの暗号化用)を、 2つ目のパスワードで暗号化して保持する。 問題点 ・両方忘れてしまうとどうしようもならなくなる。 ・利用者は2つもパスワードを覚えておきたくない ・不正にデータを盗み出そうとする場合、どちらかのパスワードを当てればよいので、 1つだけパスワードを設定する場合より安全性に劣る ※2つ目のパスワードには、いわゆる「秘密の質問」を使う手もあるが、 (このやり方に関わらず)「秘密の質問」の選び方には 細心の注意を払う必要がある。 https://www.ipa.go.jp/security/txt/2015/07outline.html
文字コードセットが異なるととんでもない結果を返すからです。 たとえばUTF-8でつけられた日本語カラム名は、文字コードセットがUTF-8の環境では正しく動作しますが、EUC_JPやShift-JISでは正しく動作せず、文字化けの原因になったりします。 ～などの、文字コード変換時にマッピングエラーが起こりやすい文字がカラム名に使用されていると、さらに悲惨なことになります。 そのため、カラム名に日本語を使わないようにするのが普通です。
>データベースをインポートし、設定したのですが、エラーが出て 何をしようとしたときにエラーになるのでしょうか？接続しようとしているユーザはMySQLに登録済みですか？ユーザのホスト名（@の右側）も含めて確認してください。 （蛇足） >mysqlが起動しているかどうかnet start mysqlを実行すると net start はSQL文ではありませんので（mysqlコマンドを終了して）コマンドラインから実行してください（汗 というか、mysqlコマンドでログイン出来てshow variablesなどをチェック出来ているんですから、MySQLサーバは動いています。
>ポイントが返されない この表現では何が何やら・・・。当該ユーザマスタのポイントの列に加算処理が行われるハズなのに、加算されていないということでしょうか？ >特定のパソコンがPHPに影響してエラーを起こすというのは >考えられるのでしょうか｡ あり得ません。真っ当なアクセスで起こり得る可能性はゼロです。たとえセッションが切れることがあったとしても、その状態で注文に関する処理が行われてはいけません。 >注文履歴はあり､在庫もちゃんと減ります の状態で、同時に行われるべき処理が行われないのは「異常事態」ですから、エラーログなどを吐き出すようにプログラミングすべきです。 おそらくは結果の確認を端折っています。ユーザマスタのupdateを実行したときに処理した件数が（0件でなく）1件になっているかを確認していれば、そのタイミングで発覚します。処理を止めたくなければエラーログだけでも書き出しておけばいいですし、普通はトランザクションを使うのでロールバックします。
>root権限のHOSTアクセスをいじっていたら どういう作業をしていたのか。作業記録もなしで弄るのは復帰出来なくても困らない場合のみ。 >実行できません。 実行できないというだけでは状況がわからない。どういうメッセージが表示されるのか転記してください（当然ですが停止してから起動しているんですよね）。
http://search.yahoo.co.jp/search?p=MySQL%E3%80%80%E3%83%95%E3%82%A1...
